!function(){"use strict";const e={formSelector:".popup__form",inputSelector:".form__input",submitButtonSelector:".form__button",inactiveButtonClass:"form__button_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_visible"},t=document.querySelector(".popup__form_type_profile"),s=document.querySelector(".profile"),r=(s.querySelector(".profile__name"),s.querySelector(".profile__description"),s.querySelector(".profile__edit-button")),o=s.querySelector(".profile__add-button"),i=document.querySelector(".form"),n=i.querySelector(".form__input_type_profile-name"),a=i.querySelector(".form__input_type_profile-title"),c=document.querySelector(".popup__form_type_add-postcard"),l=(document.querySelector(".popup_type_add-postcard"),document.querySelector(".popup_type_image-ex"),document.querySelector(".postcards").querySelector(".postcards__list"),document.querySelector(".profile__image-overlay")),u=document.querySelector(".popup__form_type_avatar-update");class _{constructor(e,t,s,r){let{handleCardClick:o,handleRemoveCard:i,handleLikeCard:n}=s;this._name=e.name,this._link=e.link,this._userId=r,this._cardId=e._id,this._ownerId=e.owner._id,this._likes=e.likes,this._handleCardClick=o,this._handleRemoveCard=i,this._handleLikeCard=n,this._templatePostcardSelector=t}_getTemplate(){return document.querySelector(this._templatePostcardSelector).content.querySelector(".postcard").cloneNode(!0)}_setCardElements(){this._title=this._postcardListItem.querySelector(".postcard__title"),this._img=this._postcardListItem.querySelector(".postcard__image"),this._likeButton=this._postcardListItem.querySelector(".postcard__like-button"),this._likeButtonCounter=this._postcardListItem.querySelector(".postcard__like-counter"),this._removeButton=this._postcardListItem.querySelector(".postcard__remove-button")}_setLikesQuantity(){this._likeButtonCounter.textContent=this._likes.length}removeCard(){this._postcardListItem.remove(),this._postcardListItem=null}updateLikes(e){this._likes=e,this._renderLikes()}isLiked(){return this._likes.some((e=>e._id===this._userId))}_renderLikes(){this._setLikesQuantity(),this._setUserLikes()}_setUserLikes(){this.isLiked()?this._likeButton.classList.add("postcard__like-button_active"):this._likeButton.classList.remove("postcard__like-button_active")}_setEventListeners(){this._likeButton.addEventListener("click",(()=>this._handleLikeCard())),this._removeButton.addEventListener("click",(()=>{this._handleRemoveCard({id:this._cardId})})),this._img.addEventListener("click",(()=>{this._handleCardClick(this._name,this._link)}))}generateCard(){return this._postcardListItem=this._getTemplate(),this._setCardElements(),this._renderLikes(this._likes),this._title.textContent=this._name,this._img.src=this._link,this._img.alt="A colorful and magnificent view of ".concat(this._name),this._ownerId!==this._userId&&(this._removeButton.style.display="none"),this._setEventListeners(),this._postcardListItem}}function d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const h="popup_receptive";var p=class{constructor(e){d(this,"_handleEscClose",(e=>{"Escape"===e.key&&this.close()})),d(this,"_handleOverlayClose",(e=>{e.target.classList.contains("popup")&&this.close()})),this._popup=document.querySelector(e),this._closeButton=this._popup.querySelector(".popup__close-button"),this._setEventListeners()}open(){this._popup.classList.add(h),document.addEventListener("keydown",this._handleEscClose),document.addEventListener("mousedown",this._handleOverlayClose)}close(){this._popup.classList.remove(h),document.removeEventListener("keydown",this._handleEscClose),document.removeEventListener("mousedown",this._handleOverlayClose)}_setEventListeners(){this._closeButton.addEventListener("click",(()=>this.close()))}};class m extends p{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super(t),this._handleFormSubmit=s,this._form=this._popup.querySelector(".popup__form"),this._inputList=[...this._form.querySelectorAll(".form__input")],this._submitButton=this._form.querySelector(".form__button"),this._submitButtonText=this._submitButton.textContent,this._setEventListenersSubmit()}close(){super.close(),this._form.reset()}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}renderLoadingStatus(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._submitButton.textContent=e?t:this._submitButtonText}_setEventListenersSubmit(){this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}}function v(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var b=class{constructor(e,t){v(this,"_toggleButton",(()=>{this._hasValidInput()?this._disableSubmitButton():this._enableSubmitButton()})),v(this,"_setEventListeners",(()=>{const{inputSelector:e}=this._config;this._inputList=[...this._form.querySelectorAll(e)],this._toggleButton(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e,this._config),this._toggleButton()}))}))})),this._config=e,this._form=t,this._button=this._form.querySelector(this._config.submitButtonSelector)}_showInputError(e){const{inputErrorClass:t,errorClass:s}=this._config,r=e.validationMessage,o=this._form.querySelector(".".concat(e.id,"-error"));e.classList.add(t),o.textContent=r,o.classList.add(s)}_hideInputError(e){const{inputErrorClass:t,errorClass:s}=this._config,r=this._form.querySelector(".".concat(e.id,"-error"));e.classList.remove(t),r.textContent="",r.classList.remove(s)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasValidInput(){return this._inputList.some((e=>!e.validity.valid))}_enableSubmitButton(){const{inactiveButtonClass:e}=this._config;this._button.disabled=!1,this._button.classList.remove(e)}_disableSubmitButton(){const{inactiveButtonClass:e}=this._config;this._button.disabled=!0,this._button.classList.add(e)}resetValidation(){this._inputList.forEach((e=>{this._hideInputError(e)})),this._toggleButton()}enableValidation(){this._form.addEventListener("reset",(e=>{this._toggleButton()})),this._setEventListeners()}};const S=new b(e,t),f=new b(e,c),y=new b(e,u);S.enableValidation(),f.enableValidation(),y.enableValidation();const g=new class{constructor(e,t){this._baseUrl=e,this._headers=t}_processResponse(e){return e.ok?e.json():Promise.reject("An error just occurred: ".concat(e.status))}getInitialcards(){return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers}).then(this._processResponse)}getUserInfo(){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers}).then(this._processResponse)}setUserInfo(e){let{name:t,about:s}=e;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:s})}).then(this._processResponse)}setUserAvatar(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._processResponse)}addCard(e){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._processResponse)}removeCard(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._processResponse)}cardLike(e,t){const s=t?"DELETE":"PUT";return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:s,headers:this._headers}).then(this._processResponse)}}("https://around.nomoreparties.co/v1/cohort-3-en",{authorization:"7206ed33-5b05-44a8-9280-ab5ebd7021d1","Content-Type":"application/json"}),L=new class{constructor(e){let{userNameSelector:t,userJobSelector:s,userAvatarSelector:r}=e;this._userNameElement=document.querySelector(t),this._userJobElement=document.querySelector(s),this._userAvatarElement=document.querySelector(r)}getUserInfo(){return{userName:this._userNameElement.textContent,userJob:this._userJobElement.textContent}}getUserId(){return this._userId}setUserId(e){this._userId=e}setUserAvatar(e){this._userAvatarElement.src=e}setAvatarSight(){this._userAvatarElement.style.visibility="visible"}setUserInfo(e,t){this._userNameElement.textContent=e,this._userJobElement.textContent=t}}({userNameSelector:".profile__name",userJobSelector:".profile__description",userAvatarSelector:".profile__image"}),C=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}render(e){e.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}appendItem(e){this._container.append(e)}}({renderer:function(e){const t=E(e);C.appendItem(t)}},".postcards__list");function E(e){const t=new _(e,"#postcard-template",{handleCardClick:()=>{q.open(e.link,e.name)},handleRemoveCard:e=>{let{id:s}=e;B.open(),B.setSubmitAction((()=>{B.renderLoadingStatus(!0),g.removeCard(s).then((e=>{console.log("postcard is removed",e),t.removeCard(),console.log("postcard was removed by the server"),B.close()})).catch((e=>console.log(e))).finally((()=>B.renderLoadingStatus(!1)))}))},handleLikeCard:()=>g.cardLike(e._id,t.isLiked()).then((e=>t.updateLikes(e.likes))).catch((e=>console.log(e)))},L.getUserId());return t.generateCard()}Promise.all([g.getUserInfo(),g.getInitialcards()]).then((e=>{let[t,s]=e;L.setUserInfo(t.name,t.about),L.setUserAvatar(t.avatar),L.setUserId(t._id),C.render(s),L.setAvatarSight()})).catch((e=>console.log(e)));const k=new m({popupSelector:".popup_type_add-postcard",handleFormSubmit:e=>{k.renderLoadingStatus(!0,"Creating..."),g.addCard(e).then((e=>{const t=E(e);C.addItem(t),k.close()})).catch((e=>console.log(e))).finally((()=>k.renderLoadingStatus(!1)))}}),I=new m({popupSelector:".popup_type_edit-profile",handleFormSubmit:e=>{I.renderLoadingStatus(!0,"Saving..."),g.setUserInfo({name:e.username,about:e.userjob}).then((e=>{L.setUserInfo(e.name,e.about),I.close()})).catch((e=>console.log(e))).finally((()=>I.renderLoadingStatus(!1)))}}),q=new class extends p{constructor(e){super(e),this._popupImage=this._popup.querySelector(".popup__image"),this._popupCaption=this._popup.querySelector(".popup__caption")}open(e,t){this._popupImage.src=e,this._popupImage.alt="A colorful and magnificent view of ".concat(t),this._popupCaption.textContent=t,super.open()}}(".popup_type_image-ex"),B=new class extends p{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super(t),this._handleFormSubmit=s,this._submitButton=document.querySelector(".form__button_type_remove-postcard"),this._submitButtonText=this._submitButton.textContent,this._setEventListenersSubmit()}close(){super.close()}setSubmitAction(e){this._handleFormSubmit=e}renderLoadingStatus(e){this._submitButton.textContent=e?"Removing...":this._submitButtonText}_setEventListenersSubmit(){this._popup.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()}))}}({popupSelector:".popup_type_remove-postcard"}),U=new m({popupSelector:".popup_type_avatar-update",handleFormSubmit:e=>{U.renderLoadingStatus(!0,"Updating..."),g.setUserAvatar(e.link).then((e=>{U.close(),L.setUserAvatar(e.avatar)})).catch((e=>console.log(e))).finally((()=>U.renderLoadingStatus(!1)))}});r.addEventListener("click",(()=>{!function(){const{userName:e,userJob:t}=L.getUserInfo();n.value=e,a.value=t}(),S.resetValidation(),I.open()})),o.addEventListener("click",(()=>{k.open(),f.resetValidation()})),l.addEventListener("click",(()=>{U.open(),y.resetValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUduQnZFLEVBQWtCdUQsaUJBQWlCLFNBQVMsS0FDMUNrSSxFQUFZbEgsT0FDWjZDLEVBQXNCSixxQkFHeEIzRyxFQUFPa0QsaUJBQWlCLFNBQVMsS0FDL0IwSSxFQUFrQjFILE9BQ2xCOEMsRUFBb0JMLHFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy91dGlscy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBSZW1vdmVJbWFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICAgLS0tLS0tLSBUaGlzIE9iamVjdCBDb250YWlucyB0aGUgTmVjZXNzYXJ5IEVsZW1lbnRzOiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgKi9cclxuY29uc3QgY29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5mb3JtX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5mb3JtX19idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcImZvcm1fX2J1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJmb3JtX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJmb3JtX19pbnB1dC1lcnJvcl92aXNpYmxlXCIsXHJcbn07XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuLy8gUHJvZmlsZSBhbmQgSXRzIEVsZW1lbnRzOlxyXG5jb25zdCBwcm9maWxlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1fdHlwZV9wcm9maWxlXCIpO1xyXG5jb25zdCBwcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlXCIpO1xyXG5jb25zdCBwcm9maWxlTmFtZSA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xyXG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb24gPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuLy8gVGhlIFByb2ZpbGUgQnV0dG9uczpcclxuY29uc3QgZWRpdFByb2ZpbGVCdXR0b24gPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XHJcbmNvbnN0IGFkZFBvc3RjYXJkQnV0dG9uID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuLy8gRm9ybSBhbmQgSXRzIENvbXBvbmVudHM6XHJcbmNvbnN0IGNhcmRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xyXG5jb25zdCBpbnB1dENhcmROYW1lID0gY2FyZEZvcm0ucXVlcnlTZWxlY3RvcihcIi5mb3JtX19pbnB1dF90eXBlX3Byb2ZpbGUtbmFtZVwiKTtcclxuY29uc3QgaW5wdXRDYXJkVGl0bGUgPSBjYXJkRm9ybS5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLmZvcm1fX2lucHV0X3R5cGVfcHJvZmlsZS10aXRsZVwiXHJcbik7XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuY29uc3QgcG9zdGNhcmRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybV90eXBlX2FkZC1wb3N0Y2FyZFwiKTtcclxuXHJcbmNvbnN0IGFkZFBvc3RjYXJkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfYWRkLXBvc3RjYXJkXCIpO1xyXG5jb25zdCBpbWFnZUV4TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfaW1hZ2UtZXhcIik7XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuLy8gUG9zdGNhcmRzIGFuZCBUaGVpciBFbGVtZW50OlxyXG5jb25zdCBwb3N0Y2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvc3RjYXJkc1wiKTtcclxuY29uc3QgcG9zdGNhcmRzTGlzdCA9IHBvc3RjYXJkcy5xdWVyeVNlbGVjdG9yKFwiLnBvc3RjYXJkc19fbGlzdFwiKTtcclxuY29uc3QgdGVtcGxhdGVQb3N0Y2FyZFNlbGVjdG9yID0gXCIjcG9zdGNhcmQtdGVtcGxhdGVcIjtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbi8vIEF2YXRhclxyXG5jb25zdCBhdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlLW92ZXJsYXlcIik7XHJcbmNvbnN0IHVwZGF0ZUF2YXRhckZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLnBvcHVwX19mb3JtX3R5cGVfYXZhdGFyLXVwZGF0ZVwiXHJcbik7XHJcblxyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuLy8gQ29ubmVjdGluZyB0byBQcmFjdGljdW0ncyBBcGlcclxuY29uc3QgYmFzZVVybCA9IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtMy1lblwiO1xyXG5jb25zdCBoZWFkZXJzID0ge1xyXG4gIGF1dGhvcml6YXRpb246IFwiNzIwNmVkMzMtNWIwNS00NGE4LTkyODAtYWI1ZWJkNzAyMWQxXCIsXHJcbiAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbn07XHJcblxyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbmV4cG9ydCB7XHJcbiAgY29uZmlnLFxyXG4gIHByb2ZpbGVGb3JtLFxyXG4gIHByb2ZpbGUsXHJcbiAgcHJvZmlsZU5hbWUsXHJcbiAgcHJvZmlsZURlc2NyaXB0aW9uLFxyXG4gIGVkaXRQcm9maWxlQnV0dG9uLFxyXG4gIGFkZFBvc3RjYXJkQnV0dG9uLFxyXG4gIGlucHV0Q2FyZE5hbWUsXHJcbiAgaW5wdXRDYXJkVGl0bGUsXHJcbiAgcG9zdGNhcmRGb3JtLFxyXG4gIGFkZFBvc3RjYXJkTW9kYWwsXHJcbiAgaW1hZ2VFeE1vZGFsLFxyXG4gIHBvc3RjYXJkc0xpc3QsXHJcbiAgdGVtcGxhdGVQb3N0Y2FyZFNlbGVjdG9yLFxyXG4gIGF2YXRhcixcclxuICB1cGRhdGVBdmF0YXJGb3JtLFxyXG4gIGJhc2VVcmwsXHJcbiAgaGVhZGVycyxcclxufTtcclxuIiwiLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFBvc3RjYXJkIENsYXNzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGRhdGEsXHJcbiAgICB0ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3IsXHJcbiAgICB7IGhhbmRsZUNhcmRDbGljaywgaGFuZGxlUmVtb3ZlQ2FyZCwgaGFuZGxlTGlrZUNhcmQgfSxcclxuICAgIHVzZXJJZFxyXG4gICkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgICB0aGlzLl9jYXJkSWQgPSBkYXRhLl9pZDtcclxuICAgIHRoaXMuX293bmVySWQgPSBkYXRhLm93bmVyLl9pZDtcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZVJlbW92ZUNhcmQgPSBoYW5kbGVSZW1vdmVDYXJkO1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZUNhcmQgPSBoYW5kbGVMaWtlQ2FyZDtcclxuICAgIHRoaXMuX3RlbXBsYXRlUG9zdGNhcmRTZWxlY3RvciA9IHRlbXBsYXRlUG9zdGNhcmRTZWxlY3RvcjtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBNYXJrdXAgVGVtcGxhdGUg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgcG9zdGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVQb3N0Y2FyZFNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLnBvc3RjYXJkXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgcmV0dXJuIHBvc3RjYXJkRWxlbWVudDtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIFBvc3RjYXJkIGFuZCBpdHMgYXR0cmlidXRlc1xyXG4gIF9zZXRDYXJkRWxlbWVudHMoKSB7XHJcbiAgICB0aGlzLl90aXRsZSA9IHRoaXMuX3Bvc3RjYXJkTGlzdEl0ZW0ucXVlcnlTZWxlY3RvcihcIi5wb3N0Y2FyZF9fdGl0bGVcIik7XHJcbiAgICB0aGlzLl9pbWcgPSB0aGlzLl9wb3N0Y2FyZExpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoXCIucG9zdGNhcmRfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX3Bvc3RjYXJkTGlzdEl0ZW0ucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIucG9zdGNhcmRfX2xpa2UtYnV0dG9uXCJcclxuICAgICk7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uQ291bnRlciA9IHRoaXMuX3Bvc3RjYXJkTGlzdEl0ZW0ucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIucG9zdGNhcmRfX2xpa2UtY291bnRlclwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5fcmVtb3ZlQnV0dG9uID0gdGhpcy5fcG9zdGNhcmRMaXN0SXRlbS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5wb3N0Y2FyZF9fcmVtb3ZlLWJ1dHRvblwiXHJcbiAgICApO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8gU2hvd3MgdGhlIExpa2VzIFF1YW50aXR5XHJcbiAgX3NldExpa2VzUXVhbnRpdHkoKSB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBQb3N0Y2FyZCBSZW1vdmUgQnV0dG9uIEZ1bmN0aW9uIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIHJlbW92ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9wb3N0Y2FyZExpc3RJdGVtLnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fcG9zdGNhcmRMaXN0SXRlbSA9IG51bGw7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICB1cGRhdGVMaWtlcyhsaWtlcykge1xyXG4gICAgdGhpcy5fbGlrZXMgPSBsaWtlcztcclxuICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyBJdCByZXR1cm5zIFRydWUgaWYgdXNlciBsaWtlZCB0aGUgY2FyZCBvdGhlcndpc2UgRmFsc2VcclxuICBpc0xpa2VkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUoKGxpa2UpID0+IGxpa2UuX2lkID09PSB0aGlzLl91c2VySWQpO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgX3JlbmRlckxpa2VzKCkge1xyXG4gICAgdGhpcy5fc2V0TGlrZXNRdWFudGl0eSgpO1xyXG4gICAgdGhpcy5fc2V0VXNlckxpa2VzKCk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICBfc2V0VXNlckxpa2VzKCkge1xyXG4gICAgaWYgKHRoaXMuaXNMaWtlZCgpKSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcInBvc3RjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3N0Y2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIEV2ZW50IExpc3RlbmVycyBmb3IgdGhlIE5lY2Vzc2FyeSBmdW5jdGlvbnMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlTGlrZUNhcmQoKSk7XHJcblxyXG4gICAgdGhpcy5fcmVtb3ZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZVJlbW92ZUNhcmQoe1xyXG4gICAgICAgIGlkOiB0aGlzLl9jYXJkSWQsXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5faW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLyog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgICAgLS0tLS0tLS0tIEZ1bmN0aW9uIEZvciBQb3N0Y2FyZHMgUG9wdWxhdGVkIHdpdGggRGF0YTogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCAqL1xyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX3Bvc3RjYXJkTGlzdEl0ZW0gPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fc2V0Q2FyZEVsZW1lbnRzKCk7XHJcblxyXG4gICAgdGhpcy5fcmVuZGVyTGlrZXModGhpcy5fbGlrZXMpO1xyXG5cclxuICAgIHRoaXMuX3RpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2ltZy5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5faW1nLmFsdCA9IGBBIGNvbG9yZnVsIGFuZCBtYWduaWZpY2VudCB2aWV3IG9mICR7dGhpcy5fbmFtZX1gO1xyXG5cclxuICAgIGlmICh0aGlzLl9vd25lcklkICE9PSB0aGlzLl91c2VySWQpIHtcclxuICAgICAgdGhpcy5fcmVtb3ZlQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9wb3N0Y2FyZExpc3RJdGVtO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxufVxyXG4iLCJjb25zdCBwb3B1cElzT3BlbmVkQ2xhc3MgPSBcInBvcHVwX3JlY2VwdGl2ZVwiO1xyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUG9wdXAgQ2xhc3Mg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUE9QVVAgV2luZG93cyBDbG9zaW5nIGJ5IEVzYyBLZXkg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBQT1BVUCBXaW5kb3dzIENsb3NpbmcgZnJvbSB0aGUgT3ZlcmxheSDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBfaGFuZGxlT3ZlcmxheUNsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBcIikpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgLyog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgICAtLS0tLS0tLS0tLS0tLS0tLSBQT1BVUCBXaW5kb3dzIEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAtLS0tLS0tLS0tLS0tLS0tLS0gRXNjIENsb3NlIEV2ZW50IExpc3RlbmVyczogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCAqL1xyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKHBvcHVwSXNPcGVuZWRDbGFzcyk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX2hhbmRsZU92ZXJsYXlDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUocG9wdXBJc09wZW5lZENsYXNzKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5faGFuZGxlT3ZlcmxheUNsb3NlKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBDbG9zaW5nIFBvcHVwIEV2ZW50IExpc3RlbmVycyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5jbG9zZSgpKTtcclxuICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXA7XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFBvcHVwIFdpdGggRm9ybSBDbGFzcyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX19pbnB1dFwiKV07XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uVGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVyc1N1Ym1pdCgpO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSAIFJlc2V0cyBGb3JtIG9uY2UgdGhlIFBvcHVwIGlzIENsb3NlZCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIAgQ29sbGVjdHMgREFUQSBmcm9tIElucHV0IEZpZWxkcyBhbmQgUmV0dXJucyBpdCBhcyBhbiBPYmplY3Qg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIC8vIFNob3dzIHVzZXIgbG9hZGluZyB0ZXh0IHdoaWxlIHJlcXVlc3QgaXMgcGVuZGluZ1xyXG4gIHJlbmRlckxvYWRpbmdTdGF0dXMoaXNJdExvYWRpbmcsIGxvYWRUZXh0ID0gXCJTYXZpbmcuLi5cIikge1xyXG4gICAgaWYgKGlzSXRMb2FkaW5nKSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IGxvYWRUZXh0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fc3VibWl0QnV0dG9uVGV4dDtcclxuICAgIH1cclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8qIOKUgOKUgOKUgOKUgOKUgCBFdmVudCBMaXN0ZW5lcnMgd2l0aCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICAgICDilIDilIDilIDilIDilIAgRm9ybSBFdmVudCBIYW5kbGVyIGFuZCBDbG9zZSBpY29uIEV2ZW50IExpc3RlbmVyIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCAqL1xyXG4gIF9zZXRFdmVudExpc3RlbmVyc1N1Ym1pdCgpIHtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG59XHJcbiIsIi8qIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRk9STSBWQUxJREFUSU9OIENsYXNzOiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCAqL1xyXG5jbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm0pIHtcclxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcclxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xyXG4gICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICAvLyDilIDilIDilIDilIAgRElTUExBWUlORyB0aGUgRVJST1IgTUVTU0FHRSBGb3IgdGhlIE5lY2Vzc2FyeSBJTlBVVFM6IOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dCkge1xyXG4gICAgY29uc3QgeyBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQ2xhc3MgfSA9IHRoaXMuX2NvbmZpZztcclxuICAgIGNvbnN0IGVycm9yTXNnID0gaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZChpbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNc2c7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZChlcnJvckNsYXNzKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgCBDT05DRUFMSU5HIHRoZSBFUlJPUiBNRVNTQUdFIEZvciB0aGUgTmVjZXNzYXJ5IElOUFVUUzrilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXQpIHtcclxuICAgIGNvbnN0IHsgaW5wdXRFcnJvckNsYXNzLCBlcnJvckNsYXNzIH0gPSB0aGlzLl9jb25maWc7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZShpbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGVycm9yQ2xhc3MpO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIENIRUNLSU5HIElmIHRoZSBGb3JtIElzIFZBTElEOiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KSB7XHJcbiAgICBpZiAoIWlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KTtcclxuICAgIH1cclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgCBDSEVDS0lORyBJZiBBdCBMZWFzdCBPTkUgSW5wdXQgSXMgVkFMSUQ6IOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIF9oYXNWYWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgRE9NSU5BVElORyB0aGUgQnV0dG9uIEFDVElWSVRZOiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBfZW5hYmxlU3VibWl0QnV0dG9uKCkge1xyXG4gICAgY29uc3QgeyBpbmFjdGl2ZUJ1dHRvbkNsYXNzIH0gPSB0aGlzLl9jb25maWc7XHJcbiAgICB0aGlzLl9idXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKGluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2Rpc2FibGVTdWJtaXRCdXR0b24oKSB7XHJcbiAgICBjb25zdCB7IGluYWN0aXZlQnV0dG9uQ2xhc3MgfSA9IHRoaXMuX2NvbmZpZztcclxuICAgIHRoaXMuX2J1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB0aGlzLl9idXR0b24uY2xhc3NMaXN0LmFkZChpbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBNT0RJRlkgdGhlIEJ1dHRvbiBBY3Rpdml0eTog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgX3RvZ2dsZUJ1dHRvbiA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLl9oYXNWYWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5fZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZW5hYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLyog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgICAgLS0tLS0tLS0tLSBTZXR0aW5nIEVWRU5UIExJU1RFTkVSUyBGb3IgdGhlIE5lY2Vzc2FyeSBJTlBVVFM6IC0tLS0tLS0tLS0tLS0tLVxyXG4gICAgIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCAqL1xyXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgIGNvbnN0IHsgaW5wdXRTZWxlY3RvciB9ID0gdGhpcy5fY29uZmlnO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChpbnB1dFNlbGVjdG9yKV07XHJcblxyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQsIHRoaXMuX2NvbmZpZyk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIEFmdGVyIFN1Ym1pdHRpbmcsIHRoZSBGT1JNIFZBTElEQVRJT04gUkVTRVRTOiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b24oKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBFbmFibGVzIEZvcm0gVmFsaWRhdGlvbjog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInJlc2V0XCIsIChldnQpID0+IHtcclxuICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiOyAvLyBpbXBvcnQgb2YgdGhlIG1haW4gc3R5bGVzaGVldHMgZmlsZVxyXG5cclxuaW1wb3J0IHtcclxuICBjb25maWcsXHJcbiAgcHJvZmlsZUZvcm0sXHJcbiAgZWRpdFByb2ZpbGVCdXR0b24sXHJcbiAgYWRkUG9zdGNhcmRCdXR0b24sXHJcbiAgaW5wdXRDYXJkTmFtZSxcclxuICBpbnB1dENhcmRUaXRsZSxcclxuICBwb3N0Y2FyZEZvcm0sXHJcbiAgdGVtcGxhdGVQb3N0Y2FyZFNlbGVjdG9yLFxyXG4gIGF2YXRhcixcclxuICB1cGRhdGVBdmF0YXJGb3JtLFxyXG4gIGJhc2VVcmwsXHJcbiAgaGVhZGVycyxcclxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBQb3B1cFJlbW92ZUltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwUmVtb3ZlSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5cclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vdXRpbHMvQXBpLmpzXCI7XHJcblxyXG5jb25zdCBwcm9maWxlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgcHJvZmlsZUZvcm0pO1xyXG5jb25zdCBwb3N0Y2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIHBvc3RjYXJkRm9ybSk7XHJcbmNvbnN0IGF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIHVwZGF0ZUF2YXRhckZvcm0pO1xyXG5cclxucHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5wb3N0Y2FyZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5hdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKGJhc2VVcmwsIGhlYWRlcnMpO1xyXG5cclxuLy8gQW4gSW5zdGFudCBvZiBVc2VyIEluZm9cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gIHVzZXJOYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX25hbWVcIixcclxuICB1c2VySm9iU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIsXHJcbiAgdXNlckF2YXRhclNlbGVjdG9yOiBcIi5wcm9maWxlX19pbWFnZVwiLFxyXG59KTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgcmVuZGVyZXI6IHJlY2l0ZUNhcmQsXHJcbiAgfSxcclxuICBcIi5wb3N0Y2FyZHNfX2xpc3RcIlxyXG4pO1xyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbi8qIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gICAtLS0tLS0gSXQgdGFrZXMgYW4gaXRlcmFibGUgb2YgUHJvbWlzZXMgYXMgYW4gaW5wdXQsIGFuZCByZXR1cm5zIGEgLS0tLS0tLS0tXHJcbiAgIC0gc2luZ2xlIFByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgdG8gYW4gYXJyYXkgb2YgdGhlIGlucHV0IFByb21pc2VzIHJlc3VsdCAtLS1cclxuICAg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAICovXHJcblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxjYXJkcygpXSlcclxuICAudGhlbigoW3VzZXJEYXRhLCBjYXJkc0RhdGFdKSA9PiB7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YS5uYW1lLCB1c2VyRGF0YS5hYm91dCk7XHJcbiAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKHVzZXJEYXRhLmF2YXRhcik7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySWQodXNlckRhdGEuX2lkKTtcclxuICAgIGNhcmRMaXN0LnJlbmRlcihjYXJkc0RhdGEpO1xyXG4gICAgdXNlckluZm8uc2V0QXZhdGFyU2lnaHQoKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vLyDilIDilIDilIDilIDilIAgR2VuZXJhdGUgQ2FyZCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChkYXRhKSB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgZGF0YSxcclxuICAgIHRlbXBsYXRlUG9zdGNhcmRTZWxlY3RvcixcclxuICAgIHtcclxuICAgICAgaGFuZGxlQ2FyZENsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgaW1hZ2VQb3B1cC5vcGVuKGRhdGEubGluaywgZGF0YS5uYW1lKTtcclxuICAgICAgfSxcclxuICAgICAgaGFuZGxlUmVtb3ZlQ2FyZDogKHsgaWQgfSkgPT4ge1xyXG4gICAgICAgIHJlbW92ZUltYWdlUG9wdXAub3BlbigpO1xyXG5cclxuICAgICAgICByZW1vdmVJbWFnZVBvcHVwLnNldFN1Ym1pdEFjdGlvbigoKSA9PiB7XHJcbiAgICAgICAgICByZW1vdmVJbWFnZVBvcHVwLnJlbmRlckxvYWRpbmdTdGF0dXModHJ1ZSk7XHJcbiAgICAgICAgICBhcGlcclxuICAgICAgICAgICAgLnJlbW92ZUNhcmQoaWQpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInBvc3RjYXJkIGlzIHJlbW92ZWRcIiwgcmVzKTtcclxuICAgICAgICAgICAgICBjYXJkLnJlbW92ZUNhcmQoKTtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInBvc3RjYXJkIHdhcyByZW1vdmVkIGJ5IHRoZSBzZXJ2ZXJcIik7XHJcbiAgICAgICAgICAgICAgcmVtb3ZlSW1hZ2VQb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4gcmVtb3ZlSW1hZ2VQb3B1cC5yZW5kZXJMb2FkaW5nU3RhdHVzKGZhbHNlKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGhhbmRsZUxpa2VDYXJkOiAoKSA9PlxyXG4gICAgICAgIGFwaVxyXG4gICAgICAgICAgLmNhcmRMaWtlKGRhdGEuX2lkLCBjYXJkLmlzTGlrZWQoKSlcclxuICAgICAgICAgIC50aGVuKChyZXMpID0+IGNhcmQudXBkYXRlTGlrZXMocmVzLmxpa2VzKSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKSxcclxuICAgIH0sXHJcbiAgICB1c2VySW5mby5nZXRVc2VySWQoKVxyXG4gICk7XHJcbiAgcmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbn1cclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vLyBSZWNpdGluZyB0aGUgUG9zdGNhcmQgb24gdGhlIFBhZ2VcclxuZnVuY3Rpb24gcmVjaXRlQ2FyZChkYXRhKSB7XHJcbiAgY29uc3QgcG9zdGNhcmQgPSBjcmVhdGVDYXJkKGRhdGEpO1xyXG4gIGNhcmRMaXN0LmFwcGVuZEl0ZW0ocG9zdGNhcmQpO1xyXG59XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSAIEFkZCBQb3N0Y2FyZCBNb2RhbCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuY29uc3QgYWRkUG9zdGNhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIucG9wdXBfdHlwZV9hZGQtcG9zdGNhcmRcIixcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoZGF0YSkgPT4ge1xyXG4gICAgYWRkUG9zdGNhcmQucmVuZGVyTG9hZGluZ1N0YXR1cyh0cnVlLCBcIkNyZWF0aW5nLi4uXCIpO1xyXG4gICAgYXBpXHJcbiAgICAgIC5hZGRDYXJkKGRhdGEpXHJcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbmV3UG9zdGNhcmQgPSBjcmVhdGVDYXJkKGRhdGEpO1xyXG4gICAgICAgIGNhcmRMaXN0LmFkZEl0ZW0obmV3UG9zdGNhcmQpO1xyXG4gICAgICAgIGFkZFBvc3RjYXJkLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgICAuZmluYWxseSgoKSA9PiBhZGRQb3N0Y2FyZC5yZW5kZXJMb2FkaW5nU3RhdHVzKGZhbHNlKSk7XHJcbiAgfSxcclxufSk7XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuLy8g4pSA4pSA4pSA4pSA4pSAIEVkaXQgUHJvZmlsZSBNb2RhbCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuY29uc3QgZWRpdFByb2ZpbGVNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIi5wb3B1cF90eXBlX2VkaXQtcHJvZmlsZVwiLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XHJcbiAgICBlZGl0UHJvZmlsZU1vZGFsLnJlbmRlckxvYWRpbmdTdGF0dXModHJ1ZSwgXCJTYXZpbmcuLi5cIik7XHJcbiAgICBhcGlcclxuICAgICAgLnNldFVzZXJJbmZvKHsgbmFtZTogZGF0YS51c2VybmFtZSwgYWJvdXQ6IGRhdGEudXNlcmpvYiB9KVxyXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEubmFtZSwgZGF0YS5hYm91dCk7XHJcbiAgICAgICAgZWRpdFByb2ZpbGVNb2RhbC5jbG9zZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4gZWRpdFByb2ZpbGVNb2RhbC5yZW5kZXJMb2FkaW5nU3RhdHVzKGZhbHNlKSk7XHJcbiAgfSxcclxufSk7XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cF90eXBlX2ltYWdlLWV4XCIpO1xyXG5cclxuY29uc3QgcmVtb3ZlSW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFJlbW92ZUltYWdlKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIi5wb3B1cF90eXBlX3JlbW92ZS1wb3N0Y2FyZFwiLFxyXG59KTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbi8vIEF2YXRhciB1cGRhdGUgcG9wdXBcclxuY29uc3QgdXBkYXRlQXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIucG9wdXBfdHlwZV9hdmF0YXItdXBkYXRlXCIsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcclxuICAgIHVwZGF0ZUF2YXRhclBvcHVwLnJlbmRlckxvYWRpbmdTdGF0dXModHJ1ZSwgXCJVcGRhdGluZy4uLlwiKTtcclxuICAgIGFwaVxyXG4gICAgICAuc2V0VXNlckF2YXRhcihkYXRhLmxpbmspXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICB1cGRhdGVBdmF0YXJQb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIocmVzLmF2YXRhcik7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB1cGRhdGVBdmF0YXJQb3B1cC5yZW5kZXJMb2FkaW5nU3RhdHVzKGZhbHNlKSk7XHJcbiAgfSxcclxufSk7XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5mdW5jdGlvbiBmaWxsUHJvZmlsZUZvcm0oKSB7XHJcbiAgY29uc3QgeyB1c2VyTmFtZSwgdXNlckpvYiB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICBpbnB1dENhcmROYW1lLnZhbHVlID0gdXNlck5hbWU7XHJcbiAgaW5wdXRDYXJkVGl0bGUudmFsdWUgPSB1c2VySm9iO1xyXG59XHJcblxyXG4vKiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICAgLS0tLS0tLS0tLS0tLS0tLS0tLSBBZGRpbmcgdGhlIE5lY2Vzc2FyeSBFdmVudCBMaXN0ZW5lcnM6IC0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgKi9cclxuZWRpdFByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBmaWxsUHJvZmlsZUZvcm0oKTtcclxuICBwcm9maWxlRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxuICBlZGl0UHJvZmlsZU1vZGFsLm9wZW4oKTtcclxufSk7XHJcblxyXG5hZGRQb3N0Y2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGFkZFBvc3RjYXJkLm9wZW4oKTtcclxuICBwb3N0Y2FyZEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn0pO1xyXG5cclxuYXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgdXBkYXRlQXZhdGFyUG9wdXAub3BlbigpO1xyXG4gIGF2YXRhckZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn0pO1xyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3RvcihiYXNlVXJsLCBoZWFkZXJzKSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgX3Byb2Nlc3NSZXNwb25zZShyZXMpIHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEFuIGVycm9yIGp1c3Qgb2NjdXJyZWQ6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxjYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9wcm9jZXNzUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGFib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4odGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJBdmF0YXIobGluaykge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9wcm9jZXNzUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgYWRkQ2FyZChkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgfSkudGhlbih0aGlzLl9wcm9jZXNzUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGNhcmRMaWtlKGNhcmRJZCwgaXNJdExpa2VkKSB7XHJcbiAgICBjb25zdCBtZXRob2QgPSBpc0l0TGlrZWQgPyBcIkRFTEVURVwiIDogXCJQVVRcIjtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9wcm9jZXNzUmVzcG9uc2UpO1xyXG4gIH1cclxufVxyXG4iLCIvLyDilIDilIDilIDilIDilIDilIDilIDilIAgVXNlciBJbmZvIENsYXNzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyB1c2VyTmFtZVNlbGVjdG9yLCB1c2VySm9iU2VsZWN0b3IsIHVzZXJBdmF0YXJTZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fdXNlckpvYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJKb2JTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl91c2VyQXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckF2YXRhclNlbGVjdG9yKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgCBSZXR1cm5zIGFuIE9iamVjdCB3aXRoIFVzZXIgSW5mbyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHVzZXJOYW1lOiB0aGlzLl91c2VyTmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICAgIHVzZXJKb2I6IHRoaXMuX3VzZXJKb2JFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgfTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIGdldFVzZXJJZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl91c2VySWQ7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySWQodXNlcklkKSB7XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICBzZXRVc2VyQXZhdGFyKGF2YXRhcikge1xyXG4gICAgdGhpcy5fdXNlckF2YXRhckVsZW1lbnQuc3JjID0gYXZhdGFyO1xyXG4gIH1cclxuXHJcbiAgc2V0QXZhdGFyU2lnaHQoKSB7XHJcbiAgICB0aGlzLl91c2VyQXZhdGFyRWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIAgQWRkaW5nIE5ldyBVc2VyIERhdGEgdG8gUGFnZSDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBzZXRVc2VySW5mbyh1c2VyTmFtZSwgdXNlckpvYikge1xyXG4gICAgdGhpcy5fdXNlck5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gdXNlck5hbWU7XHJcbiAgICB0aGlzLl91c2VySm9iRWxlbWVudC50ZXh0Q29udGVudCA9IHVzZXJKb2I7XHJcbiAgfVxyXG59XHJcbiIsIi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBTZWN0aW9uIENsYXNzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUmVjaXRlIEVhY2ggRWxlbWVudCBvbiBQYWdlIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIHJlbmRlcihkYXRhKSB7XHJcbiAgICBkYXRhLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgCBBZGRpbmcgRE9NIGVsZW1lbnQgdG8gQ29udGFpbmVyIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBhcHBlbmRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFBvcHVwIEltYWdlIENsYXNzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX3BvcHVwQ2FwdGlvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NhcHRpb25cIik7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUG9wdXAgSW1hZ2UgRGF0YSDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBvcGVuKGxpbmssIG5hbWUpIHtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gbGluaztcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gYEEgY29sb3JmdWwgYW5kIG1hZ25pZmljZW50IHZpZXcgb2YgJHtuYW1lfWA7XHJcbiAgICB0aGlzLl9wb3B1cENhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgCBQb3B1cCBGb3IgUmVtb3ZlIFBvc3RjYXJkIENsYXNzcyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBSZW1vdmVJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLmZvcm1fX2J1dHRvbl90eXBlX3JlbW92ZS1wb3N0Y2FyZFwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uVGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzU3VibWl0KCk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICBzZXRTdWJtaXRBY3Rpb24oYWN0aW9uKSB7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gYWN0aW9uO1xyXG4gIH1cclxuXHJcbiAgLy8gU2hvd3MgdXNlciBsb2FkaW5nIHRleHQgd2hpbGUgcmVxdWVzdCBpcyBwZW5kaW5nXHJcbiAgcmVuZGVyTG9hZGluZ1N0YXR1cyhpc0l0TG9hZGluZykge1xyXG4gICAgaWYgKGlzSXRMb2FkaW5nKSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiUmVtb3ZpbmcuLi5cIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX3N1Ym1pdEJ1dHRvblRleHQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnNTdWJtaXQoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiY29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJwcm9maWxlRm9ybSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInByb2ZpbGUiLCJlZGl0UHJvZmlsZUJ1dHRvbiIsImFkZFBvc3RjYXJkQnV0dG9uIiwiY2FyZEZvcm0iLCJpbnB1dENhcmROYW1lIiwiaW5wdXRDYXJkVGl0bGUiLCJwb3N0Y2FyZEZvcm0iLCJhdmF0YXIiLCJ1cGRhdGVBdmF0YXJGb3JtIiwiQ2FyZCIsImNvbnN0cnVjdG9yIiwiZGF0YSIsInRlbXBsYXRlUG9zdGNhcmRTZWxlY3RvciIsInVzZXJJZCIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZVJlbW92ZUNhcmQiLCJoYW5kbGVMaWtlQ2FyZCIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfdXNlcklkIiwiX2NhcmRJZCIsIl9pZCIsIl9vd25lcklkIiwib3duZXIiLCJfbGlrZXMiLCJsaWtlcyIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlUmVtb3ZlQ2FyZCIsIl9oYW5kbGVMaWtlQ2FyZCIsIl90ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3IiLCJfZ2V0VGVtcGxhdGUiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX3NldENhcmRFbGVtZW50cyIsIl90aXRsZSIsIl9wb3N0Y2FyZExpc3RJdGVtIiwiX2ltZyIsIl9saWtlQnV0dG9uIiwiX2xpa2VCdXR0b25Db3VudGVyIiwiX3JlbW92ZUJ1dHRvbiIsIl9zZXRMaWtlc1F1YW50aXR5IiwidGV4dENvbnRlbnQiLCJsZW5ndGgiLCJyZW1vdmVDYXJkIiwicmVtb3ZlIiwidXBkYXRlTGlrZXMiLCJfcmVuZGVyTGlrZXMiLCJpc0xpa2VkIiwic29tZSIsImxpa2UiLCJfc2V0VXNlckxpa2VzIiwiY2xhc3NMaXN0IiwiYWRkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImlkIiwiZ2VuZXJhdGVDYXJkIiwic3JjIiwiYWx0Iiwic3R5bGUiLCJkaXNwbGF5IiwicG9wdXBJc09wZW5lZENsYXNzIiwicG9wdXBTZWxlY3RvciIsImV2dCIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJfcG9wdXAiLCJfY2xvc2VCdXR0b24iLCJvcGVuIiwiX2hhbmRsZUVzY0Nsb3NlIiwiX2hhbmRsZU92ZXJsYXlDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJQb3B1cFdpdGhGb3JtIiwiUG9wdXAiLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtIiwiX2lucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc3VibWl0QnV0dG9uIiwiX3N1Ym1pdEJ1dHRvblRleHQiLCJfc2V0RXZlbnRMaXN0ZW5lcnNTdWJtaXQiLCJyZXNldCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwiZm9yRWFjaCIsImlucHV0IiwidmFsdWUiLCJyZW5kZXJMb2FkaW5nU3RhdHVzIiwiaXNJdExvYWRpbmciLCJsb2FkVGV4dCIsInByZXZlbnREZWZhdWx0IiwiZm9ybSIsIl9oYXNWYWxpZElucHV0IiwiX2Rpc2FibGVTdWJtaXRCdXR0b24iLCJfZW5hYmxlU3VibWl0QnV0dG9uIiwiX2NvbmZpZyIsIl90b2dnbGVCdXR0b24iLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX2J1dHRvbiIsIl9zaG93SW5wdXRFcnJvciIsImVycm9yTXNnIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJfaGlkZUlucHV0RXJyb3IiLCJ2YWxpZGl0eSIsInZhbGlkIiwiZGlzYWJsZWQiLCJyZXNldFZhbGlkYXRpb24iLCJlbmFibGVWYWxpZGF0aW9uIiwicHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwicG9zdGNhcmRGb3JtVmFsaWRhdG9yIiwiYXZhdGFyRm9ybVZhbGlkYXRvciIsImFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsIl9wcm9jZXNzUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0SW5pdGlhbGNhcmRzIiwiZmV0Y2giLCJtZXRob2QiLCJ0aGVuIiwiZ2V0VXNlckluZm8iLCJzZXRVc2VySW5mbyIsImFib3V0IiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZXRVc2VyQXZhdGFyIiwiYWRkQ2FyZCIsImNhcmRJZCIsImNhcmRMaWtlIiwiaXNJdExpa2VkIiwiYXV0aG9yaXphdGlvbiIsInVzZXJJbmZvIiwidXNlck5hbWVTZWxlY3RvciIsInVzZXJKb2JTZWxlY3RvciIsInVzZXJBdmF0YXJTZWxlY3RvciIsIl91c2VyTmFtZUVsZW1lbnQiLCJfdXNlckpvYkVsZW1lbnQiLCJfdXNlckF2YXRhckVsZW1lbnQiLCJ1c2VyTmFtZSIsInVzZXJKb2IiLCJnZXRVc2VySWQiLCJzZXRVc2VySWQiLCJzZXRBdmF0YXJTaWdodCIsInZpc2liaWxpdHkiLCJjYXJkTGlzdCIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVyIiwiaXRlbSIsImFkZEl0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsImFwcGVuZEl0ZW0iLCJhcHBlbmQiLCJwb3N0Y2FyZCIsImNyZWF0ZUNhcmQiLCJjYXJkIiwiaW1hZ2VQb3B1cCIsInJlbW92ZUltYWdlUG9wdXAiLCJzZXRTdWJtaXRBY3Rpb24iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJmaW5hbGx5IiwiYWxsIiwidXNlckRhdGEiLCJjYXJkc0RhdGEiLCJhZGRQb3N0Y2FyZCIsIm5ld1Bvc3RjYXJkIiwiZWRpdFByb2ZpbGVNb2RhbCIsInVzZXJuYW1lIiwidXNlcmpvYiIsIl9wb3B1cEltYWdlIiwiX3BvcHVwQ2FwdGlvbiIsImFjdGlvbiIsInVwZGF0ZUF2YXRhclBvcHVwIiwiZmlsbFByb2ZpbGVGb3JtIl0sInNvdXJjZVJvb3QiOiIifQ==
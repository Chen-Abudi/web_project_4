!function(){"use strict";const t={formSelector:".popup__form",inputSelector:".form__input",submitButtonSelector:".form__button",inactiveButtonClass:"form__button_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_visible"},e=document.querySelector(".popup__form_type_profile"),s=document.querySelector(".profile"),r=(s.querySelector(".profile__name"),s.querySelector(".profile__description"),s.querySelector(".profile__edit-button")),o=s.querySelector(".profile__add-button"),i=document.querySelector(".form"),n=i.querySelector(".form__input_type_profile-name"),a=i.querySelector(".form__input_type_profile-title"),u=document.querySelector(".popup__form_type_add-postcard"),l=(document.querySelector(".popup_type_add-postcard"),document.querySelector(".popup_type_image-ex"),document.querySelector(".postcards").querySelector(".postcards__list"),document.querySelector(".profile__image-overlay")),c=document.querySelector(".popup__form_type_avatar-update");class _{constructor(t,e,s,r){let{handleCardClick:o,handleRemoveCard:i,handleLikeCard:n}=s;this._name=t.name,this._link=t.link,this._userId=r,this._cardId=t._id,this._ownerId=t.owner._id,this._likes=t.likes,this._handleCardClick=o,this._handleRemoveCard=i,this._handleLikeCard=n,this._templatePostcardSelector=e}_getTemplate(){return document.querySelector(this._templatePostcardSelector).content.querySelector(".postcard").cloneNode(!0)}_cardAttributes(){this._title=this._postcardListItem.querySelector(".postcard__title"),this._img=this._postcardListItem.querySelector(".postcard__image"),this._likeButton=this._postcardListItem.querySelector(".postcard__like-button"),this._likeButtonCounter=this._postcardListItem.querySelector(".postcard__like-counter"),this._removeButton=this._postcardListItem.querySelector(".postcard__remove-button")}_toggleLikeState(){this._handleLikeCard(this._cardId,this._likes.some((t=>t._id===this._userId))).then((t=>{this._likeButton.classList.toggle("postcard__like-button_active"),this._likes=t.likes,this._likeButtonCounter.textContent=this._likes.length})).catch((t=>console.log(t)))}_getLikesQuantity(){this._likeButtonCounter.textContent=this._likes.length}setRemoveCard(){this._postcardListItem.remove(),this._postcardListItem=null}_setUserLikes(){this._likes.some((t=>t._id===this._userId))&&this._likeButton.classList.add("postcard__like-button_active")}_setEventListeners(){this._likeButton.addEventListener("click",(()=>this._toggleLikeState())),this._removeButton.addEventListener("click",(()=>{this._handleRemoveCard({id:this._cardId})})),this._img.addEventListener("click",(()=>{this._handleCardClick(this._name,this._link)}))}generateCard(){return this._postcardListItem=this._getTemplate(),this._cardAttributes(),this._setUserLikes(),this._getLikesQuantity(),this._title.textContent=this._name,this._img.src=this._link,this._img.alt="A colorful and magnificent view of ".concat(this._name),this._ownerId!==this._userId&&(this._removeButton.style.display="none"),this._setEventListeners(),this._postcardListItem}}function d(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const h="popup_receptive";var p=class{constructor(t){d(this,"_handleEscClose",(t=>{"Escape"===t.key&&this.close()})),d(this,"_handleOverlayClose",(t=>{t.target.classList.contains("popup")&&this.close()})),this._popup=document.querySelector(t),this._closeButton=this._popup.querySelector(".popup__close-button"),this._setEventListeners()}open(){this._popup.classList.add(h),document.addEventListener("keydown",this._handleEscClose),document.addEventListener("mousedown",this._handleOverlayClose)}close(){this._popup.classList.remove(h),document.removeEventListener("keydown",this._handleEscClose),document.removeEventListener("mousedown",this._handleOverlayClose)}_setEventListeners(){this._closeButton.addEventListener("click",(()=>this.close()))}};class m extends p{constructor(t){let{popupSelector:e,handleFormSubmit:s}=t;super(e),this._handleFormSubmit=s,this._form=this._popup.querySelector(".popup__form"),this._inputList=[...this._form.querySelectorAll(".form__input")],this._submitButton=this._form.querySelector(".form__button"),this._submitButtonText=this._submitButton.textContent,this._setEventListenersSubmit()}close(){super.close(),this._form.reset()}_getInputValues(){const t={};return this._inputList.forEach((e=>{t[e.name]=e.value})),t}renderLoadingStatus(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._submitButton.textContent=t?e:this._submitButtonText}_setEventListenersSubmit(){this._form.addEventListener("submit",(t=>{t.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}}function b(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var v=class{constructor(t,e){b(this,"_toggleButton",(()=>{this._hasValidInput()?this._disableSubmitButton():this._enableSubmitButton()})),b(this,"_setEventListeners",(()=>{const{inputSelector:t}=this._config;this._inputList=[...this._form.querySelectorAll(t)],this._toggleButton(),this._inputList.forEach((t=>{t.addEventListener("input",(()=>{this._checkInputValidity(t,this._config),this._toggleButton()}))}))})),this._config=t,this._form=e,this._button=this._form.querySelector(this._config.submitButtonSelector)}_showInputError(t){const{inputErrorClass:e,errorClass:s}=this._config,r=t.validationMessage,o=this._form.querySelector(".".concat(t.id,"-error"));t.classList.add(e),o.textContent=r,o.classList.add(s)}_hideInputError(t){const{inputErrorClass:e,errorClass:s}=this._config,r=this._form.querySelector(".".concat(t.id,"-error"));t.classList.remove(e),r.textContent="",r.classList.remove(s)}_checkInputValidity(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}_hasValidInput(){return this._inputList.some((t=>!t.validity.valid))}_enableSubmitButton(){const{inactiveButtonClass:t}=this._config;this._button.disabled=!1,this._button.classList.remove(t)}_disableSubmitButton(){const{inactiveButtonClass:t}=this._config;this._button.disabled=!0,this._button.classList.add(t)}resetValidation(){this._inputList.forEach((t=>{this._hideInputError(t)})),this._toggleButton()}enableValidation(){this._form.addEventListener("reset",(t=>{this._toggleButton()})),this._setEventListeners()}};const S=new v(t,e),f=new v(t,u),g=new v(t,c);S.enableValidation(),f.enableValidation(),g.enableValidation();const y=new class{constructor(t,e){this._baseUrl=t,this._headers=e}_returnRes(t){return t.ok?t.json():Promise.reject("An error just occurred: ".concat(t.status))}getInitialcards(){return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers}).then((t=>this._returnRes(t)))}getUserInfo(){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers}).then((t=>this._returnRes(t)))}setUserInfo(t){let{name:e,about:s}=t;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:s})}).then((t=>this._returnRes(t)))}setUserAvatar(t){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then((t=>this._returnRes(t)))}addCard(t){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(t)}).then((t=>this._returnRes(t)))}removeCard(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then((t=>this._returnRes(t)))}cardLike(t,e){let s;return s=e?"DELETE":"PUT",fetch("".concat(this._baseUrl,"/cards/likes/").concat(t),{method:s,headers:this._headers}).then((t=>this._returnRes(t)))}}("https://around.nomoreparties.co/v1/cohort-3-en",{authorization:"7206ed33-5b05-44a8-9280-ab5ebd7021d1","Content-Type":"application/json"}),L=new class{constructor(t){let{userNameSelector:e,userJobSelector:s,userAvatarSelector:r}=t;this._userNameElement=document.querySelector(e),this._userJobElement=document.querySelector(s),this._userAvatarElement=document.querySelector(r)}getUserInfo(){return{userName:this._userNameElement.textContent,userJob:this._userJobElement.textContent}}getUserId(){return this._userId}setUserId(t){this._userId=t}setUserAvatar(t){this._userAvatarElement.src=t}setAvatarSight(){this._userAvatarElement.style.visibility="visible"}setUserInfo(t,e){this._userNameElement.textContent=t,this._userJobElement.textContent=e}}({userNameSelector:".profile__name",userJobSelector:".profile__description",userAvatarSelector:".profile__image"}),C=new class{constructor(t,e){let{renderer:s}=t;this._renderer=s,this._container=document.querySelector(e)}render(t){t.forEach((t=>{this._renderer(t)}))}addItem(t){this._container.prepend(t)}setItem(t){this._container.append(t)}}({renderer:function(t){const e=E(t);C.setItem(e)}},".postcards__list");function E(t){const e=new _(t,"#postcard-template",{handleCardClick:()=>{q.open(t.link,t.name)},handleRemoveCard:t=>{let{id:s}=t;B.open(),B.setSubmitAction((()=>{y.removeCard(s).then((t=>{console.log("postcard is removed",t),e.setRemoveCard()})).then((()=>{console.log("postcard was removed by the server"),B.close()})).catch((t=>console.log(t)))}))},handleLikeCard:(t,e)=>y.cardLike(t,e)},L.getUserId());return e.generateCard()}Promise.all([y.getUserInfo(),y.getInitialcards()]).then((t=>{let[e,s]=t;L.setUserInfo(e.name,e.about),L.setUserAvatar(e.avatar),L.setUserId(e._id),C.render(s)})).then((()=>L.setAvatarSight())).catch((t=>console.log(t)));const k=new m({popupSelector:".popup_type_add-postcard",handleFormSubmit:t=>{k.renderLoadingStatus(!0,"Creating..."),y.addCard(t).then((t=>{const e=E(t);C.addItem(e),k.close()})).catch((t=>console.log(t))).finally((()=>k.renderLoadingStatus(!1)))}}),I=new m({popupSelector:".popup_type_edit-profile",handleFormSubmit:t=>{I.renderLoadingStatus(!0,"Saving..."),y.setUserInfo({name:t.username,about:t.userjob}).then((t=>{L.setUserInfo(t.name,t.about),I.close()})).catch((t=>console.log(t))).finally((()=>I.renderLoadingStatus(!1)))}}),q=new class extends p{constructor(t){super(t),this._popupImage=this._popup.querySelector(".popup__image"),this._popupCaption=this._popup.querySelector(".popup__caption")}open(t,e){this._popupImage.src=t,this._popupImage.alt="A colorful and magnificent view of ".concat(e),this._popupCaption.textContent=e,super.open()}}(".popup_type_image-ex"),B=new class extends p{constructor(t){let{popupSelector:e,handleFormSubmit:s}=t;super(e),this._handleFormSubmit=s,this._submitButton=document.querySelector(".form__button_type_remove-postcard"),this._submitButtonText=this._submitButton.textContent,this._setEventListenersSubmit()}close(){super.close(),this._renderLoadingStatus(!1)}setSubmitAction(t){this._handleFormSubmit=t}_renderLoadingStatus(t){this._submitButton.textContent=t?"Removing...":this._submitButtonText}_setEventListenersSubmit(){this._popup.addEventListener("submit",(t=>{t.preventDefault(),this._renderLoadingStatus(!0),this._handleFormSubmit()}))}}({popupSelector:".popup_type_remove-postcard"}),U=new m({popupSelector:".popup_type_avatar-update",handleFormSubmit:t=>{U.renderLoadingStatus(!0,"Updating..."),y.setUserAvatar(t.link).then((t=>{U.close(),L.setUserAvatar(t.avatar)})).catch((t=>console.log(t))).finally((()=>U.renderLoadingStatus(!1)))}});r.addEventListener("click",(()=>{const{userName:t,userJob:e}=L.getUserInfo();n.value=t,a.value=e,S.resetValidation(),I.open()})),o.addEventListener("click",(()=>{k.open(),f.resetValidation()})),l.addEventListener("click",(()=>{U.open(),g.resetValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBR0EsTUFBTUEsRUFBUyxDQUNiQyxhQUFjLGVBQ2RDLGNBQWUsZUFDZkMscUJBQXNCLGdCQUN0QkMsb0JBQXFCLHdCQUNyQkMsZ0JBQWlCLHlCQUNqQkMsV0FBWSw2QkFLUkMsRUFBY0MsU0FBU0MsY0FBYyw2QkFDckNDLEVBQVVGLFNBQVNDLGNBQWMsWUFNakNFLEdBTGNELEVBQVFELGNBQWMsa0JBQ2ZDLEVBQVFELGNBQWMseUJBSXZCQyxFQUFRRCxjQUFjLDBCQUMxQ0csRUFBb0JGLEVBQVFELGNBQWMsd0JBSTFDSSxFQUFXTCxTQUFTQyxjQUFjLFNBQ2xDSyxFQUFnQkQsRUFBU0osY0FBYyxrQ0FDdkNNLEVBQWlCRixFQUFTSixjQUM5QixtQ0FJSU8sRUFBZVIsU0FBU0MsY0FBYyxrQ0FZdENRLEdBVm1CVCxTQUFTQyxjQUFjLDRCQUMzQkQsU0FBU0MsY0FBYyx3QkFJMUJELFNBQVNDLGNBQWMsY0FDVEEsY0FBYyxvQkFJL0JELFNBQVNDLGNBQWMsNEJBQ2hDUyxFQUFtQlYsU0FBU0MsY0FDaEMsbUNDNUNhLE1BQU1VLEVBQ25CQyxZQUNFQyxFQUNBQyxFQUZTLEVBSVRDLEdBQ0EsSUFGQSxnQkFBRUMsRUFBRixpQkFBbUJDLEVBQW5CLGVBQXFDQyxHQUVyQyxFQUNBQyxLQUFLQyxNQUFRUCxFQUFLUSxLQUNsQkYsS0FBS0csTUFBUVQsRUFBS1UsS0FDbEJKLEtBQUtLLFFBQVVULEVBQ2ZJLEtBQUtNLFFBQVVaLEVBQUthLElBQ3BCUCxLQUFLUSxTQUFXZCxFQUFLZSxNQUFNRixJQUMzQlAsS0FBS1UsT0FBU2hCLEVBQUtpQixNQUNuQlgsS0FBS1ksaUJBQW1CZixFQUN4QkcsS0FBS2Esa0JBQW9CZixFQUN6QkUsS0FBS2MsZ0JBQWtCZixFQUN2QkMsS0FBS2UsMEJBQTRCcEIsRUFLbkNxQixlQU1FLE9BTHdCbkMsU0FDckJDLGNBQWNrQixLQUFLZSwyQkFDbkJFLFFBQVFuQyxjQUFjLGFBQ3RCb0MsV0FBVSxHQU9mQyxrQkFDRW5CLEtBQUtvQixPQUFTcEIsS0FBS3FCLGtCQUFrQnZDLGNBQWMsb0JBQ25Ea0IsS0FBS3NCLEtBQU90QixLQUFLcUIsa0JBQWtCdkMsY0FBYyxvQkFDakRrQixLQUFLdUIsWUFBY3ZCLEtBQUtxQixrQkFBa0J2QyxjQUN4QywwQkFFRmtCLEtBQUt3QixtQkFBcUJ4QixLQUFLcUIsa0JBQWtCdkMsY0FDL0MsMkJBRUZrQixLQUFLeUIsY0FBZ0J6QixLQUFLcUIsa0JBQWtCdkMsY0FDMUMsNEJBTUo0QyxtQkFDRTFCLEtBQUtjLGdCQUNIZCxLQUFLTSxRQUNMTixLQUFLVSxPQUFPaUIsTUFBTUMsR0FBU0EsRUFBS3JCLE1BQVFQLEtBQUtLLFdBRTVDd0IsTUFBTUMsSUFDTDlCLEtBQUt1QixZQUFZUSxVQUFVQyxPQUFPLGdDQUNsQ2hDLEtBQUtVLE9BQVNvQixFQUFJbkIsTUFDbEJYLEtBQUt3QixtQkFBbUJTLFlBQWNqQyxLQUFLVSxPQUFPd0IsVUFFbkRDLE9BQU9DLEdBQVFDLFFBQVFDLElBQUlGLEtBS2hDRyxvQkFDRXZDLEtBQUt3QixtQkFBbUJTLFlBQWNqQyxLQUFLVSxPQUFPd0IsT0FXcERNLGdCQUNFeEMsS0FBS3FCLGtCQUFrQm9CLFNBQ3ZCekMsS0FBS3FCLGtCQUFvQixLQVUzQnFCLGdCQUNNMUMsS0FBS1UsT0FBT2lCLE1BQU1DLEdBQVNBLEVBQUtyQixNQUFRUCxLQUFLSyxXQUMvQ0wsS0FBS3VCLFlBQVlRLFVBQVVZLElBQUksZ0NBTW5DQyxxQkFDRTVDLEtBQUt1QixZQUFZc0IsaUJBQWlCLFNBQVMsSUFBTTdDLEtBQUswQixxQkFLdEQxQixLQUFLeUIsY0FBY29CLGlCQUFpQixTQUFTLEtBQzNDN0MsS0FBS2Esa0JBQWtCLENBQ3JCaUMsR0FBSTlDLEtBQUtNLGFBSWJOLEtBQUtzQixLQUFLdUIsaUJBQWlCLFNBQVMsS0FDbEM3QyxLQUFLWSxpQkFBaUJaLEtBQUtDLE1BQU9ELEtBQUtHLFVBUTNDNEMsZUFlRSxPQWRBL0MsS0FBS3FCLGtCQUFvQnJCLEtBQUtnQixlQUM5QmhCLEtBQUttQixrQkFDTG5CLEtBQUswQyxnQkFDTDFDLEtBQUt1QyxvQkFFTHZDLEtBQUtvQixPQUFPYSxZQUFjakMsS0FBS0MsTUFDL0JELEtBQUtzQixLQUFLMEIsSUFBTWhELEtBQUtHLE1BQ3JCSCxLQUFLc0IsS0FBSzJCLElBQVYsNkNBQXNEakQsS0FBS0MsT0FFM0RELEtBQUtRLFdBQWFSLEtBQUtLLFVBQ3BCTCxLQUFLeUIsY0FBY3lCLE1BQU1DLFFBQVUsUUFFdENuRCxLQUFLNEMscUJBRUU1QyxLQUFLcUIsbUIsd0hDdEloQixNQUFNK0IsRUFBcUIsa0JBNkMzQixNQTNDQSxNQUNFM0QsWUFBWTRELEdBQWUsMEJBUVJDLElBQ0QsV0FBWkEsRUFBSUMsS0FDTnZELEtBQUt3RCxXQVZrQiw4QkFlSkYsSUFDakJBLEVBQUlHLE9BQU8xQixVQUFVMkIsU0FBUyxVQUNoQzFELEtBQUt3RCxXQWhCUHhELEtBQUsyRCxPQUFTOUUsU0FBU0MsY0FBY3VFLEdBQ3JDckQsS0FBSzRELGFBQWU1RCxLQUFLMkQsT0FBTzdFLGNBQWMsd0JBQzlDa0IsS0FBSzRDLHFCQXFCUGlCLE9BQ0U3RCxLQUFLMkQsT0FBTzVCLFVBQVVZLElBQUlTLEdBQzFCdkUsU0FBU2dFLGlCQUFpQixVQUFXN0MsS0FBSzhELGlCQUMxQ2pGLFNBQVNnRSxpQkFBaUIsWUFBYTdDLEtBQUsrRCxxQkFHOUNQLFFBQ0V4RCxLQUFLMkQsT0FBTzVCLFVBQVVVLE9BQU9XLEdBQzdCdkUsU0FBU21GLG9CQUFvQixVQUFXaEUsS0FBSzhELGlCQUM3Q2pGLFNBQVNtRixvQkFBb0IsWUFBYWhFLEtBQUsrRCxxQkFLakRuQixxQkFDRTVDLEtBQUs0RCxhQUFhZixpQkFBaUIsU0FBUyxJQUFNN0MsS0FBS3dELFlDdkM1QyxNQUFNUyxVQUFzQkMsRUFDekN6RSxZQUFZLEdBQXFDLElBQXJDLGNBQUU0RCxFQUFGLGlCQUFpQmMsR0FBb0IsRUFDL0NDLE1BQU1mLEdBQ05yRCxLQUFLcUUsa0JBQW9CRixFQUN6Qm5FLEtBQUtzRSxNQUFRdEUsS0FBSzJELE9BQU83RSxjQUFjLGdCQUN2Q2tCLEtBQUt1RSxXQUFhLElBQUl2RSxLQUFLc0UsTUFBTUUsaUJBQWlCLGlCQUNsRHhFLEtBQUt5RSxjQUFnQnpFLEtBQUtzRSxNQUFNeEYsY0FBYyxpQkFDOUNrQixLQUFLMEUsa0JBQW9CMUUsS0FBS3lFLGNBQWN4QyxZQUU1Q2pDLEtBQUsyRSwyQkFLUG5CLFFBQ0VZLE1BQU1aLFFBQ054RCxLQUFLc0UsTUFBTU0sUUFLYkMsa0JBQ0UsTUFBTUMsRUFBYyxHQUlwQixPQUhBOUUsS0FBS3VFLFdBQVdRLFNBQVNDLElBQ3ZCRixFQUFZRSxFQUFNOUUsTUFBUThFLEVBQU1DLFNBRTNCSCxFQUlUSSxvQkFBb0JDLEdBQXFDLElBQXhCQyxFQUF3Qix1REFBYixZQUV4Q3BGLEtBQUt5RSxjQUFjeEMsWUFEakJrRCxFQUMrQkMsRUFFQXBGLEtBQUswRSxrQkFNMUNDLDJCQUdFM0UsS0FBS3NFLE1BQU16QixpQkFBaUIsVUFBV1MsSUFDckNBLEVBQUkrQixpQkFDSnJGLEtBQUtxRSxrQkFBa0JyRSxLQUFLNkUsdUIsd0hDZ0VsQyxNQTdHQSxNQUNFcEYsWUFBWXBCLEVBQVFpSCxHQUFNLHdCQTZEVixLQUVWdEYsS0FBS3VGLGlCQUNQdkYsS0FBS3dGLHVCQUVMeEYsS0FBS3lGLHlCQWxFaUIsNkJBMEVMLEtBQ25CLE1BQU0sY0FBRWxILEdBQWtCeUIsS0FBSzBGLFFBQy9CMUYsS0FBS3VFLFdBQWEsSUFBSXZFLEtBQUtzRSxNQUFNRSxpQkFBaUJqRyxJQUVsRHlCLEtBQUsyRixnQkFDTDNGLEtBQUt1RSxXQUFXUSxTQUFTQyxJQUN2QkEsRUFBTW5DLGlCQUFpQixTQUFTLEtBQzlCN0MsS0FBSzRGLG9CQUFvQlosRUFBT2hGLEtBQUswRixTQUNyQzFGLEtBQUsyRix5QkFqRlQzRixLQUFLMEYsUUFBVXJILEVBQ2YyQixLQUFLc0UsTUFBUWdCLEVBRWJ0RixLQUFLNkYsUUFBVTdGLEtBQUtzRSxNQUFNeEYsY0FBY2tCLEtBQUswRixRQUFRbEgsc0JBSXZEc0gsZ0JBQWdCZCxHQUNkLE1BQU0sZ0JBQUV0RyxFQUFGLFdBQW1CQyxHQUFlcUIsS0FBSzBGLFFBQ3ZDSyxFQUFXZixFQUFNZ0Isa0JBQ2pCQyxFQUFlakcsS0FBS3NFLE1BQU14RixjQUFYLFdBQTZCa0csRUFBTWxDLEdBQW5DLFdBQ3JCa0MsRUFBTWpELFVBQVVZLElBQUlqRSxHQUNwQnVILEVBQWFoRSxZQUFjOEQsRUFDM0JFLEVBQWFsRSxVQUFVWSxJQUFJaEUsR0FLN0J1SCxnQkFBZ0JsQixHQUNkLE1BQU0sZ0JBQUV0RyxFQUFGLFdBQW1CQyxHQUFlcUIsS0FBSzBGLFFBQ3ZDTyxFQUFlakcsS0FBS3NFLE1BQU14RixjQUFYLFdBQTZCa0csRUFBTWxDLEdBQW5DLFdBQ3JCa0MsRUFBTWpELFVBQVVVLE9BQU8vRCxHQUN2QnVILEVBQWFoRSxZQUFjLEdBQzNCZ0UsRUFBYWxFLFVBQVVVLE9BQU85RCxHQUtoQ2lILG9CQUFvQlosR0FDYkEsRUFBTW1CLFNBQVNDLE1BR2xCcEcsS0FBS2tHLGdCQUFnQmxCLEdBRnJCaEYsS0FBSzhGLGdCQUFnQmQsR0FRekJPLGlCQUNFLE9BQU92RixLQUFLdUUsV0FBVzVDLE1BQU1xRCxJQUNuQkEsRUFBTW1CLFNBQVNDLFFBTTNCWCxzQkFDRSxNQUFNLG9CQUFFaEgsR0FBd0J1QixLQUFLMEYsUUFDckMxRixLQUFLNkYsUUFBUVEsVUFBVyxFQUN4QnJHLEtBQUs2RixRQUFROUQsVUFBVVUsT0FBT2hFLEdBR2hDK0csdUJBQ0UsTUFBTSxvQkFBRS9HLEdBQXdCdUIsS0FBSzBGLFFBQ3JDMUYsS0FBSzZGLFFBQVFRLFVBQVcsRUFDeEJyRyxLQUFLNkYsUUFBUTlELFVBQVVZLElBQUlsRSxHQWlDN0I2SCxrQkFDRXRHLEtBQUt1RSxXQUFXUSxTQUFTQyxJQUN2QmhGLEtBQUtrRyxnQkFBZ0JsQixNQUV2QmhGLEtBQUsyRixnQkFLUFksbUJBQ0V2RyxLQUFLc0UsTUFBTXpCLGlCQUFpQixTQUFVUyxJQUNwQ3RELEtBQUsyRixtQkFHUDNGLEtBQUs0Qyx1QkM5RVQsTUFBTTRELEVBQXVCLElBQUlDLEVBQWNwSSxFQUFRTyxHQUNqRDhILEVBQXdCLElBQUlELEVBQWNwSSxFQUFRZ0IsR0FDbERzSCxFQUFzQixJQUFJRixFQUFjcEksRUFBUWtCLEdBRXREaUgsRUFBcUJELG1CQUNyQkcsRUFBc0JILG1CQUN0QkksRUFBb0JKLG1CQUdwQixNQUFNSyxFQUFNLElDdENHLE1BQ2JuSCxZQUFZb0gsRUFBU0MsR0FDbkI5RyxLQUFLK0csU0FBV0YsRUFDaEI3RyxLQUFLZ0gsU0FBV0YsRUFHbEJHLFdBQVduRixHQUNULE9BQUlBLEVBQUlvRixHQUNDcEYsRUFBSXFGLE9BS0pDLFFBQVFDLE9BQVIsa0NBQTBDdkYsRUFBSXdGLFNBSXpEQyxrQkFDRSxPQUFPQyxNQUFNLEdBQUQsT0FBSXhILEtBQUsrRyxTQUFULFVBQTJCLENBQ3JDVSxPQUFRLE1BQ1JYLFFBQVM5RyxLQUFLZ0gsV0FDYm5GLE1BQU1DLEdBQ0E5QixLQUFLaUgsV0FBV25GLEtBSTNCNEYsY0FDRSxPQUFPRixNQUFNLEdBQUQsT0FBSXhILEtBQUsrRyxTQUFULGFBQThCLENBQ3hDVSxPQUFRLE1BQ1JYLFFBQVM5RyxLQUFLZ0gsV0FDYm5GLE1BQU1DLEdBQ0E5QixLQUFLaUgsV0FBV25GLEtBSTNCNkYsWUFBWSxHQUFpQixJQUFqQixLQUFFekgsRUFBRixNQUFRMEgsR0FBUyxFQUMzQixPQUFPSixNQUFNLEdBQUQsT0FBSXhILEtBQUsrRyxTQUFULGFBQThCLENBQ3hDVSxPQUFRLFFBQ1JYLFFBQVM5RyxLQUFLZ0gsU0FDZGEsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQjdILEtBQU1BLEVBQ04wSCxNQUFPQSxNQUVSL0YsTUFBTUMsR0FDQTlCLEtBQUtpSCxXQUFXbkYsS0FJM0JrRyxjQUFjNUgsR0FDWixPQUFPb0gsTUFBTSxHQUFELE9BQUl4SCxLQUFLK0csU0FBVCxvQkFBcUMsQ0FDL0NVLE9BQVEsUUFDUlgsUUFBUzlHLEtBQUtnSCxTQUNkYSxLQUFNQyxLQUFLQyxVQUFVLENBQ25CekksT0FBUWMsTUFFVHlCLE1BQU1DLEdBQ0E5QixLQUFLaUgsV0FBV25GLEtBSTNCbUcsUUFBUXZJLEdBQ04sT0FBTzhILE1BQU0sR0FBRCxPQUFJeEgsS0FBSytHLFNBQVQsVUFBMkIsQ0FDckNVLE9BQVEsT0FDUlgsUUFBUzlHLEtBQUtnSCxTQUNkYSxLQUFNQyxLQUFLQyxVQUFVckksS0FDcEJtQyxNQUFNQyxHQUNBOUIsS0FBS2lILFdBQVduRixLQUkzQm9HLFdBQVdDLEdBQ1QsT0FBT1gsTUFBTSxHQUFELE9BQUl4SCxLQUFLK0csU0FBVCxrQkFBMkJvQixHQUFVLENBQy9DVixPQUFRLFNBQ1JYLFFBQVM5RyxLQUFLZ0gsV0FDYm5GLE1BQU1DLEdBQ0E5QixLQUFLaUgsV0FBV25GLEtBSTNCc0csU0FBU0QsRUFBUUUsR0FDZixJQUFJWixFQUVKLE9BRGFBLEVBQWJZLEVBQXNCLFNBQXNCLE1BQ3JDYixNQUFNLEdBQUQsT0FBSXhILEtBQUsrRyxTQUFULHdCQUFpQ29CLEdBQVUsQ0FDckRWLE9BQVFBLEVBQ1JYLFFBQVM5RyxLQUFLZ0gsV0FDYm5GLE1BQU1DLEdBQ0E5QixLQUFLaUgsV0FBV25GLE9ObENiLGlEQUNBLENBQ2R3RyxjQUFlLHVDQUNmLGVBQWdCLHFCS2RaQyxFQUFVLElFeENELE1BQ2I5SSxZQUFZLEdBQTJELElBQTNELGlCQUFFK0ksRUFBRixnQkFBb0JDLEVBQXBCLG1CQUFxQ0MsR0FBc0IsRUFDckUxSSxLQUFLMkksaUJBQW1COUosU0FBU0MsY0FBYzBKLEdBQy9DeEksS0FBSzRJLGdCQUFrQi9KLFNBQVNDLGNBQWMySixHQUM5Q3pJLEtBQUs2SSxtQkFBcUJoSyxTQUFTQyxjQUFjNEosR0FLbkRoQixjQUNFLE1BQU8sQ0FDTG9CLFNBQVU5SSxLQUFLMkksaUJBQWlCMUcsWUFDaEM4RyxRQUFTL0ksS0FBSzRJLGdCQUFnQjNHLGFBS2xDK0csWUFDRSxPQUFPaEosS0FBS0ssUUFHZDRJLFVBQVVySixHQUNSSSxLQUFLSyxRQUFVVCxFQUtqQm9JLGNBQWMxSSxHQUNaVSxLQUFLNkksbUJBQW1CN0YsSUFBTTFELEVBR2hDNEosaUJBQ0VsSixLQUFLNkksbUJBQW1CM0YsTUFBTWlHLFdBQWEsVUFLN0N4QixZQUFZeUIsRUFBVUMsR0FFcEJySixLQUFLMkksaUJBQWlCMUcsWUFBY21ILEVBQ3BDcEosS0FBSzRJLGdCQUFnQjNHLFlBQWNvSCxJRkFWLENBQzNCYixpQkFBa0IsaUJBQ2xCQyxnQkFBaUIsd0JBQ2pCQyxtQkFBb0Isb0JBdUJoQlksRUFBVyxJR2xFRixNQUNiN0osWUFBWSxFQUFjOEosR0FBbUIsSUFBakMsU0FBRUMsR0FBK0IsRUFFM0N4SixLQUFLeUosVUFBWUQsRUFDakJ4SixLQUFLMEosV0FBYTdLLFNBQVNDLGNBQWN5SyxHQUszQ0ksT0FBT2pLLEdBQ0xBLEVBQUtxRixTQUFTNkUsSUFDWjVKLEtBQUt5SixVQUFVRyxNQU1uQkMsUUFBUUMsR0FDTjlKLEtBQUswSixXQUFXSyxRQUFRRCxHQUcxQkUsUUFBUUYsR0FDTjlKLEtBQUswSixXQUFXTyxPQUFPSCxLSDZDekIsQ0FLRU4sU0E4REosU0FBb0I5SixHQUNsQixNQUFNd0ssRUFBV0MsRUFBV3pLLEdBQzVCNEosRUFBU1UsUUFBUUUsS0E5RGpCLG9CQXFCRixTQUFTQyxFQUFXekssR0FDbEIsTUFBTTBLLEVBQU8sSUFBSTVLLEVBQ2ZFLEVMeEQ2QixxQkswRDdCLENBQ0VHLGdCQUFpQixLQUNmd0ssRUFBV3hHLEtBQUtuRSxFQUFLVSxLQUFNVixFQUFLUSxPQUVsQ0osaUJBQWtCLElBQVksSUFBWCxHQUFFZ0QsR0FBUyxFQUM1QndILEVBQWlCekcsT0FFakJ5RyxFQUFpQkMsaUJBQWdCLEtBQy9CM0QsRUFDR3NCLFdBQVdwRixHQUNYakIsTUFBTUMsSUFDTE8sUUFBUUMsSUFBSSxzQkFBdUJSLEdBQ25Dc0ksRUFBSzVILG1CQUVOWCxNQUFLLEtBQ0pRLFFBQVFDLElBQUksc0NBQ1pnSSxFQUFpQjlHLFdBRWxCckIsT0FBT0MsR0FBUUMsUUFBUUMsSUFBSUYsU0FHbENyQyxlQUFnQixDQUFDb0ksRUFBUUUsSUFBY3pCLEVBQUl3QixTQUFTRCxFQUFRRSxJQUk5REUsRUFBUVMsYUFLVixPQUFPb0IsRUFBS3JILGVBOUNkcUUsUUFBUW9ELElBQUksQ0FBQzVELEVBQUljLGNBQWVkLEVBQUlXLG9CQUNqQzFGLE1BQUssSUFBMkIsSUFBekI0SSxFQUFVQyxHQUFlLEVBQy9CbkMsRUFBUVosWUFBWThDLEVBQVN2SyxLQUFNdUssRUFBUzdDLE9BQzVDVyxFQUFRUCxjQUFjeUMsRUFBU25MLFFBQy9CaUosRUFBUVUsVUFBVXdCLEVBQVNsSyxLQUMzQitJLEVBQVNLLE9BQU9lLE1BRWpCN0ksTUFBSyxJQUFNMEcsRUFBUVcsbUJBQ25CL0csT0FBT0MsR0FBUUMsUUFBUUMsSUFBSUYsS0FrRDlCLE1BQU11SSxFQUFjLElBQUkxRyxFQUFjLENBQ3BDWixjQUFlLDJCQUNmYyxpQkFBbUJ6RSxJQUNqQmlMLEVBQVl6RixxQkFBb0IsRUFBTSxlQUN0QzBCLEVBQ0dxQixRQUFRdkksR0FDUm1DLE1BQU1uQyxJQUNMLE1BQU1rTCxFQUFjVCxFQUFXekssR0FDL0I0SixFQUFTTyxRQUFRZSxHQUNqQkQsRUFBWW5ILFdBRWJyQixPQUFPQyxHQUFRQyxRQUFRQyxJQUFJRixLQUMzQnlJLFNBQVEsSUFBTUYsRUFBWXpGLHFCQUFvQixRQU8vQzRGLEVBQW1CLElBQUk3RyxFQUFjLENBQ3pDWixjQUFlLDJCQUNmYyxpQkFBbUJ6RSxJQUNqQm9MLEVBQWlCNUYscUJBQW9CLEVBQU0sYUFDM0MwQixFQUNHZSxZQUFZLENBQUV6SCxLQUFNUixFQUFLMEosU0FBVXhCLE1BQU9sSSxFQUFLMkosVUFDL0N4SCxNQUFNbkMsSUFDTDZJLEVBQVFaLFlBQVlqSSxFQUFLUSxLQUFNUixFQUFLa0ksT0FDcENrRCxFQUFpQnRILFdBRWxCckIsT0FBT0MsR0FBUUMsUUFBUUMsSUFBSUYsS0FDM0J5SSxTQUFRLElBQU1DLEVBQWlCNUYscUJBQW9CLFFBTXBEbUYsRUFBYSxJSS9LSixjQUE2Qm5HLEVBQzFDekUsWUFBWTRELEdBQ1ZlLE1BQU1mLEdBQ05yRCxLQUFLK0ssWUFBYy9LLEtBQUsyRCxPQUFPN0UsY0FBYyxpQkFDN0NrQixLQUFLZ0wsY0FBZ0JoTCxLQUFLMkQsT0FBTzdFLGNBQWMsbUJBS2pEK0UsS0FBS3pELEVBQU1GLEdBQ1RGLEtBQUsrSyxZQUFZL0gsSUFBTTVDLEVBQ3ZCSixLQUFLK0ssWUFBWTlILElBQWpCLDZDQUE2RC9DLEdBQzdERixLQUFLZ0wsY0FBYy9JLFlBQWMvQixFQUNqQ2tFLE1BQU1QLFNKa0s0Qix3QkFHaEN5RyxFQUFtQixJS2xMVixjQUErQnBHLEVBQzVDekUsWUFBWSxHQUFxQyxJQUFyQyxjQUFFNEQsRUFBRixpQkFBaUJjLEdBQW9CLEVBQy9DQyxNQUFNZixHQUNOckQsS0FBS3FFLGtCQUFvQkYsRUFDekJuRSxLQUFLeUUsY0FBZ0I1RixTQUFTQyxjQUM1QixzQ0FFRmtCLEtBQUswRSxrQkFBb0IxRSxLQUFLeUUsY0FBY3hDLFlBQzVDakMsS0FBSzJFLDJCQUdQbkIsUUFDRVksTUFBTVosUUFDTnhELEtBQUtpTCxzQkFBcUIsR0FHNUJWLGdCQUFnQlcsR0FDZGxMLEtBQUtxRSxrQkFBb0I2RyxFQUczQkQscUJBQXFCOUYsR0FFakJuRixLQUFLeUUsY0FBY3hDLFlBRGpCa0QsRUFDK0IsY0FFQW5GLEtBQUswRSxrQkFJMUNDLDJCQUVFM0UsS0FBSzJELE9BQU9kLGlCQUFpQixVQUFXUyxJQUN0Q0EsRUFBSStCLGlCQUNKckYsS0FBS2lMLHNCQUFxQixHQUUxQmpMLEtBQUtxRSx5QkxnSm1DLENBQzVDaEIsY0FBZSxnQ0FNWDhILEVBQW9CLElBQUlsSCxFQUFjLENBQzFDWixjQUFlLDRCQUNmYyxpQkFBbUJ6RSxJQUNqQnlMLEVBQWtCakcscUJBQW9CLEVBQU0sZUFDNUMwQixFQUNHb0IsY0FBY3RJLEVBQUtVLE1BQ25CeUIsTUFBTUMsSUFDTHFKLEVBQWtCM0gsUUFDbEIrRSxFQUFRUCxjQUFjbEcsRUFBSXhDLFdBRTNCNkMsT0FBT0MsR0FBUUMsUUFBUUMsSUFBSUYsS0FDM0J5SSxTQUFRLElBQU1NLEVBQWtCakcscUJBQW9CLFFBUzNEbEcsRUFBa0I2RCxpQkFBaUIsU0FBUyxLQUMxQyxNQUFNLFNBQUVpRyxFQUFGLFFBQVlDLEdBQVlSLEVBQVFiLGNBQ3RDdkksRUFBYzhGLE1BQVE2RCxFQUN0QjFKLEVBQWU2RixNQUFROEQsRUFFdkJ2QyxFQUFxQkYsa0JBQ3JCd0UsRUFBaUJqSCxVQUduQjVFLEVBQWtCNEQsaUJBQWlCLFNBQVMsS0FDMUM4SCxFQUFZOUcsT0FDWjZDLEVBQXNCSixxQkFLeEJoSCxFQUFPdUQsaUJBQWlCLFNBQVMsS0FDL0JzSSxFQUFrQnRILE9BQ2xCOEMsRUFBb0JMLHFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFJlbW92ZUltYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gICAtLS0tLS0tIFRoaXMgT2JqZWN0IENvbnRhaW5zIHRoZSBOZWNlc3NhcnkgRWxlbWVudHM6IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCAqL1xyXG5jb25zdCBjb25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLmZvcm1fX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLmZvcm1fX2J1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwiZm9ybV9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcImZvcm1fX2lucHV0LWVycm9yX3Zpc2libGVcIixcclxufTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vLyBQcm9maWxlIGFuZCBJdHMgRWxlbWVudHM6XHJcbmNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybV90eXBlX3Byb2ZpbGVcIik7XHJcbmNvbnN0IHByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVcIik7XHJcbmNvbnN0IHByb2ZpbGVOYW1lID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiKTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vLyBUaGUgUHJvZmlsZSBCdXR0b25zOlxyXG5jb25zdCBlZGl0UHJvZmlsZUJ1dHRvbiA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuY29uc3QgYWRkUG9zdGNhcmRCdXR0b24gPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vLyBGb3JtIGFuZCBJdHMgQ29tcG9uZW50czpcclxuY29uc3QgY2FyZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XHJcbmNvbnN0IGlucHV0Q2FyZE5hbWUgPSBjYXJkRm9ybS5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2lucHV0X3R5cGVfcHJvZmlsZS1uYW1lXCIpO1xyXG5jb25zdCBpbnB1dENhcmRUaXRsZSA9IGNhcmRGb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIuZm9ybV9faW5wdXRfdHlwZV9wcm9maWxlLXRpdGxlXCJcclxuKTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG5jb25zdCBwb3N0Y2FyZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX3R5cGVfYWRkLXBvc3RjYXJkXCIpO1xyXG5cclxuY29uc3QgYWRkUG9zdGNhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9hZGQtcG9zdGNhcmRcIik7XHJcbmNvbnN0IGltYWdlRXhNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9pbWFnZS1leFwiKTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vLyBQb3N0Y2FyZHMgYW5kIFRoZWlyIEVsZW1lbnQ6XHJcbmNvbnN0IHBvc3RjYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9zdGNhcmRzXCIpO1xyXG5jb25zdCBwb3N0Y2FyZHNMaXN0ID0gcG9zdGNhcmRzLnF1ZXJ5U2VsZWN0b3IoXCIucG9zdGNhcmRzX19saXN0XCIpO1xyXG5jb25zdCB0ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3IgPSBcIiNwb3N0Y2FyZC10ZW1wbGF0ZVwiO1xyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuLy8gQXZhdGFyXHJcbmNvbnN0IGF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2Utb3ZlcmxheVwiKTtcclxuY29uc3QgdXBkYXRlQXZhdGFyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucG9wdXBfX2Zvcm1fdHlwZV9hdmF0YXItdXBkYXRlXCJcclxuKTtcclxuXHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4vLyBDb25uZWN0aW5nIHRvIFByYWN0aWN1bSdzIEFwaVxyXG5jb25zdCBiYXNlVXJsID0gXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0zLWVuXCI7XHJcbmNvbnN0IGhlYWRlcnMgPSB7XHJcbiAgYXV0aG9yaXphdGlvbjogXCI3MjA2ZWQzMy01YjA1LTQ0YTgtOTI4MC1hYjVlYmQ3MDIxZDFcIixcclxuICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxufTtcclxuXHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuZXhwb3J0IHtcclxuICBjb25maWcsXHJcbiAgcHJvZmlsZUZvcm0sXHJcbiAgcHJvZmlsZSxcclxuICBwcm9maWxlTmFtZSxcclxuICBwcm9maWxlRGVzY3JpcHRpb24sXHJcbiAgZWRpdFByb2ZpbGVCdXR0b24sXHJcbiAgYWRkUG9zdGNhcmRCdXR0b24sXHJcbiAgaW5wdXRDYXJkTmFtZSxcclxuICBpbnB1dENhcmRUaXRsZSxcclxuICBwb3N0Y2FyZEZvcm0sXHJcbiAgYWRkUG9zdGNhcmRNb2RhbCxcclxuICBpbWFnZUV4TW9kYWwsXHJcbiAgcG9zdGNhcmRzTGlzdCxcclxuICB0ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3IsXHJcbiAgYXZhdGFyLFxyXG4gIHVwZGF0ZUF2YXRhckZvcm0sXHJcbiAgYmFzZVVybCxcclxuICBoZWFkZXJzLFxyXG59O1xyXG4iLCJpbXBvcnQgeyB0ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3IgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzXCI7XHJcblxyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUG9zdGNhcmQgQ2xhc3Mg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgZGF0YSxcclxuICAgIHRlbXBsYXRlUG9zdGNhcmRTZWxlY3RvcixcclxuICAgIHsgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVSZW1vdmVDYXJkLCBoYW5kbGVMaWtlQ2FyZCB9LFxyXG4gICAgdXNlcklkXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuICAgIHRoaXMuX2NhcmRJZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlUmVtb3ZlQ2FyZCA9IGhhbmRsZVJlbW92ZUNhcmQ7XHJcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2FyZCA9IGhhbmRsZUxpa2VDYXJkO1xyXG4gICAgdGhpcy5fdGVtcGxhdGVQb3N0Y2FyZFNlbGVjdG9yID0gdGVtcGxhdGVQb3N0Y2FyZFNlbGVjdG9yO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIE1hcmt1cCBUZW1wbGF0ZSDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBwb3N0Y2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9zdGNhcmRcIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICByZXR1cm4gcG9zdGNhcmRFbGVtZW50O1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8gUG9zdGNhcmQgYW5kIGl0cyBhdHRyaWJ1dGVzXHJcbiAgX2NhcmRBdHRyaWJ1dGVzKCkge1xyXG4gICAgdGhpcy5fdGl0bGUgPSB0aGlzLl9wb3N0Y2FyZExpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoXCIucG9zdGNhcmRfX3RpdGxlXCIpO1xyXG4gICAgdGhpcy5faW1nID0gdGhpcy5fcG9zdGNhcmRMaXN0SXRlbS5xdWVyeVNlbGVjdG9yKFwiLnBvc3RjYXJkX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9wb3N0Y2FyZExpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLnBvc3RjYXJkX19saWtlLWJ1dHRvblwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbkNvdW50ZXIgPSB0aGlzLl9wb3N0Y2FyZExpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLnBvc3RjYXJkX19saWtlLWNvdW50ZXJcIlxyXG4gICAgKTtcclxuICAgIHRoaXMuX3JlbW92ZUJ1dHRvbiA9IHRoaXMuX3Bvc3RjYXJkTGlzdEl0ZW0ucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIucG9zdGNhcmRfX3JlbW92ZS1idXR0b25cIlxyXG4gICAgKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIE1vZGlmeSB0aGUgTGlrZSBCdXR0b24gYWN0aXZpdHlcclxuICBfdG9nZ2xlTGlrZVN0YXRlKCkge1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZUNhcmQoXHJcbiAgICAgIHRoaXMuX2NhcmRJZCxcclxuICAgICAgdGhpcy5fbGlrZXMuc29tZSgobGlrZSkgPT4gbGlrZS5faWQgPT09IHRoaXMuX3VzZXJJZClcclxuICAgIClcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcInBvc3RjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICAgICAgdGhpcy5fbGlrZXMgPSByZXMubGlrZXM7XHJcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbkNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIFNob3dzIHRoZSBMaWtlcyBRdWFudGl0eVxyXG4gIF9nZXRMaWtlc1F1YW50aXR5KCkge1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbkNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUG9zdGNhcmQgUmVtb3ZlIEJ1dHRvbiBGdW5jdGlvbiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICAvLyBfaGFuZGxlUmVtb3ZlQnV0dG9uID0gKCkgPT4ge1xyXG4gIC8vICAgdGhpcy5fcG9zdGNhcmRMaXN0SXRlbS5yZW1vdmUoKTtcclxuICAvLyAgIHRoaXMuX3Bvc3RjYXJkTGlzdEl0ZW0gPSBudWxsO1xyXG4gIC8vIH07XHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBQb3N0Y2FyZCBSZW1vdmUgQnV0dG9uIEZ1bmN0aW9uIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIHNldFJlbW92ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9wb3N0Y2FyZExpc3RJdGVtLnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fcG9zdGNhcmRMaXN0SXRlbSA9IG51bGw7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUG9zdGNhcmQgTGlrZSBCdXR0b24gRnVuY3Rpb24g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgLy8gX2hhbmRsZUxpa2VCdXR0b24gPSAoZXZ0KSA9PiB7XHJcbiAgLy8gICBldnQudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoXCJwb3N0Y2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gIC8vIH07XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIF9zZXRVc2VyTGlrZXMoKSB7XHJcbiAgICBpZiAodGhpcy5fbGlrZXMuc29tZSgobGlrZSkgPT4gbGlrZS5faWQgPT09IHRoaXMuX3VzZXJJZCkpIHtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwicG9zdGNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICAgIH1cclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBFdmVudCBMaXN0ZW5lcnMgZm9yIHRoZSBOZWNlc3NhcnkgZnVuY3Rpb25zIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX3RvZ2dsZUxpa2VTdGF0ZSgpKTtcclxuXHJcbiAgICAvLyB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKTtcclxuICAgIC8vIHRoaXMuX3JlbW92ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlUmVtb3ZlQnV0dG9uKTtcclxuXHJcbiAgICB0aGlzLl9yZW1vdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlUmVtb3ZlQ2FyZCh7XHJcbiAgICAgICAgaWQ6IHRoaXMuX2NhcmRJZCxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9pbWcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvKiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICAgICAtLS0tLS0tLS0gRnVuY3Rpb24gRm9yIFBvc3RjYXJkcyBQb3B1bGF0ZWQgd2l0aCBEYXRhOiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAICovXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fcG9zdGNhcmRMaXN0SXRlbSA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9jYXJkQXR0cmlidXRlcygpO1xyXG4gICAgdGhpcy5fc2V0VXNlckxpa2VzKCk7XHJcbiAgICB0aGlzLl9nZXRMaWtlc1F1YW50aXR5KCk7XHJcblxyXG4gICAgdGhpcy5fdGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5faW1nLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9pbWcuYWx0ID0gYEEgY29sb3JmdWwgYW5kIG1hZ25pZmljZW50IHZpZXcgb2YgJHt0aGlzLl9uYW1lfWA7XHJcblxyXG4gICAgdGhpcy5fb3duZXJJZCAhPT0gdGhpcy5fdXNlcklkICYmXHJcbiAgICAgICh0aGlzLl9yZW1vdmVCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiKTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9wb3N0Y2FyZExpc3RJdGVtO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxufVxyXG4iLCJjb25zdCBwb3B1cElzT3BlbmVkQ2xhc3MgPSBcInBvcHVwX3JlY2VwdGl2ZVwiO1xyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUG9wdXAgQ2xhc3Mg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUE9QVVAgV2luZG93cyBDbG9zaW5nIGJ5IEVzYyBLZXkg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIF9oYW5kbGVPdmVybGF5Q2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cFwiKSkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuICAvKiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICAgIC0tLS0tLS0tLS0tLS0tLS0tIFBPUFVQIFdpbmRvd3MgRnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIC0tLS0tLS0tLS0tLS0tLS0tLSBFc2MgQ2xvc2UgRXZlbnQgTGlzdGVuZXJzOiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAICovXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQocG9wdXBJc09wZW5lZENsYXNzKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5faGFuZGxlT3ZlcmxheUNsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShwb3B1cElzT3BlbmVkQ2xhc3MpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xvc2UpO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIENsb3NpbmcgUG9wdXAgRXZlbnQgTGlzdGVuZXJzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLmNsb3NlKCkpO1xyXG4gIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cDtcclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUG9wdXAgV2l0aCBGb3JtIENsYXNzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0XCIpXTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcIi5mb3JtX19idXR0b25cIik7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25UZXh0ID0gdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xyXG5cclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzU3VibWl0KCk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIAgUmVzZXRzIEZvcm0gb25jZSB0aGUgUG9wdXAgaXMgQ2xvc2VkIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgCBDb2xsZWN0cyBEQVRBIGZyb20gSW5wdXQgRmllbGRzIGFuZCBSZXR1cm5zIGl0IGFzIGFuIE9iamVjdCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIHJlbmRlckxvYWRpbmdTdGF0dXMoaXNJdExvYWRpbmcsIGxvYWRUZXh0ID0gXCJTYXZpbmcuLi5cIikge1xyXG4gICAgaWYgKGlzSXRMb2FkaW5nKSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IGxvYWRUZXh0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fc3VibWl0QnV0dG9uVGV4dDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qIOKUgOKUgOKUgOKUgOKUgCBNb2RpZmllcyBpdHMgUGFyZW50IHdpdGgg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgICAg4pSA4pSA4pSA4pSA4pSAIEZvcm0gRXZlbnQgSGFuZGxlciBhbmQgQ2xvc2UgaWNvbiBFdmVudCBMaXN0ZW5lciDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgKi9cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnNTdWJtaXQoKSB7XHJcbiAgICAvLyBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG59XHJcbiIsIi8qIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRk9STSBWQUxJREFUSU9OIENsYXNzOiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCAqL1xyXG5jbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm0pIHtcclxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcclxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xyXG5cclxuICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSAIERJU1BMQVlJTkcgdGhlIEVSUk9SIE1FU1NBR0UgRm9yIHRoZSBOZWNlc3NhcnkgSU5QVVRTOiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXQpIHtcclxuICAgIGNvbnN0IHsgaW5wdXRFcnJvckNsYXNzLCBlcnJvckNsYXNzIH0gPSB0aGlzLl9jb25maWc7XHJcbiAgICBjb25zdCBlcnJvck1zZyA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTXNnO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIAgQ09OQ0VBTElORyB0aGUgRVJST1IgTUVTU0FHRSBGb3IgdGhlIE5lY2Vzc2FyeSBJTlBVVFM64pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0KSB7XHJcbiAgICBjb25zdCB7IGlucHV0RXJyb3JDbGFzcywgZXJyb3JDbGFzcyB9ID0gdGhpcy5fY29uZmlnO1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShlcnJvckNsYXNzKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBDSEVDS0lORyBJZiB0aGUgRm9ybSBJcyBWQUxJRDog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCkge1xyXG4gICAgaWYgKCFpbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIAgQ0hFQ0tJTkcgSWYgQXQgTGVhc3QgT05FIElucHV0IElzIFZBTElEOiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBfaGFzVmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIERPTUlOQVRJTkcgdGhlIEJ1dHRvbiBBQ1RJVklUWTog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgX2VuYWJsZVN1Ym1pdEJ1dHRvbigpIHtcclxuICAgIGNvbnN0IHsgaW5hY3RpdmVCdXR0b25DbGFzcyB9ID0gdGhpcy5fY29uZmlnO1xyXG4gICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLl9idXR0b24uY2xhc3NMaXN0LnJlbW92ZShpbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9kaXNhYmxlU3VibWl0QnV0dG9uKCkge1xyXG4gICAgY29uc3QgeyBpbmFjdGl2ZUJ1dHRvbkNsYXNzIH0gPSB0aGlzLl9jb25maWc7XHJcbiAgICB0aGlzLl9idXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgdGhpcy5fYnV0dG9uLmNsYXNzTGlzdC5hZGQoaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgTU9ESUZZIHRoZSBCdXR0b24gQWN0aXZpdHk6IOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIF90b2dnbGVCdXR0b24gPSAoKSA9PiB7XHJcbiAgICAvLyB0aGlzLl9idXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgIGlmICh0aGlzLl9oYXNWYWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5fZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZW5hYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLyog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgICAgLS0tLS0tLS0tLSBTZXR0aW5nIEVWRU5UIExJU1RFTkVSUyBGb3IgdGhlIE5lY2Vzc2FyeSBJTlBVVFM6IC0tLS0tLS0tLS0tLS0tLVxyXG4gICAgIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCAqL1xyXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgIGNvbnN0IHsgaW5wdXRTZWxlY3RvciB9ID0gdGhpcy5fY29uZmlnO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChpbnB1dFNlbGVjdG9yKV07XHJcblxyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQsIHRoaXMuX2NvbmZpZyk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIEFmdGVyIFN1Ym1pdHRpbmcsIHRoZSBGT1JNIFZBTElEQVRJT04gUkVTRVRTOiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b24oKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBFbmFibGVzIEZvcm0gVmFsaWRhdGlvbjog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInJlc2V0XCIsIChldnQpID0+IHtcclxuICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjtcclxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjsgLy8gaW1wb3J0IG9mIHRoZSBtYWluIHN0eWxlc2hlZXRzIGZpbGVcclxuXHJcbmltcG9ydCB7XHJcbiAgY29uZmlnLFxyXG4gIHByb2ZpbGVGb3JtLFxyXG4gIGVkaXRQcm9maWxlQnV0dG9uLFxyXG4gIGFkZFBvc3RjYXJkQnV0dG9uLFxyXG4gIGlucHV0Q2FyZE5hbWUsXHJcbiAgaW5wdXRDYXJkVGl0bGUsXHJcbiAgcG9zdGNhcmRGb3JtLFxyXG4gIHRlbXBsYXRlUG9zdGNhcmRTZWxlY3RvcixcclxuICBhdmF0YXIsXHJcbiAgdXBkYXRlQXZhdGFyRm9ybSxcclxuICBiYXNlVXJsLFxyXG4gIGhlYWRlcnMsXHJcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5cclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgUG9wdXBSZW1vdmVJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFJlbW92ZUltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuXHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcblxyXG5pbXBvcnQgYWxsUG9zdGNhcmRzIGZyb20gXCIuLi91dGlscy9hbGxQb3N0Y2FyZHMuanNcIjtcclxuXHJcbmNvbnN0IHByb2ZpbGVGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBwcm9maWxlRm9ybSk7XHJcbmNvbnN0IHBvc3RjYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgcG9zdGNhcmRGb3JtKTtcclxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgdXBkYXRlQXZhdGFyRm9ybSk7XHJcblxyXG5wcm9maWxlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbnBvc3RjYXJkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoYmFzZVVybCwgaGVhZGVycyk7XHJcblxyXG4vLyBBbiBJbnN0YW50IG9mIFVzZXIgSW5mb1xyXG5jb25zdCBuZXdVc2VyID0gbmV3IFVzZXJJbmZvKHtcclxuICB1c2VyTmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX19uYW1lXCIsXHJcbiAgdXNlckpvYlNlbGVjdG9yOiBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxyXG4gIHVzZXJBdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9faW1hZ2VcIixcclxufSk7XHJcblxyXG4vLyBhcGkuZ2V0VXNlckluZm8oKS50aGVuKChyZXMpID0+IHtcclxuLy8gICBuZXdVc2VyLnNldFVzZXJJbmZvKHJlcy5uYW1lLCByZXMuYWJvdXQpO1xyXG4vLyAgIG5ld1VzZXIuc2V0VXNlckF2YXRhcihyZXMuYXZhdGFyKTtcclxuLy8gICBuZXdVc2VyLnNldFVzZXJJZChyZXMuX2lkKTtcclxuLy8gfSk7XHJcblxyXG4vLyBhcGkuZ2V0SW5pdGlhbGNhcmRzKCkudGhlbigoKSA9PiB7XHJcbi8vICAgY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbihcclxuLy8gICAgIHtcclxuLy8gICAgICAgLy8gZGF0YTogcmVzLFxyXG4vLyAgICAgICByZW5kZXJlcjogKGRhdGEpID0+IHtcclxuLy8gICAgICAgICBjb25zdCBwb3N0Y2FyZCA9IGNyZWF0ZUNhcmQoZGF0YSk7XHJcbi8vICAgICAgICAgY2FyZExpc3Quc2V0SXRlbShwb3N0Y2FyZCk7XHJcbi8vICAgICAgIH0sXHJcbi8vICAgICB9LFxyXG4vLyAgICAgXCIucG9zdGNhcmRzX19saXN0XCJcclxuLy8gICApO1xyXG4vLyAgIGNhcmRMaXN0LnJlbmRlcigpO1xyXG4vLyB9KTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgLy8gcmVuZGVyZXI6IChkYXRhKSA9PiB7XHJcbiAgICAvLyAgIGNvbnN0IHBvc3RjYXJkID0gY3JlYXRlQ2FyZChkYXRhKTtcclxuICAgIC8vICAgY2FyZExpc3Quc2V0SXRlbShwb3N0Y2FyZCk7XHJcbiAgICAvLyB9LFxyXG4gICAgcmVuZGVyZXI6IHJlY2l0ZUNhcmQsXHJcbiAgfSxcclxuICBcIi5wb3N0Y2FyZHNfX2xpc3RcIlxyXG4pO1xyXG4vLyBjYXJkTGlzdC5yZW5kZXIoKTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vKiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICAgLS0tLS0tIEl0IHRha2VzIGFuIGl0ZXJhYmxlIG9mIFByb21pc2VzIGFzIGFuIGlucHV0LCBhbmQgcmV0dXJucyBhIC0tLS0tLS0tLVxyXG4gICAtIHNpbmdsZSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHRvIGFuIGFycmF5IG9mIHRoZSBpbnB1dCBQcm9taXNlcyByZXN1bHQgLS0tXHJcbiAgIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCAqL1xyXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRJbml0aWFsY2FyZHMoKV0pXHJcbiAgLnRoZW4oKFt1c2VyRGF0YSwgY2FyZHNEYXRhXSkgPT4ge1xyXG4gICAgbmV3VXNlci5zZXRVc2VySW5mbyh1c2VyRGF0YS5uYW1lLCB1c2VyRGF0YS5hYm91dCk7XHJcbiAgICBuZXdVc2VyLnNldFVzZXJBdmF0YXIodXNlckRhdGEuYXZhdGFyKTtcclxuICAgIG5ld1VzZXIuc2V0VXNlcklkKHVzZXJEYXRhLl9pZCk7XHJcbiAgICBjYXJkTGlzdC5yZW5kZXIoY2FyZHNEYXRhKTtcclxuICB9KVxyXG4gIC50aGVuKCgpID0+IG5ld1VzZXIuc2V0QXZhdGFyU2lnaHQoKSlcclxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuLy8g4pSA4pSA4pSA4pSA4pSAIEdlbmVyYXRlIENhcmQg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSkge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgIGRhdGEsXHJcbiAgICB0ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3IsXHJcbiAgICB7XHJcbiAgICAgIGhhbmRsZUNhcmRDbGljazogKCkgPT4ge1xyXG4gICAgICAgIGltYWdlUG9wdXAub3BlbihkYXRhLmxpbmssIGRhdGEubmFtZSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGhhbmRsZVJlbW92ZUNhcmQ6ICh7IGlkIH0pID0+IHtcclxuICAgICAgICByZW1vdmVJbWFnZVBvcHVwLm9wZW4oKTtcclxuXHJcbiAgICAgICAgcmVtb3ZlSW1hZ2VQb3B1cC5zZXRTdWJtaXRBY3Rpb24oKCkgPT4ge1xyXG4gICAgICAgICAgYXBpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDYXJkKGlkKVxyXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJwb3N0Y2FyZCBpcyByZW1vdmVkXCIsIHJlcyk7XHJcbiAgICAgICAgICAgICAgY2FyZC5zZXRSZW1vdmVDYXJkKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInBvc3RjYXJkIHdhcyByZW1vdmVkIGJ5IHRoZSBzZXJ2ZXJcIik7XHJcbiAgICAgICAgICAgICAgcmVtb3ZlSW1hZ2VQb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGhhbmRsZUxpa2VDYXJkOiAoY2FyZElkLCBpc0l0TGlrZWQpID0+IGFwaS5jYXJkTGlrZShjYXJkSWQsIGlzSXRMaWtlZCksXHJcblxyXG4gICAgICAvLyBoYW5kbGVMaWtlQ2FyZDogKCkgPT4ge30sXHJcbiAgICB9LFxyXG4gICAgbmV3VXNlci5nZXRVc2VySWQoKVxyXG4gICk7XHJcbiAgLy8gY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG5cclxuICAvLyByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgcmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbn1cclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vLyBSZWNpdGluZyB0aGUgUG9zdGNhcmQgb24gdGhlIFBhZ2VcclxuZnVuY3Rpb24gcmVjaXRlQ2FyZChkYXRhKSB7XHJcbiAgY29uc3QgcG9zdGNhcmQgPSBjcmVhdGVDYXJkKGRhdGEpO1xyXG4gIGNhcmRMaXN0LnNldEl0ZW0ocG9zdGNhcmQpO1xyXG59XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSAIEFkZCBQb3N0Y2FyZCBNb2RhbCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuY29uc3QgYWRkUG9zdGNhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIucG9wdXBfdHlwZV9hZGQtcG9zdGNhcmRcIixcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoZGF0YSkgPT4ge1xyXG4gICAgYWRkUG9zdGNhcmQucmVuZGVyTG9hZGluZ1N0YXR1cyh0cnVlLCBcIkNyZWF0aW5nLi4uXCIpO1xyXG4gICAgYXBpXHJcbiAgICAgIC5hZGRDYXJkKGRhdGEpXHJcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbmV3UG9zdGNhcmQgPSBjcmVhdGVDYXJkKGRhdGEpO1xyXG4gICAgICAgIGNhcmRMaXN0LmFkZEl0ZW0obmV3UG9zdGNhcmQpO1xyXG4gICAgICAgIGFkZFBvc3RjYXJkLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgICAuZmluYWxseSgoKSA9PiBhZGRQb3N0Y2FyZC5yZW5kZXJMb2FkaW5nU3RhdHVzKGZhbHNlKSk7XHJcbiAgfSxcclxufSk7XHJcbi8vIGFkZFBvc3RjYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuLy8g4pSA4pSA4pSA4pSA4pSAIEVkaXQgUHJvZmlsZSBNb2RhbCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuY29uc3QgZWRpdFByb2ZpbGVNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIi5wb3B1cF90eXBlX2VkaXQtcHJvZmlsZVwiLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XHJcbiAgICBlZGl0UHJvZmlsZU1vZGFsLnJlbmRlckxvYWRpbmdTdGF0dXModHJ1ZSwgXCJTYXZpbmcuLi5cIik7XHJcbiAgICBhcGlcclxuICAgICAgLnNldFVzZXJJbmZvKHsgbmFtZTogZGF0YS51c2VybmFtZSwgYWJvdXQ6IGRhdGEudXNlcmpvYiB9KVxyXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIG5ld1VzZXIuc2V0VXNlckluZm8oZGF0YS5uYW1lLCBkYXRhLmFib3V0KTtcclxuICAgICAgICBlZGl0UHJvZmlsZU1vZGFsLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgICAuZmluYWxseSgoKSA9PiBlZGl0UHJvZmlsZU1vZGFsLnJlbmRlckxvYWRpbmdTdGF0dXMoZmFsc2UpKTtcclxuICB9LFxyXG59KTtcclxuLy8gZWRpdFByb2ZpbGVNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfdHlwZV9pbWFnZS1leFwiKTtcclxuLy8gaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgcmVtb3ZlSW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFJlbW92ZUltYWdlKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIi5wb3B1cF90eXBlX3JlbW92ZS1wb3N0Y2FyZFwiLFxyXG4gIC8vIGhhbmRsZUZvcm1TdWJtaXQ6ICgpID0+IHt9LFxyXG59KTtcclxuLy8gcmVtb3ZlSW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbmNvbnN0IHVwZGF0ZUF2YXRhclBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiLnBvcHVwX3R5cGVfYXZhdGFyLXVwZGF0ZVwiLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XHJcbiAgICB1cGRhdGVBdmF0YXJQb3B1cC5yZW5kZXJMb2FkaW5nU3RhdHVzKHRydWUsIFwiVXBkYXRpbmcuLi5cIik7XHJcbiAgICBhcGlcclxuICAgICAgLnNldFVzZXJBdmF0YXIoZGF0YS5saW5rKVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgdXBkYXRlQXZhdGFyUG9wdXAuY2xvc2UoKTtcclxuICAgICAgICBuZXdVc2VyLnNldFVzZXJBdmF0YXIocmVzLmF2YXRhcik7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB1cGRhdGVBdmF0YXJQb3B1cC5yZW5kZXJMb2FkaW5nU3RhdHVzKGZhbHNlKSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG4vLyB1cGRhdGVBdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLyog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgIC0tLS0tLS0tLS0tLS0tLS0tLS0gQWRkaW5nIHRoZSBOZWNlc3NhcnkgRXZlbnQgTGlzdGVuZXJzOiAtLS0tLS0tLS0tLS0tLS0tLS1cclxuICAg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAICovXHJcbmVkaXRQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY29uc3QgeyB1c2VyTmFtZSwgdXNlckpvYiB9ID0gbmV3VXNlci5nZXRVc2VySW5mbygpO1xyXG4gIGlucHV0Q2FyZE5hbWUudmFsdWUgPSB1c2VyTmFtZTtcclxuICBpbnB1dENhcmRUaXRsZS52YWx1ZSA9IHVzZXJKb2I7XHJcblxyXG4gIHByb2ZpbGVGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGVkaXRQcm9maWxlTW9kYWwub3BlbigpO1xyXG59KTtcclxuXHJcbmFkZFBvc3RjYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgYWRkUG9zdGNhcmQub3BlbigpO1xyXG4gIHBvc3RjYXJkRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxuXHJcbiAgLy8gcG9zdGNhcmRGb3JtLnJlc2V0KCk7XHJcbn0pO1xyXG5cclxuYXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgdXBkYXRlQXZhdGFyUG9wdXAub3BlbigpO1xyXG4gIGF2YXRhckZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn0pO1xyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3RvcihiYXNlVXJsLCBoZWFkZXJzKSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgX3JldHVyblJlcyhyZXMpIHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIC8vIGNvbnN0IGpzb24gPSByZXMuanNvbigpO1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyhqc29uKTtcclxuICAgICAgLy8gcmV0dXJuIGpzb247XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEFuIGVycm9yIGp1c3Qgb2NjdXJyZWQ6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxjYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9yZXR1cm5SZXMocmVzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fcmV0dXJuUmVzKHJlcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGFib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fcmV0dXJuUmVzKHJlcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJBdmF0YXIobGluaykge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9yZXR1cm5SZXMocmVzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkQ2FyZChkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9yZXR1cm5SZXMocmVzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fcmV0dXJuUmVzKHJlcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNhcmRMaWtlKGNhcmRJZCwgaXNJdExpa2VkKSB7XHJcbiAgICBsZXQgbWV0aG9kO1xyXG4gICAgaXNJdExpa2VkID8gKG1ldGhvZCA9IFwiREVMRVRFXCIpIDogKG1ldGhvZCA9IFwiUFVUXCIpO1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBtZXRob2QsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3JldHVyblJlcyhyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsIi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBVc2VyIEluZm8gQ2xhc3Mg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IHVzZXJOYW1lU2VsZWN0b3IsIHVzZXJKb2JTZWxlY3RvciwgdXNlckF2YXRhclNlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuX3VzZXJOYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl91c2VySm9iRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckpvYlNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3VzZXJBdmF0YXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyQXZhdGFyU2VsZWN0b3IpO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSAIFJldHVybnMgYW4gT2JqZWN0IHdpdGggVXNlciBJbmZvIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdXNlck5hbWU6IHRoaXMuX3VzZXJOYW1lRWxlbWVudC50ZXh0Q29udGVudCxcclxuICAgICAgdXNlckpvYjogdGhpcy5fdXNlckpvYkVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICB9O1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgZ2V0VXNlcklkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3VzZXJJZDtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJZCh1c2VySWQpIHtcclxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuICB9XHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICBzZXRVc2VyQXZhdGFyKGF2YXRhcikge1xyXG4gICAgdGhpcy5fdXNlckF2YXRhckVsZW1lbnQuc3JjID0gYXZhdGFyO1xyXG4gIH1cclxuXHJcbiAgc2V0QXZhdGFyU2lnaHQoKSB7XHJcbiAgICB0aGlzLl91c2VyQXZhdGFyRWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIAgQWRkaW5nIE5ldyBVc2VyIERhdGEgdG8gUGFnZSDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBzZXRVc2VySW5mbyh1c2VybmFtZSwgdXNlcmpvYikge1xyXG4gICAgLy8gY29uc3QgeyB1c2VybmFtZSwgdXNlcmpvYiB9ID0gZGF0YTtcclxuICAgIHRoaXMuX3VzZXJOYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IHVzZXJuYW1lO1xyXG4gICAgdGhpcy5fdXNlckpvYkVsZW1lbnQudGV4dENvbnRlbnQgPSB1c2Vyam9iO1xyXG4gIH1cclxufVxyXG4iLCIvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgU2VjdGlvbiBDbGFzcyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgLy8gdGhpcy5fcmVuZGVyZWRJdGVtcyA9IGRhdGE7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUmVjaXRlIEVhY2ggRWxlbWVudCBvbiBQYWdlIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIHJlbmRlcihkYXRhKSB7XHJcbiAgICBkYXRhLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgCBBZGRpbmcgRE9NIGVsZW1lbnQgdG8gQ29udGFpbmVyIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBzZXRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFBvcHVwIEltYWdlIENsYXNzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX3BvcHVwQ2FwdGlvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NhcHRpb25cIik7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUG9wdXAgSW1hZ2UgRGF0YSDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBvcGVuKGxpbmssIG5hbWUpIHtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gbGluaztcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gYEEgY29sb3JmdWwgYW5kIG1hZ25pZmljZW50IHZpZXcgb2YgJHtuYW1lfWA7XHJcbiAgICB0aGlzLl9wb3B1cENhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgCBQb3B1cCBGb3IgUmVtb3ZlIFBvc3RjYXJkIENsYXNzcyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBSZW1vdmVJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLmZvcm1fX2J1dHRvbl90eXBlX3JlbW92ZS1wb3N0Y2FyZFwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uVGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzU3VibWl0KCk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9yZW5kZXJMb2FkaW5nU3RhdHVzKGZhbHNlKTtcclxuICB9XHJcblxyXG4gIHNldFN1Ym1pdEFjdGlvbihhY3Rpb24pIHtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBhY3Rpb247XHJcbiAgfVxyXG5cclxuICBfcmVuZGVyTG9hZGluZ1N0YXR1cyhpc0l0TG9hZGluZykge1xyXG4gICAgaWYgKGlzSXRMb2FkaW5nKSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiUmVtb3ZpbmcuLi5cIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX3N1Ym1pdEJ1dHRvblRleHQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnNTdWJtaXQoKSB7XHJcbiAgICAvLyBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9yZW5kZXJMb2FkaW5nU3RhdHVzKHRydWUpO1xyXG5cclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJjb25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsInByb2ZpbGVGb3JtIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicHJvZmlsZSIsImVkaXRQcm9maWxlQnV0dG9uIiwiYWRkUG9zdGNhcmRCdXR0b24iLCJjYXJkRm9ybSIsImlucHV0Q2FyZE5hbWUiLCJpbnB1dENhcmRUaXRsZSIsInBvc3RjYXJkRm9ybSIsImF2YXRhciIsInVwZGF0ZUF2YXRhckZvcm0iLCJDYXJkIiwiY29uc3RydWN0b3IiLCJkYXRhIiwidGVtcGxhdGVQb3N0Y2FyZFNlbGVjdG9yIiwidXNlcklkIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlUmVtb3ZlQ2FyZCIsImhhbmRsZUxpa2VDYXJkIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl91c2VySWQiLCJfY2FyZElkIiwiX2lkIiwiX293bmVySWQiLCJvd25lciIsIl9saWtlcyIsImxpa2VzIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVSZW1vdmVDYXJkIiwiX2hhbmRsZUxpa2VDYXJkIiwiX3RlbXBsYXRlUG9zdGNhcmRTZWxlY3RvciIsIl9nZXRUZW1wbGF0ZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfY2FyZEF0dHJpYnV0ZXMiLCJfdGl0bGUiLCJfcG9zdGNhcmRMaXN0SXRlbSIsIl9pbWciLCJfbGlrZUJ1dHRvbiIsIl9saWtlQnV0dG9uQ291bnRlciIsIl9yZW1vdmVCdXR0b24iLCJfdG9nZ2xlTGlrZVN0YXRlIiwic29tZSIsImxpa2UiLCJ0aGVuIiwicmVzIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwidGV4dENvbnRlbnQiLCJsZW5ndGgiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJfZ2V0TGlrZXNRdWFudGl0eSIsInNldFJlbW92ZUNhcmQiLCJyZW1vdmUiLCJfc2V0VXNlckxpa2VzIiwiYWRkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImlkIiwiZ2VuZXJhdGVDYXJkIiwic3JjIiwiYWx0Iiwic3R5bGUiLCJkaXNwbGF5IiwicG9wdXBJc09wZW5lZENsYXNzIiwicG9wdXBTZWxlY3RvciIsImV2dCIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJfcG9wdXAiLCJfY2xvc2VCdXR0b24iLCJvcGVuIiwiX2hhbmRsZUVzY0Nsb3NlIiwiX2hhbmRsZU92ZXJsYXlDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJQb3B1cFdpdGhGb3JtIiwiUG9wdXAiLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtIiwiX2lucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc3VibWl0QnV0dG9uIiwiX3N1Ym1pdEJ1dHRvblRleHQiLCJfc2V0RXZlbnRMaXN0ZW5lcnNTdWJtaXQiLCJyZXNldCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwiZm9yRWFjaCIsImlucHV0IiwidmFsdWUiLCJyZW5kZXJMb2FkaW5nU3RhdHVzIiwiaXNJdExvYWRpbmciLCJsb2FkVGV4dCIsInByZXZlbnREZWZhdWx0IiwiZm9ybSIsIl9oYXNWYWxpZElucHV0IiwiX2Rpc2FibGVTdWJtaXRCdXR0b24iLCJfZW5hYmxlU3VibWl0QnV0dG9uIiwiX2NvbmZpZyIsIl90b2dnbGVCdXR0b24iLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX2J1dHRvbiIsIl9zaG93SW5wdXRFcnJvciIsImVycm9yTXNnIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJfaGlkZUlucHV0RXJyb3IiLCJ2YWxpZGl0eSIsInZhbGlkIiwiZGlzYWJsZWQiLCJyZXNldFZhbGlkYXRpb24iLCJlbmFibGVWYWxpZGF0aW9uIiwicHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwicG9zdGNhcmRGb3JtVmFsaWRhdG9yIiwiYXZhdGFyRm9ybVZhbGlkYXRvciIsImFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsIl9yZXR1cm5SZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0SW5pdGlhbGNhcmRzIiwiZmV0Y2giLCJtZXRob2QiLCJnZXRVc2VySW5mbyIsInNldFVzZXJJbmZvIiwiYWJvdXQiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInNldFVzZXJBdmF0YXIiLCJhZGRDYXJkIiwicmVtb3ZlQ2FyZCIsImNhcmRJZCIsImNhcmRMaWtlIiwiaXNJdExpa2VkIiwiYXV0aG9yaXphdGlvbiIsIm5ld1VzZXIiLCJ1c2VyTmFtZVNlbGVjdG9yIiwidXNlckpvYlNlbGVjdG9yIiwidXNlckF2YXRhclNlbGVjdG9yIiwiX3VzZXJOYW1lRWxlbWVudCIsIl91c2VySm9iRWxlbWVudCIsIl91c2VyQXZhdGFyRWxlbWVudCIsInVzZXJOYW1lIiwidXNlckpvYiIsImdldFVzZXJJZCIsInNldFVzZXJJZCIsInNldEF2YXRhclNpZ2h0IiwidmlzaWJpbGl0eSIsInVzZXJuYW1lIiwidXNlcmpvYiIsImNhcmRMaXN0IiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXIiLCJpdGVtIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwic2V0SXRlbSIsImFwcGVuZCIsInBvc3RjYXJkIiwiY3JlYXRlQ2FyZCIsImNhcmQiLCJpbWFnZVBvcHVwIiwicmVtb3ZlSW1hZ2VQb3B1cCIsInNldFN1Ym1pdEFjdGlvbiIsImFsbCIsInVzZXJEYXRhIiwiY2FyZHNEYXRhIiwiYWRkUG9zdGNhcmQiLCJuZXdQb3N0Y2FyZCIsImZpbmFsbHkiLCJlZGl0UHJvZmlsZU1vZGFsIiwiX3BvcHVwSW1hZ2UiLCJfcG9wdXBDYXB0aW9uIiwiX3JlbmRlckxvYWRpbmdTdGF0dXMiLCJhY3Rpb24iLCJ1cGRhdGVBdmF0YXJQb3B1cCJdLCJzb3VyY2VSb290IjoiIn0=
!function(){"use strict";const e={formSelector:".popup__form",inputSelector:".form__input",submitButtonSelector:".form__button",inactiveButtonClass:"form__button_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_visible"},t=document.querySelector(".popup__form_type_profile"),s=document.querySelector(".profile"),r=(s.querySelector(".profile__name"),s.querySelector(".profile__description"),s.querySelector(".profile__edit-button")),o=s.querySelector(".profile__add-button"),i=document.querySelector(".form"),n=i.querySelector(".form__input_type_profile-name"),a=i.querySelector(".form__input_type_profile-title"),c=document.querySelector(".popup__form_type_add-postcard");function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}document.querySelector(".popup_type_add-postcard"),document.querySelector(".popup_type_image-ex"),document.querySelector(".postcards").querySelector(".postcards__list");class l{constructor(e,t,s,r){let{handleCardClick:o,handleRemoveCard:i,handleLikeCard:n}=s;u(this,"_handleRemoveButton",(()=>{this._postcardListItem.remove(),this._postcardListItem=null})),u(this,"_handleLikeButton",(e=>{e.target.classList.toggle("postcard__like-button_active")})),this._name=e.name,this._link=e.link,this._userId=r,this._cardId=e._id,this._ownerId=e.owner._id,this._likes=e.likes,this._handleCardClick=o,this._handleRemoveCard=i,this._handleLikeCard=n,this._templatePostcardSelector=t}_getTemplate(){return document.querySelector(this._templatePostcardSelector).content.querySelector(".postcard").cloneNode(!0)}_cardAttributes(){this._title=this._postcardListItem.querySelector(".postcard__title"),this._img=this._postcardListItem.querySelector(".postcard__image"),this._likeButton=this._postcardListItem.querySelector(".postcard__like-button"),this._likeButtonCounter=this._postcardListItem.querySelector(".postcard__like-counter"),this._removeButton=this._postcardListItem.querySelector(".postcard__remove-button")}_getLikesQuantity(){this._likeButtonCounter.textContent=this._likes.length}_setUserLikes(){this._likes.some((e=>e._id===this._userId))&&this._likeButton.classList.add("postcard__like-button_active")}_setEventListeners(){this._likeButton.addEventListener("click",this._handleLikeButton),this._removeButton.addEventListener("click",(()=>{this._handleRemoveCard({id:this._cardId})})),this._img.addEventListener("click",(()=>{this._handleCardClick(this._name,this._link)}))}generateCard(){return this._postcardListItem=this._getTemplate(),this._cardAttributes(),this._getLikesQuantity(),this._setUserLikes(),this._title.textContent=this._name,this._img.src=this._link,this._img.alt="A colorful and magnificent view of ".concat(this._name),this._ownerId!==this._userId&&(this._removeButton.style.display="none"),this._setEventListeners(),this._postcardListItem}}function _(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const d="popup_receptive";var h=class{constructor(e){_(this,"_handleEscClose",(e=>{"Escape"===e.key&&this.close()})),_(this,"_handleOverlayClose",(e=>{e.target.classList.contains("popup")&&this.close()})),this._popup=document.querySelector(e),this._closeButton=this._popup.querySelector(".popup__close-button")}open(){this._popup.classList.add(d),document.addEventListener("keydown",this._handleEscClose),document.addEventListener("mousedown",this._handleOverlayClose)}close(){this._popup.classList.remove(d),document.removeEventListener("keydown",this._handleEscClose),document.removeEventListener("mousedown",this._handleOverlayClose)}setEventListeners(){this._closeButton.addEventListener("click",(()=>this.close()))}};class p extends h{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super(t),this._handleFormSubmit=s,this._form=this._popup.querySelector(".popup__form"),this._inputList=[...this._form.querySelectorAll(".form__input")]}close(){super.close(),this._form.reset()}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}}function m(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var f=class{constructor(e,t){m(this,"_toggleButton",(()=>{this._hasValidInput()?this._disableSubmitButton():this._enableSubmitButton()})),m(this,"_setEventListeners",(()=>{const{inputSelector:e}=this._config;this._inputList=[...this._form.querySelectorAll(e)],this._toggleButton(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e,this._config),this._toggleButton()}))}))})),this._config=e,this._form=t,this._button=this._form.querySelector(this._config.submitButtonSelector)}_showInputError(e){const{inputErrorClass:t,errorClass:s}=this._config,r=e.validationMessage,o=this._form.querySelector(".".concat(e.id,"-error"));e.classList.add(t),o.textContent=r,o.classList.add(s)}_hideInputError(e){const{inputErrorClass:t,errorClass:s}=this._config,r=this._form.querySelector(".".concat(e.id,"-error"));e.classList.remove(t),r.textContent="",r.classList.remove(s)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasValidInput(){return this._inputList.some((e=>!e.validity.valid))}_enableSubmitButton(){const{inactiveButtonClass:e}=this._config;this._button.disabled=!1,this._button.classList.remove(e)}_disableSubmitButton(){const{inactiveButtonClass:e}=this._config;this._button.disabled=!0,this._button.classList.add(e)}resetValidation(){this._inputList.forEach((e=>{this._hideInputError(e)})),this._toggleButton()}enableValidation(){this._form.addEventListener("reset",(e=>{this._toggleButton()})),this._setEventListeners()}};const b=new f(e,t),v=new f(e,c);b.enableValidation(),v.enableValidation();const S=new class{constructor(e,t){this._baseUrl=e,this._headers=t}_returnRes(e){return e.ok?e.json():Promise.reject("An error just occurred: ".concat(e.status))}getInitialcards(){return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers}).then((e=>this._returnRes(e)))}getUserInfo(){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers}).then((e=>this._returnRes(e)))}setUserInfo(e){let{name:t,about:s}=e;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:s})}).then((e=>this._returnRes(e)))}addCard(e){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then((e=>this._returnRes(e)))}}("https://around.nomoreparties.co/v1/cohort-3-en",{authorization:"7206ed33-5b05-44a8-9280-ab5ebd7021d1","Content-Type":"application/json"}),y=new class{constructor(e){let{userNameSelector:t,userJobSelector:s,userAvatarSelector:r}=e;this._userNameElement=document.querySelector(t),this._userJobElement=document.querySelector(s),this._userAvatarElement=document.querySelector(r)}getUserInfo(){return{userName:this._userNameElement.textContent,userJob:this._userJobElement.textContent}}getUserId(){return this._userId}setUserId(e){this._userId=e}setUserAvatar(e){this._userAvatarElement.src=e}setUserInfo(e,t){this._userNameElement.textContent=e,this._userJobElement.textContent=t}}({userNameSelector:".profile__name",userJobSelector:".profile__description",userAvatarSelector:".profile__image"}),g=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}render(e){e.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}setItem(e){this._container.append(e)}}({renderer:function(e){const t=L(e);g.setItem(t)}},".postcards__list");function L(e){return new l(e,"#postcard-template",{handleCardClick:()=>{C.open(e.link,e.name)},handleRemoveCard:()=>{k.open(),k.setSubmitAction((()=>{}))},handleLikeCard:()=>{}},y.getUserId()).generateCard()}Promise.all([S.getUserInfo(),S.getInitialcards()]).then((e=>{let[t,s]=e;y.setUserInfo(t.name,t.about),y.setUserAvatar(t.avatar),y.setUserId(t._id),g.render(s)})).catch((e=>console.log(e)));const E=new p({popupSelector:".popup_type_add-postcard",handleFormSubmit:e=>{S.addCard(e).then((e=>{const t=L(e);g.addItem(t),E.close()})).catch((e=>console.log(e)))}});E.setEventListeners();const I=new p({popupSelector:".popup_type_edit-profile",handleFormSubmit:e=>{S.setUserInfo({name:e.username,about:e.userjob}).then((e=>{y.setUserInfo(e.name,e.about),I.close()})).catch((e=>console.log(e)))}});I.setEventListeners();const C=new class extends h{constructor(e){super(e),this._popupImage=this._popup.querySelector(".popup__image"),this._popupCaption=this._popup.querySelector(".popup__caption")}open(e,t){this._popupImage.src=e,this._popupImage.alt="A colorful and magnificent view of ".concat(t),this._popupCaption.textContent=t,super.open()}}(".popup_type_image-ex");C.setEventListeners();const k=new class extends h{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super(t),this._handleFormSubmit=s}close(){super.close()}setSubmitAction(e){this._handleFormSubmit=e}setEventListeners(){super.setEventListeners(),this._popup.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()}))}}({popupSelector:".popup_type_remove-postcard",handleFormSubmit:()=>{}});k.setEventListeners(),r.addEventListener("click",(()=>{const{userName:e,userJob:t}=y.getUserInfo();n.value=e,a.value=t,b.resetValidation(),I.open()})),o.addEventListener("click",(()=>{E.open(),v.resetValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUlzRSxpQkFDSnpFLEtBQUsrRCx5Qkx5SW1DLENBQzVDZixjQUFlLDhCQUNmYSxpQkFBa0IsU0FFcEJ1RixFQUFpQjFGLG9CQUtqQnhFLEVBQWtCcUQsaUJBQWlCLFNBQVMsS0FDMUMsTUFBTSxTQUFFdUYsRUFBRixRQUFZQyxHQUFZUixFQUFRUixjQUN0QzFILEVBQWNtRixNQUFRc0QsRUFDdEJ4SSxFQUFla0YsTUFBUXVELEVBRXZCbkMsRUFBcUJGLGtCQUNyQnFFLEVBQWlCekcsVUFHbkJuRSxFQUFrQm9ELGlCQUFpQixTQUFTLEtBQzFDc0gsRUFBWXZHLE9BQ1p3QyxFQUFzQkoscUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwUmVtb3ZlSW1hZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgIC0tLS0tLS0gVGhpcyBPYmplY3QgQ29udGFpbnMgdGhlIE5lY2Vzc2FyeSBFbGVtZW50czogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAICovXHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZm9ybV9fYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJmb3JtX19idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXQtZXJyb3JfdmlzaWJsZVwiLFxyXG59O1xyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbi8vIFByb2ZpbGUgYW5kIEl0cyBFbGVtZW50czpcclxuY29uc3QgcHJvZmlsZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX3R5cGVfcHJvZmlsZVwiKTtcclxuY29uc3QgcHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZVwiKTtcclxuY29uc3QgcHJvZmlsZU5hbWUgPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcclxuY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbi8vIFRoZSBQcm9maWxlIEJ1dHRvbnM6XHJcbmNvbnN0IGVkaXRQcm9maWxlQnV0dG9uID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5jb25zdCBhZGRQb3N0Y2FyZEJ1dHRvbiA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbi8vIEZvcm0gYW5kIEl0cyBDb21wb25lbnRzOlxyXG5jb25zdCBjYXJkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcclxuY29uc3QgaW5wdXRDYXJkTmFtZSA9IGNhcmRGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9faW5wdXRfdHlwZV9wcm9maWxlLW5hbWVcIik7XHJcbmNvbnN0IGlucHV0Q2FyZFRpdGxlID0gY2FyZEZvcm0ucXVlcnlTZWxlY3RvcihcclxuICBcIi5mb3JtX19pbnB1dF90eXBlX3Byb2ZpbGUtdGl0bGVcIlxyXG4pO1xyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbmNvbnN0IHBvc3RjYXJkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1fdHlwZV9hZGQtcG9zdGNhcmRcIik7XHJcblxyXG5jb25zdCBhZGRQb3N0Y2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2FkZC1wb3N0Y2FyZFwiKTtcclxuY29uc3QgaW1hZ2VFeE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2ltYWdlLWV4XCIpO1xyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbi8vIFBvc3RjYXJkcyBhbmQgVGhlaXIgRWxlbWVudDpcclxuY29uc3QgcG9zdGNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3N0Y2FyZHNcIik7XHJcbmNvbnN0IHBvc3RjYXJkc0xpc3QgPSBwb3N0Y2FyZHMucXVlcnlTZWxlY3RvcihcIi5wb3N0Y2FyZHNfX2xpc3RcIik7XHJcbmNvbnN0IHRlbXBsYXRlUG9zdGNhcmRTZWxlY3RvciA9IFwiI3Bvc3RjYXJkLXRlbXBsYXRlXCI7XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbi8vIENvbm5lY3RpbmcgdG8gUHJhY3RpY3VtJ3MgQXBpXHJcbmNvbnN0IGJhc2VVcmwgPSBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTMtZW5cIjtcclxuY29uc3QgaGVhZGVycyA9IHtcclxuICBhdXRob3JpemF0aW9uOiBcIjcyMDZlZDMzLTViMDUtNDRhOC05MjgwLWFiNWViZDcwMjFkMVwiLFxyXG4gIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG59O1xyXG5cclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG5leHBvcnQge1xyXG4gIGNvbmZpZyxcclxuICBwcm9maWxlRm9ybSxcclxuICBwcm9maWxlLFxyXG4gIHByb2ZpbGVOYW1lLFxyXG4gIHByb2ZpbGVEZXNjcmlwdGlvbixcclxuICBlZGl0UHJvZmlsZUJ1dHRvbixcclxuICBhZGRQb3N0Y2FyZEJ1dHRvbixcclxuICBpbnB1dENhcmROYW1lLFxyXG4gIGlucHV0Q2FyZFRpdGxlLFxyXG4gIHBvc3RjYXJkRm9ybSxcclxuICBhZGRQb3N0Y2FyZE1vZGFsLFxyXG4gIGltYWdlRXhNb2RhbCxcclxuICBwb3N0Y2FyZHNMaXN0LFxyXG4gIHRlbXBsYXRlUG9zdGNhcmRTZWxlY3RvcixcclxuICBiYXNlVXJsLFxyXG4gIGhlYWRlcnMsXHJcbn07XHJcbiIsIi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBQb3N0Y2FyZCBDbGFzcyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBkYXRhLFxyXG4gICAgdGVtcGxhdGVQb3N0Y2FyZFNlbGVjdG9yLFxyXG4gICAgeyBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZVJlbW92ZUNhcmQsIGhhbmRsZUxpa2VDYXJkIH0sXHJcbiAgICB1c2VySWRcclxuICApIHtcclxuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgdGhpcy5fY2FyZElkID0gZGF0YS5faWQ7XHJcbiAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XHJcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVSZW1vdmVDYXJkID0gaGFuZGxlUmVtb3ZlQ2FyZDtcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VDYXJkID0gaGFuZGxlTGlrZUNhcmQ7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3IgPSB0ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3I7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgTWFya3VwIFRlbXBsYXRlIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IHBvc3RjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlUG9zdGNhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5wb3N0Y2FyZFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgIHJldHVybiBwb3N0Y2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICBfY2FyZEF0dHJpYnV0ZXMoKSB7XHJcbiAgICB0aGlzLl90aXRsZSA9IHRoaXMuX3Bvc3RjYXJkTGlzdEl0ZW0ucXVlcnlTZWxlY3RvcihcIi5wb3N0Y2FyZF9fdGl0bGVcIik7XHJcbiAgICB0aGlzLl9pbWcgPSB0aGlzLl9wb3N0Y2FyZExpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoXCIucG9zdGNhcmRfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX3Bvc3RjYXJkTGlzdEl0ZW0ucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIucG9zdGNhcmRfX2xpa2UtYnV0dG9uXCJcclxuICAgICk7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uQ291bnRlciA9IHRoaXMuX3Bvc3RjYXJkTGlzdEl0ZW0ucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIucG9zdGNhcmRfX2xpa2UtY291bnRlclwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5fcmVtb3ZlQnV0dG9uID0gdGhpcy5fcG9zdGNhcmRMaXN0SXRlbS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5wb3N0Y2FyZF9fcmVtb3ZlLWJ1dHRvblwiXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgLy8gU2hvd3MgdGhlIExpa2VzIFF1YW50aXR5XHJcbiAgX2dldExpa2VzUXVhbnRpdHkoKSB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBQb3N0Y2FyZCBSZW1vdmUgQnV0dG9uIEZ1bmN0aW9uIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIF9oYW5kbGVSZW1vdmVCdXR0b24gPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9wb3N0Y2FyZExpc3RJdGVtLnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fcG9zdGNhcmRMaXN0SXRlbSA9IG51bGw7XHJcbiAgfTtcclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFBvc3RjYXJkIExpa2UgQnV0dG9uIEZ1bmN0aW9uIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIF9oYW5kbGVMaWtlQnV0dG9uID0gKGV2dCkgPT4ge1xyXG4gICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKFwicG9zdGNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICB9O1xyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICBfc2V0VXNlckxpa2VzKCkge1xyXG4gICAgaWYgKHRoaXMuX2xpa2VzLnNvbWUoKGl0ZW0pID0+IGl0ZW0uX2lkID09PSB0aGlzLl91c2VySWQpKSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcInBvc3RjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgRXZlbnQgTGlzdGVuZXJzIGZvciB0aGUgTmVjZXNzYXJ5IGZ1bmN0aW9ucyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKTtcclxuICAgIC8vIHRoaXMuX3JlbW92ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlUmVtb3ZlQnV0dG9uKTtcclxuXHJcbiAgICB0aGlzLl9yZW1vdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlUmVtb3ZlQ2FyZCh7XHJcbiAgICAgICAgaWQ6IHRoaXMuX2NhcmRJZCxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9pbWcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvKiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICAgICAtLS0tLS0tLS0gRnVuY3Rpb24gRm9yIFBvc3RjYXJkcyBQb3B1bGF0ZWQgd2l0aCBEYXRhOiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAICovXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fcG9zdGNhcmRMaXN0SXRlbSA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9jYXJkQXR0cmlidXRlcygpO1xyXG4gICAgdGhpcy5fZ2V0TGlrZXNRdWFudGl0eSgpO1xyXG4gICAgdGhpcy5fc2V0VXNlckxpa2VzKCk7XHJcblxyXG4gICAgdGhpcy5fdGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5faW1nLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9pbWcuYWx0ID0gYEEgY29sb3JmdWwgYW5kIG1hZ25pZmljZW50IHZpZXcgb2YgJHt0aGlzLl9uYW1lfWA7XHJcblxyXG4gICAgdGhpcy5fb3duZXJJZCAhPT0gdGhpcy5fdXNlcklkICYmXHJcbiAgICAgICh0aGlzLl9yZW1vdmVCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiKTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9wb3N0Y2FyZExpc3RJdGVtO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxufVxyXG4iLCJjb25zdCBwb3B1cElzT3BlbmVkQ2xhc3MgPSBcInBvcHVwX3JlY2VwdGl2ZVwiO1xyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUG9wdXAgQ2xhc3Mg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWJ1dHRvblwiKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBQT1BVUCBXaW5kb3dzIENsb3NpbmcgYnkgRXNjIEtleSDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgX2hhbmRsZU92ZXJsYXlDbG9zZSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwXCIpKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG4gIC8qIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gICAgLS0tLS0tLS0tLS0tLS0tLS0gUE9QVVAgV2luZG93cyBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgLS0tLS0tLS0tLS0tLS0tLS0tIEVzYyBDbG9zZSBFdmVudCBMaXN0ZW5lcnM6IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgKi9cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChwb3B1cElzT3BlbmVkQ2xhc3MpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKHBvcHVwSXNPcGVuZWRDbGFzcyk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX2hhbmRsZU92ZXJsYXlDbG9zZSk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgQ2xvc2luZyBQb3B1cCBFdmVudCBMaXN0ZW5lcnMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5jbG9zZSgpKTtcclxuICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXA7XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFBvcHVwIFdpdGggRm9ybSBDbGFzcyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX19pbnB1dFwiKV07XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIAgUmVzZXRzIEZvcm0gb25jZSB0aGUgUG9wdXAgaXMgQ2xvc2VkIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgCBDb2xsZWN0cyBEQVRBIGZyb20gSW5wdXQgRmllbGRzIGFuZCBSZXR1cm5zIGl0IGFzIGFuIE9iamVjdCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8qIOKUgOKUgOKUgOKUgOKUgCBNb2RpZmllcyBpdHMgUGFyZW50IHdpdGgg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgICAg4pSA4pSA4pSA4pSA4pSAIEZvcm0gRXZlbnQgSGFuZGxlciBhbmQgQ2xvc2UgaWNvbiBFdmVudCBMaXN0ZW5lciDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgKi9cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxufVxyXG4iLCIvKiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEZPUk0gVkFMSURBVElPTiBDbGFzczogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgKi9cclxuY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtKSB7XHJcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XHJcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcclxuXHJcbiAgICB0aGlzLl9idXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgCBESVNQTEFZSU5HIHRoZSBFUlJPUiBNRVNTQUdFIEZvciB0aGUgTmVjZXNzYXJ5IElOUFVUUzog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0KSB7XHJcbiAgICBjb25zdCB7IGlucHV0RXJyb3JDbGFzcywgZXJyb3JDbGFzcyB9ID0gdGhpcy5fY29uZmlnO1xyXG4gICAgY29uc3QgZXJyb3JNc2cgPSBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7aW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKGlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1zZztcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKGVycm9yQ2xhc3MpO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSAIENPTkNFQUxJTkcgdGhlIEVSUk9SIE1FU1NBR0UgRm9yIHRoZSBOZWNlc3NhcnkgSU5QVVRTOuKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dCkge1xyXG4gICAgY29uc3QgeyBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQ2xhc3MgfSA9IHRoaXMuX2NvbmZpZztcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7aW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKGlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgQ0hFQ0tJTkcgSWYgdGhlIEZvcm0gSXMgVkFMSUQ6IOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpIHtcclxuICAgIGlmICghaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSAIENIRUNLSU5HIElmIEF0IExlYXN0IE9ORSBJbnB1dCBJcyBWQUxJRDog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgX2hhc1ZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBET01JTkFUSU5HIHRoZSBCdXR0b24gQUNUSVZJVFk6IOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIF9lbmFibGVTdWJtaXRCdXR0b24oKSB7XHJcbiAgICBjb25zdCB7IGluYWN0aXZlQnV0dG9uQ2xhc3MgfSA9IHRoaXMuX2NvbmZpZztcclxuICAgIHRoaXMuX2J1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5fYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfZGlzYWJsZVN1Ym1pdEJ1dHRvbigpIHtcclxuICAgIGNvbnN0IHsgaW5hY3RpdmVCdXR0b25DbGFzcyB9ID0gdGhpcy5fY29uZmlnO1xyXG4gICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QuYWRkKGluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIE1PRElGWSB0aGUgQnV0dG9uIEFjdGl2aXR5OiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBfdG9nZ2xlQnV0dG9uID0gKCkgPT4ge1xyXG4gICAgLy8gdGhpcy5fYnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICBpZiAodGhpcy5faGFzVmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX2Rpc2FibGVTdWJtaXRCdXR0b24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2VuYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8qIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gICAgIC0tLS0tLS0tLS0gU2V0dGluZyBFVkVOVCBMSVNURU5FUlMgRm9yIHRoZSBOZWNlc3NhcnkgSU5QVVRTOiAtLS0tLS0tLS0tLS0tLS1cclxuICAgICDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgKi9cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGlucHV0U2VsZWN0b3IgfSA9IHRoaXMuX2NvbmZpZztcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoaW5wdXRTZWxlY3RvcildO1xyXG5cclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbigpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0LCB0aGlzLl9jb25maWcpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbigpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH07XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBBZnRlciBTdWJtaXR0aW5nLCB0aGUgRk9STSBWQUxJREFUSU9OIFJFU0VUUzog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KTtcclxuICAgICAgLy8gdGhpcy5fZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b24oKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBFbmFibGVzIEZvcm0gVmFsaWRhdGlvbjog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInJlc2V0XCIsIChldnQpID0+IHtcclxuICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjtcclxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjsgLy8gaW1wb3J0IG9mIHRoZSBtYWluIHN0eWxlc2hlZXRzIGZpbGVcclxuXHJcbmltcG9ydCB7XHJcbiAgY29uZmlnLFxyXG4gIHByb2ZpbGVGb3JtLFxyXG4gIGVkaXRQcm9maWxlQnV0dG9uLFxyXG4gIGFkZFBvc3RjYXJkQnV0dG9uLFxyXG4gIGlucHV0Q2FyZE5hbWUsXHJcbiAgaW5wdXRDYXJkVGl0bGUsXHJcbiAgcG9zdGNhcmRGb3JtLFxyXG4gIHRlbXBsYXRlUG9zdGNhcmRTZWxlY3RvcixcclxuICBiYXNlVXJsLFxyXG4gIGhlYWRlcnMsXHJcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5cclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgUG9wdXBSZW1vdmVJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFJlbW92ZUltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuXHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcblxyXG5pbXBvcnQgYWxsUG9zdGNhcmRzIGZyb20gXCIuLi91dGlscy9hbGxQb3N0Y2FyZHMuanNcIjtcclxuXHJcbmNvbnN0IHByb2ZpbGVGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBwcm9maWxlRm9ybSk7XHJcbmNvbnN0IHBvc3RjYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgcG9zdGNhcmRGb3JtKTtcclxuXHJcbnByb2ZpbGVGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxucG9zdGNhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKGJhc2VVcmwsIGhlYWRlcnMpO1xyXG5cclxuLy8gQW4gSW5zdGFudCBvZiBVc2VyIEluZm9cclxuY29uc3QgbmV3VXNlciA9IG5ldyBVc2VySW5mbyh7XHJcbiAgdXNlck5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fbmFtZVwiLFxyXG4gIHVzZXJKb2JTZWxlY3RvcjogXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIixcclxuICB1c2VyQXZhdGFyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2ltYWdlXCIsXHJcbn0pO1xyXG5cclxuLy8gYXBpLmdldFVzZXJJbmZvKCkudGhlbigocmVzKSA9PiB7XHJcbi8vICAgbmV3VXNlci5zZXRVc2VySW5mbyhyZXMubmFtZSwgcmVzLmFib3V0KTtcclxuLy8gICBuZXdVc2VyLnNldFVzZXJBdmF0YXIocmVzLmF2YXRhcik7XHJcbi8vICAgbmV3VXNlci5zZXRVc2VySWQocmVzLl9pZCk7XHJcbi8vIH0pO1xyXG5cclxuLy8gYXBpLmdldEluaXRpYWxjYXJkcygpLnRoZW4oKCkgPT4ge1xyXG4vLyAgIGNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXHJcbi8vICAgICB7XHJcbi8vICAgICAgIC8vIGRhdGE6IHJlcyxcclxuLy8gICAgICAgcmVuZGVyZXI6IChkYXRhKSA9PiB7XHJcbi8vICAgICAgICAgY29uc3QgcG9zdGNhcmQgPSBjcmVhdGVDYXJkKGRhdGEpO1xyXG4vLyAgICAgICAgIGNhcmRMaXN0LnNldEl0ZW0ocG9zdGNhcmQpO1xyXG4vLyAgICAgICB9LFxyXG4vLyAgICAgfSxcclxuLy8gICAgIFwiLnBvc3RjYXJkc19fbGlzdFwiXHJcbi8vICAgKTtcclxuLy8gICBjYXJkTGlzdC5yZW5kZXIoKTtcclxuLy8gfSk7XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIC8vIHJlbmRlcmVyOiAoZGF0YSkgPT4ge1xyXG4gICAgLy8gICBjb25zdCBwb3N0Y2FyZCA9IGNyZWF0ZUNhcmQoZGF0YSk7XHJcbiAgICAvLyAgIGNhcmRMaXN0LnNldEl0ZW0ocG9zdGNhcmQpO1xyXG4gICAgLy8gfSxcclxuICAgIHJlbmRlcmVyOiByZWNpdGVDYXJkLFxyXG4gIH0sXHJcbiAgXCIucG9zdGNhcmRzX19saXN0XCJcclxuKTtcclxuLy8gY2FyZExpc3QucmVuZGVyKCk7XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuLyog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgIC0tLS0tLSBJdCB0YWtlcyBhbiBpdGVyYWJsZSBvZiBQcm9taXNlcyBhcyBhbiBpbnB1dCwgYW5kIHJldHVybnMgYSAtLS0tLS0tLS1cclxuICAgLSBzaW5nbGUgUHJvbWlzZSB3aGljaCByZXNvbHZlcyB0byBhbiBhcnJheSBvZiB0aGUgaW5wdXQgUHJvbWlzZXMgcmVzdWx0IC0tLVxyXG4gICDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgKi9cclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbGNhcmRzKCldKVxyXG4gIC50aGVuKChbdXNlckRhdGEsIGNhcmRzRGF0YV0pID0+IHtcclxuICAgIG5ld1VzZXIuc2V0VXNlckluZm8odXNlckRhdGEubmFtZSwgdXNlckRhdGEuYWJvdXQpO1xyXG4gICAgbmV3VXNlci5zZXRVc2VyQXZhdGFyKHVzZXJEYXRhLmF2YXRhcik7XHJcbiAgICBuZXdVc2VyLnNldFVzZXJJZCh1c2VyRGF0YS5faWQpO1xyXG4gICAgY2FyZExpc3QucmVuZGVyKGNhcmRzRGF0YSk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuLy8g4pSA4pSA4pSA4pSA4pSAIEdlbmVyYXRlIENhcmQg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSkge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgIGRhdGEsXHJcbiAgICB0ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3IsXHJcbiAgICB7XHJcbiAgICAgIGhhbmRsZUNhcmRDbGljazogKCkgPT4ge1xyXG4gICAgICAgIGltYWdlUG9wdXAub3BlbihkYXRhLmxpbmssIGRhdGEubmFtZSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGhhbmRsZVJlbW92ZUNhcmQ6ICgpID0+IHtcclxuICAgICAgICByZW1vdmVJbWFnZVBvcHVwLm9wZW4oKTtcclxuXHJcbiAgICAgICAgcmVtb3ZlSW1hZ2VQb3B1cC5zZXRTdWJtaXRBY3Rpb24oKCkgPT4ge30pO1xyXG4gICAgICB9LFxyXG4gICAgICBoYW5kbGVMaWtlQ2FyZDogKCkgPT4ge30sXHJcbiAgICB9LFxyXG4gICAgbmV3VXNlci5nZXRVc2VySWQoKVxyXG4gICk7XHJcbiAgLy8gY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG5cclxuICAvLyByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgcmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbn1cclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vLyBSZWNpdGluZyB0aGUgUG9zdGNhcmQgb24gdGhlIFBhZ2VcclxuZnVuY3Rpb24gcmVjaXRlQ2FyZChkYXRhKSB7XHJcbiAgY29uc3QgcG9zdGNhcmQgPSBjcmVhdGVDYXJkKGRhdGEpO1xyXG4gIGNhcmRMaXN0LnNldEl0ZW0ocG9zdGNhcmQpO1xyXG59XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSAIEFkZCBQb3N0Y2FyZCBNb2RhbCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuY29uc3QgYWRkUG9zdGNhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIucG9wdXBfdHlwZV9hZGQtcG9zdGNhcmRcIixcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoZGF0YSkgPT4ge1xyXG4gICAgYXBpXHJcbiAgICAgIC5hZGRDYXJkKGRhdGEpXHJcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbmV3UG9zdGNhcmQgPSBjcmVhdGVDYXJkKGRhdGEpO1xyXG4gICAgICAgIGNhcmRMaXN0LmFkZEl0ZW0obmV3UG9zdGNhcmQpO1xyXG4gICAgICAgIGFkZFBvc3RjYXJkLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICB9LFxyXG59KTtcclxuYWRkUG9zdGNhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vLyDilIDilIDilIDilIDilIAgRWRpdCBQcm9maWxlIE1vZGFsIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5jb25zdCBlZGl0UHJvZmlsZU1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiLnBvcHVwX3R5cGVfZWRpdC1wcm9maWxlXCIsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcclxuICAgIGFwaVxyXG4gICAgICAuc2V0VXNlckluZm8oeyBuYW1lOiBkYXRhLnVzZXJuYW1lLCBhYm91dDogZGF0YS51c2Vyam9iIH0pXHJcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgbmV3VXNlci5zZXRVc2VySW5mbyhkYXRhLm5hbWUsIGRhdGEuYWJvdXQpO1xyXG4gICAgICAgIGVkaXRQcm9maWxlTW9kYWwuY2xvc2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gIH0sXHJcbn0pO1xyXG5lZGl0UHJvZmlsZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cF90eXBlX2ltYWdlLWV4XCIpO1xyXG5pbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCByZW1vdmVJbWFnZVBvcHVwID0gbmV3IFBvcHVwUmVtb3ZlSW1hZ2Uoe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiLnBvcHVwX3R5cGVfcmVtb3ZlLXBvc3RjYXJkXCIsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKCkgPT4ge30sXHJcbn0pO1xyXG5yZW1vdmVJbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vKiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICAgLS0tLS0tLS0tLS0tLS0tLS0tLSBBZGRpbmcgdGhlIE5lY2Vzc2FyeSBFdmVudCBMaXN0ZW5lcnM6IC0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgKi9cclxuZWRpdFByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjb25zdCB7IHVzZXJOYW1lLCB1c2VySm9iIH0gPSBuZXdVc2VyLmdldFVzZXJJbmZvKCk7XHJcbiAgaW5wdXRDYXJkTmFtZS52YWx1ZSA9IHVzZXJOYW1lO1xyXG4gIGlucHV0Q2FyZFRpdGxlLnZhbHVlID0gdXNlckpvYjtcclxuXHJcbiAgcHJvZmlsZUZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgZWRpdFByb2ZpbGVNb2RhbC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuYWRkUG9zdGNhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBhZGRQb3N0Y2FyZC5vcGVuKCk7XHJcbiAgcG9zdGNhcmRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG5cclxuICAvLyBwb3N0Y2FyZEZvcm0ucmVzZXQoKTtcclxufSk7XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKGJhc2VVcmwsIGhlYWRlcnMpIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBfcmV0dXJuUmVzKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgLy8gY29uc3QganNvbiA9IHJlcy5qc29uKCk7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKGpzb24pO1xyXG4gICAgICAvLyByZXR1cm4ganNvbjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgQW4gZXJyb3IganVzdCBvY2N1cnJlZDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbGNhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3JldHVyblJlcyhyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9yZXR1cm5SZXMocmVzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBhYm91dDogYWJvdXQsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9yZXR1cm5SZXMocmVzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkQ2FyZChkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9yZXR1cm5SZXMocmVzKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCIvLyDilIDilIDilIDilIDilIDilIDilIDilIAgVXNlciBJbmZvIENsYXNzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyB1c2VyTmFtZVNlbGVjdG9yLCB1c2VySm9iU2VsZWN0b3IsIHVzZXJBdmF0YXJTZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fdXNlckpvYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJKb2JTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl91c2VyQXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckF2YXRhclNlbGVjdG9yKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgCBSZXR1cm5zIGFuIE9iamVjdCB3aXRoIFVzZXIgSW5mbyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHVzZXJOYW1lOiB0aGlzLl91c2VyTmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICAgIHVzZXJKb2I6IHRoaXMuX3VzZXJKb2JFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgfTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIGdldFVzZXJJZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl91c2VySWQ7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySWQodXNlcklkKSB7XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgfVxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgc2V0VXNlckF2YXRhcihhdmF0YXIpIHtcclxuICAgIHRoaXMuX3VzZXJBdmF0YXJFbGVtZW50LnNyYyA9IGF2YXRhcjtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgCBBZGRpbmcgTmV3IFVzZXIgRGF0YSB0byBQYWdlIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIHNldFVzZXJJbmZvKHVzZXJuYW1lLCB1c2Vyam9iKSB7XHJcbiAgICAvLyBjb25zdCB7IHVzZXJuYW1lLCB1c2Vyam9iIH0gPSBkYXRhO1xyXG4gICAgdGhpcy5fdXNlck5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gdXNlcm5hbWU7XHJcbiAgICB0aGlzLl91c2VySm9iRWxlbWVudC50ZXh0Q29udGVudCA9IHVzZXJqb2I7XHJcbiAgfVxyXG59XHJcbiIsIi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBTZWN0aW9uIENsYXNzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICAvLyB0aGlzLl9yZW5kZXJlZEl0ZW1zID0gZGF0YTtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBSZWNpdGUgRWFjaCBFbGVtZW50IG9uIFBhZ2Ug4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgcmVuZGVyKGRhdGEpIHtcclxuICAgIGRhdGEuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSAIEFkZGluZyBET00gZWxlbWVudCB0byBDb250YWluZXIg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIHNldEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUG9wdXAgSW1hZ2UgQ2xhc3Mg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fcG9wdXBDYXB0aW9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2FwdGlvblwiKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBQb3B1cCBJbWFnZSBEYXRhIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIG9wZW4obGluaywgbmFtZSkge1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSBgQSBjb2xvcmZ1bCBhbmQgbWFnbmlmaWNlbnQgdmlldyBvZiAke25hbWV9YDtcclxuICAgIHRoaXMuX3BvcHVwQ2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSAIFBvcHVwIEZvciBSZW1vdmUgUG9zdGNhcmQgQ2xhc3NzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFJlbW92ZUltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gIH1cclxuXHJcbiAgc2V0U3VibWl0QWN0aW9uKGFjdGlvbikge1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGFjdGlvbjtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJjb25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsInByb2ZpbGVGb3JtIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicHJvZmlsZSIsImVkaXRQcm9maWxlQnV0dG9uIiwiYWRkUG9zdGNhcmRCdXR0b24iLCJjYXJkRm9ybSIsImlucHV0Q2FyZE5hbWUiLCJpbnB1dENhcmRUaXRsZSIsInBvc3RjYXJkRm9ybSIsIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJ0ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3IiLCJ1c2VySWQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVSZW1vdmVDYXJkIiwiaGFuZGxlTGlrZUNhcmQiLCJ0aGlzIiwiX3Bvc3RjYXJkTGlzdEl0ZW0iLCJyZW1vdmUiLCJldnQiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfdXNlcklkIiwiX2NhcmRJZCIsIl9pZCIsIl9vd25lcklkIiwib3duZXIiLCJfbGlrZXMiLCJsaWtlcyIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlUmVtb3ZlQ2FyZCIsIl9oYW5kbGVMaWtlQ2FyZCIsIl90ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3IiLCJfZ2V0VGVtcGxhdGUiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2NhcmRBdHRyaWJ1dGVzIiwiX3RpdGxlIiwiX2ltZyIsIl9saWtlQnV0dG9uIiwiX2xpa2VCdXR0b25Db3VudGVyIiwiX3JlbW92ZUJ1dHRvbiIsIl9nZXRMaWtlc1F1YW50aXR5IiwidGV4dENvbnRlbnQiLCJsZW5ndGgiLCJfc2V0VXNlckxpa2VzIiwic29tZSIsIml0ZW0iLCJhZGQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2VCdXR0b24iLCJpZCIsImdlbmVyYXRlQ2FyZCIsInNyYyIsImFsdCIsInN0eWxlIiwiZGlzcGxheSIsInBvcHVwSXNPcGVuZWRDbGFzcyIsInBvcHVwU2VsZWN0b3IiLCJrZXkiLCJjbG9zZSIsImNvbnRhaW5zIiwiX3BvcHVwIiwiX2Nsb3NlQnV0dG9uIiwib3BlbiIsIl9oYW5kbGVFc2NDbG9zZSIsIl9oYW5kbGVPdmVybGF5Q2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJQb3B1cFdpdGhGb3JtIiwiUG9wdXAiLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtIiwiX2lucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZXNldCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwiZm9yRWFjaCIsImlucHV0IiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm0iLCJfaGFzVmFsaWRJbnB1dCIsIl9kaXNhYmxlU3VibWl0QnV0dG9uIiwiX2VuYWJsZVN1Ym1pdEJ1dHRvbiIsIl9jb25maWciLCJfdG9nZ2xlQnV0dG9uIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9idXR0b24iLCJfc2hvd0lucHV0RXJyb3IiLCJlcnJvck1zZyIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiX2hpZGVJbnB1dEVycm9yIiwidmFsaWRpdHkiLCJ2YWxpZCIsImRpc2FibGVkIiwicmVzZXRWYWxpZGF0aW9uIiwiZW5hYmxlVmFsaWRhdGlvbiIsInByb2ZpbGVGb3JtVmFsaWRhdG9yIiwiRm9ybVZhbGlkYXRvciIsInBvc3RjYXJkRm9ybVZhbGlkYXRvciIsImFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsIl9yZXR1cm5SZXMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0SW5pdGlhbGNhcmRzIiwiZmV0Y2giLCJtZXRob2QiLCJ0aGVuIiwiZ2V0VXNlckluZm8iLCJzZXRVc2VySW5mbyIsImFib3V0IiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhZGRDYXJkIiwiYXV0aG9yaXphdGlvbiIsIm5ld1VzZXIiLCJ1c2VyTmFtZVNlbGVjdG9yIiwidXNlckpvYlNlbGVjdG9yIiwidXNlckF2YXRhclNlbGVjdG9yIiwiX3VzZXJOYW1lRWxlbWVudCIsIl91c2VySm9iRWxlbWVudCIsIl91c2VyQXZhdGFyRWxlbWVudCIsInVzZXJOYW1lIiwidXNlckpvYiIsImdldFVzZXJJZCIsInNldFVzZXJJZCIsInNldFVzZXJBdmF0YXIiLCJhdmF0YXIiLCJ1c2VybmFtZSIsInVzZXJqb2IiLCJjYXJkTGlzdCIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVyIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwic2V0SXRlbSIsImFwcGVuZCIsInBvc3RjYXJkIiwiY3JlYXRlQ2FyZCIsImltYWdlUG9wdXAiLCJyZW1vdmVJbWFnZVBvcHVwIiwic2V0U3VibWl0QWN0aW9uIiwiYWxsIiwidXNlckRhdGEiLCJjYXJkc0RhdGEiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJhZGRQb3N0Y2FyZCIsIm5ld1Bvc3RjYXJkIiwiZWRpdFByb2ZpbGVNb2RhbCIsIl9wb3B1cEltYWdlIiwiX3BvcHVwQ2FwdGlvbiIsImFjdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=
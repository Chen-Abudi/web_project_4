!function(){"use strict";const e={formSelector:".popup__form",inputSelector:".form__input",submitButtonSelector:".form__button",inactiveButtonClass:"form__button_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_visible"},t=document.querySelector(".popup__form_type_profile"),s=document.querySelector(".profile"),r=(s.querySelector(".profile__name"),s.querySelector(".profile__description"),s.querySelector(".profile__edit-button")),o=s.querySelector(".profile__add-button"),i=document.querySelector(".form"),n=i.querySelector(".form__input_type_profile-name"),a=i.querySelector(".form__input_type_profile-title"),c=document.querySelector(".popup__form_type_add-postcard");document.querySelector(".popup_type_add-postcard"),document.querySelector(".popup_type_image-ex"),document.querySelector(".postcards").querySelector(".postcards__list");class l{constructor(e,t,s,r){let{handleCardClick:o,handleRemoveCard:i,handleLikeCard:n}=s;var a,c;c=e=>{e.target.classList.toggle("postcard__like-button_active")},(a="_handleLikeButton")in this?Object.defineProperty(this,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):this[a]=c,this._name=e.name,this._link=e.link,this._userId=r,this._cardId=e._id,this._ownerId=e.owner._id,this._likes=e.likes,this._handleCardClick=o,this._handleRemoveCard=i,this._handleLikeCard=n,this._templatePostcardSelector=t}_getTemplate(){return document.querySelector(this._templatePostcardSelector).content.querySelector(".postcard").cloneNode(!0)}_cardAttributes(){this._title=this._postcardListItem.querySelector(".postcard__title"),this._img=this._postcardListItem.querySelector(".postcard__image"),this._likeButton=this._postcardListItem.querySelector(".postcard__like-button"),this._likeButtonCounter=this._postcardListItem.querySelector(".postcard__like-counter"),this._removeButton=this._postcardListItem.querySelector(".postcard__remove-button")}_getLikesQuantity(){this._likeButtonCounter.textContent=this._likes.length}setRemoveCard(){this._postcardListItem.remove(),this._postcardListItem=null}_setUserLikes(){this._likes.some((e=>e._id===this._userId))&&this._likeButton.classList.add("postcard__like-button_active")}_setEventListeners(){this._likeButton.addEventListener("click",this._handleLikeButton),this._removeButton.addEventListener("click",(()=>{this._handleRemoveCard({id:this._cardId})})),this._img.addEventListener("click",(()=>{this._handleCardClick(this._name,this._link)}))}generateCard(){return this._postcardListItem=this._getTemplate(),this._cardAttributes(),this._getLikesQuantity(),this._setUserLikes(),this._title.textContent=this._name,this._img.src=this._link,this._img.alt="A colorful and magnificent view of ".concat(this._name),this._ownerId!==this._userId&&(this._removeButton.style.display="none"),this._setEventListeners(),this._postcardListItem}}function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const _="popup_receptive";var d=class{constructor(e){u(this,"_handleEscClose",(e=>{"Escape"===e.key&&this.close()})),u(this,"_handleOverlayClose",(e=>{e.target.classList.contains("popup")&&this.close()})),this._popup=document.querySelector(e),this._closeButton=this._popup.querySelector(".popup__close-button")}open(){this._popup.classList.add(_),document.addEventListener("keydown",this._handleEscClose),document.addEventListener("mousedown",this._handleOverlayClose)}close(){this._popup.classList.remove(_),document.removeEventListener("keydown",this._handleEscClose),document.removeEventListener("mousedown",this._handleOverlayClose)}setEventListeners(){this._closeButton.addEventListener("click",(()=>this.close()))}};class h extends d{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super(t),this._handleFormSubmit=s,this._form=this._popup.querySelector(".popup__form"),this._inputList=[...this._form.querySelectorAll(".form__input")]}close(){super.close(),this._form.reset()}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}}function p(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var m=class{constructor(e,t){p(this,"_toggleButton",(()=>{this._hasValidInput()?this._disableSubmitButton():this._enableSubmitButton()})),p(this,"_setEventListeners",(()=>{const{inputSelector:e}=this._config;this._inputList=[...this._form.querySelectorAll(e)],this._toggleButton(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e,this._config),this._toggleButton()}))}))})),this._config=e,this._form=t,this._button=this._form.querySelector(this._config.submitButtonSelector)}_showInputError(e){const{inputErrorClass:t,errorClass:s}=this._config,r=e.validationMessage,o=this._form.querySelector(".".concat(e.id,"-error"));e.classList.add(t),o.textContent=r,o.classList.add(s)}_hideInputError(e){const{inputErrorClass:t,errorClass:s}=this._config,r=this._form.querySelector(".".concat(e.id,"-error"));e.classList.remove(t),r.textContent="",r.classList.remove(s)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasValidInput(){return this._inputList.some((e=>!e.validity.valid))}_enableSubmitButton(){const{inactiveButtonClass:e}=this._config;this._button.disabled=!1,this._button.classList.remove(e)}_disableSubmitButton(){const{inactiveButtonClass:e}=this._config;this._button.disabled=!0,this._button.classList.add(e)}resetValidation(){this._inputList.forEach((e=>{this._hideInputError(e)})),this._toggleButton()}enableValidation(){this._form.addEventListener("reset",(e=>{this._toggleButton()})),this._setEventListeners()}};const v=new m(e,t),b=new m(e,c);v.enableValidation(),b.enableValidation();const f=new class{constructor(e,t){this._baseUrl=e,this._headers=t}_returnRes(e){return e.ok?e.json():Promise.reject("An error just occurred: ".concat(e.status))}getInitialcards(){return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers}).then((e=>this._returnRes(e)))}getUserInfo(){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers}).then((e=>this._returnRes(e)))}setUserInfo(e){let{name:t,about:s}=e;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:s})}).then((e=>this._returnRes(e)))}addCard(e){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then((e=>this._returnRes(e)))}removeCard(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((e=>this._returnRes(e)))}}("https://around.nomoreparties.co/v1/cohort-3-en",{authorization:"7206ed33-5b05-44a8-9280-ab5ebd7021d1","Content-Type":"application/json"}),S=new class{constructor(e){let{userNameSelector:t,userJobSelector:s,userAvatarSelector:r}=e;this._userNameElement=document.querySelector(t),this._userJobElement=document.querySelector(s),this._userAvatarElement=document.querySelector(r)}getUserInfo(){return{userName:this._userNameElement.textContent,userJob:this._userJobElement.textContent}}getUserId(){return this._userId}setUserId(e){this._userId=e}setUserAvatar(e){this._userAvatarElement.src=e}setUserInfo(e,t){this._userNameElement.textContent=e,this._userJobElement.textContent=t}}({userNameSelector:".profile__name",userJobSelector:".profile__description",userAvatarSelector:".profile__image"}),y=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}render(e){e.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}setItem(e){this._container.append(e)}}({renderer:function(e){const t=g(e);y.setItem(t)}},".postcards__list");function g(e){const t=new l(e,"#postcard-template",{handleCardClick:()=>{C.open(e.link,e.name)},handleRemoveCard:e=>{let{id:s}=e;I.open(),I.setSubmitAction((()=>{f.removeCard(s).then((e=>{console.log("postcard is removed",e),t.setRemoveCard()})).then((()=>{console.log("postcard was removed by the server"),I.close()})).catch((e=>console.log(e)))}))},handleLikeCard:()=>{}},S.getUserId());return t.generateCard()}Promise.all([f.getUserInfo(),f.getInitialcards()]).then((e=>{let[t,s]=e;S.setUserInfo(t.name,t.about),S.setUserAvatar(t.avatar),S.setUserId(t._id),y.render(s)})).catch((e=>console.log(e)));const L=new h({popupSelector:".popup_type_add-postcard",handleFormSubmit:e=>{f.addCard(e).then((e=>{const t=g(e);y.addItem(t),L.close()})).catch((e=>console.log(e)))}});L.setEventListeners();const E=new h({popupSelector:".popup_type_edit-profile",handleFormSubmit:e=>{f.setUserInfo({name:e.username,about:e.userjob}).then((e=>{S.setUserInfo(e.name,e.about),E.close()})).catch((e=>console.log(e)))}});E.setEventListeners();const C=new class extends d{constructor(e){super(e),this._popupImage=this._popup.querySelector(".popup__image"),this._popupCaption=this._popup.querySelector(".popup__caption")}open(e,t){this._popupImage.src=e,this._popupImage.alt="A colorful and magnificent view of ".concat(t),this._popupCaption.textContent=t,super.open()}}(".popup_type_image-ex");C.setEventListeners();const I=new class extends d{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super(t),this._handleFormSubmit=s}close(){super.close()}setSubmitAction(e){this._handleFormSubmit=e}setEventListeners(){super.setEventListeners(),this._popup.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()}))}}({popupSelector:".popup_type_remove-postcard",handleFormSubmit:()=>{}});I.setEventListeners(),r.addEventListener("click",(()=>{const{userName:e,userJob:t}=S.getUserInfo();n.value=e,a.value=t,v.resetValidation(),E.open()})),o.addEventListener("click",(()=>{L.open(),b.resetValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBTXBDLEVBQ3ZCSixLQUFLZ0ssWUFBWXZILElBQWpCLDZDQUE2RHZDLEdBQzdERixLQUFLaUssY0FBY3RJLFlBQWN6QixFQUNqQ3lELE1BQU1SLFNKdUo0Qix3QkFDdENnRyxFQUFXNUYsb0JBRVgsTUFBTTZGLEVBQW1CLElLdktWLGNBQStCM0YsRUFDNUNwRSxZQUFZLEdBQXFDLElBQXJDLGNBQUV3RCxFQUFGLGlCQUFpQmEsR0FBb0IsRUFDL0NDLE1BQU1kLEdBQ043QyxLQUFLNEQsa0JBQW9CRixFQUczQlgsUUFDRVksTUFBTVosUUFHUnNHLGdCQUFnQmEsR0FDZGxLLEtBQUs0RCxrQkFBb0JzRyxFQUczQjNHLG9CQUNFSSxNQUFNSixvQkFDTnZELEtBQUtpRCxPQUFPYixpQkFBaUIsVUFBV3hDLElBQ3RDQSxFQUFJMEUsaUJBQ0p0RSxLQUFLNEQseUJMcUptQyxDQUM1Q2YsY0FBZSw4QkFDZmEsaUJBQWtCLFNBRXBCMEYsRUFBaUI3RixvQkFLakJ6RSxFQUFrQnNELGlCQUFpQixTQUFTLEtBQzFDLE1BQU0sU0FBRXlGLEVBQUYsUUFBWUMsR0FBWVIsRUFBUVYsY0FDdEMzSCxFQUFjb0YsTUFBUXdELEVBQ3RCM0ksRUFBZW1GLE1BQVF5RCxFQUV2QnJDLEVBQXFCRixrQkFDckJ3RSxFQUFpQjVHLFVBR25CcEUsRUFBa0JxRCxpQkFBaUIsU0FBUyxLQUMxQ3lILEVBQVkxRyxPQUNad0MsRUFBc0JKLHFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFJlbW92ZUltYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gICAtLS0tLS0tIFRoaXMgT2JqZWN0IENvbnRhaW5zIHRoZSBOZWNlc3NhcnkgRWxlbWVudHM6IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCAqL1xyXG5jb25zdCBjb25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLmZvcm1fX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLmZvcm1fX2J1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwiZm9ybV9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcImZvcm1fX2lucHV0LWVycm9yX3Zpc2libGVcIixcclxufTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vLyBQcm9maWxlIGFuZCBJdHMgRWxlbWVudHM6XHJcbmNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybV90eXBlX3Byb2ZpbGVcIik7XHJcbmNvbnN0IHByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVcIik7XHJcbmNvbnN0IHByb2ZpbGVOYW1lID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiKTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vLyBUaGUgUHJvZmlsZSBCdXR0b25zOlxyXG5jb25zdCBlZGl0UHJvZmlsZUJ1dHRvbiA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuY29uc3QgYWRkUG9zdGNhcmRCdXR0b24gPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vLyBGb3JtIGFuZCBJdHMgQ29tcG9uZW50czpcclxuY29uc3QgY2FyZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XHJcbmNvbnN0IGlucHV0Q2FyZE5hbWUgPSBjYXJkRm9ybS5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2lucHV0X3R5cGVfcHJvZmlsZS1uYW1lXCIpO1xyXG5jb25zdCBpbnB1dENhcmRUaXRsZSA9IGNhcmRGb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIuZm9ybV9faW5wdXRfdHlwZV9wcm9maWxlLXRpdGxlXCJcclxuKTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG5jb25zdCBwb3N0Y2FyZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX3R5cGVfYWRkLXBvc3RjYXJkXCIpO1xyXG5cclxuY29uc3QgYWRkUG9zdGNhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9hZGQtcG9zdGNhcmRcIik7XHJcbmNvbnN0IGltYWdlRXhNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9pbWFnZS1leFwiKTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vLyBQb3N0Y2FyZHMgYW5kIFRoZWlyIEVsZW1lbnQ6XHJcbmNvbnN0IHBvc3RjYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9zdGNhcmRzXCIpO1xyXG5jb25zdCBwb3N0Y2FyZHNMaXN0ID0gcG9zdGNhcmRzLnF1ZXJ5U2VsZWN0b3IoXCIucG9zdGNhcmRzX19saXN0XCIpO1xyXG5jb25zdCB0ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3IgPSBcIiNwb3N0Y2FyZC10ZW1wbGF0ZVwiO1xyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4vLyBDb25uZWN0aW5nIHRvIFByYWN0aWN1bSdzIEFwaVxyXG5jb25zdCBiYXNlVXJsID0gXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0zLWVuXCI7XHJcbmNvbnN0IGhlYWRlcnMgPSB7XHJcbiAgYXV0aG9yaXphdGlvbjogXCI3MjA2ZWQzMy01YjA1LTQ0YTgtOTI4MC1hYjVlYmQ3MDIxZDFcIixcclxuICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxufTtcclxuXHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuZXhwb3J0IHtcclxuICBjb25maWcsXHJcbiAgcHJvZmlsZUZvcm0sXHJcbiAgcHJvZmlsZSxcclxuICBwcm9maWxlTmFtZSxcclxuICBwcm9maWxlRGVzY3JpcHRpb24sXHJcbiAgZWRpdFByb2ZpbGVCdXR0b24sXHJcbiAgYWRkUG9zdGNhcmRCdXR0b24sXHJcbiAgaW5wdXRDYXJkTmFtZSxcclxuICBpbnB1dENhcmRUaXRsZSxcclxuICBwb3N0Y2FyZEZvcm0sXHJcbiAgYWRkUG9zdGNhcmRNb2RhbCxcclxuICBpbWFnZUV4TW9kYWwsXHJcbiAgcG9zdGNhcmRzTGlzdCxcclxuICB0ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3IsXHJcbiAgYmFzZVVybCxcclxuICBoZWFkZXJzLFxyXG59O1xyXG4iLCIvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUG9zdGNhcmQgQ2xhc3Mg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgZGF0YSxcclxuICAgIHRlbXBsYXRlUG9zdGNhcmRTZWxlY3RvcixcclxuICAgIHsgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVSZW1vdmVDYXJkLCBoYW5kbGVMaWtlQ2FyZCB9LFxyXG4gICAgdXNlcklkXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuICAgIHRoaXMuX2NhcmRJZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlUmVtb3ZlQ2FyZCA9IGhhbmRsZVJlbW92ZUNhcmQ7XHJcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2FyZCA9IGhhbmRsZUxpa2VDYXJkO1xyXG4gICAgdGhpcy5fdGVtcGxhdGVQb3N0Y2FyZFNlbGVjdG9yID0gdGVtcGxhdGVQb3N0Y2FyZFNlbGVjdG9yO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIE1hcmt1cCBUZW1wbGF0ZSDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBwb3N0Y2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9zdGNhcmRcIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICByZXR1cm4gcG9zdGNhcmRFbGVtZW50O1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgX2NhcmRBdHRyaWJ1dGVzKCkge1xyXG4gICAgdGhpcy5fdGl0bGUgPSB0aGlzLl9wb3N0Y2FyZExpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoXCIucG9zdGNhcmRfX3RpdGxlXCIpO1xyXG4gICAgdGhpcy5faW1nID0gdGhpcy5fcG9zdGNhcmRMaXN0SXRlbS5xdWVyeVNlbGVjdG9yKFwiLnBvc3RjYXJkX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9wb3N0Y2FyZExpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLnBvc3RjYXJkX19saWtlLWJ1dHRvblwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbkNvdW50ZXIgPSB0aGlzLl9wb3N0Y2FyZExpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLnBvc3RjYXJkX19saWtlLWNvdW50ZXJcIlxyXG4gICAgKTtcclxuICAgIHRoaXMuX3JlbW92ZUJ1dHRvbiA9IHRoaXMuX3Bvc3RjYXJkTGlzdEl0ZW0ucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIucG9zdGNhcmRfX3JlbW92ZS1idXR0b25cIlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIC8vIFNob3dzIHRoZSBMaWtlcyBRdWFudGl0eVxyXG4gIF9nZXRMaWtlc1F1YW50aXR5KCkge1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbkNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUG9zdGNhcmQgUmVtb3ZlIEJ1dHRvbiBGdW5jdGlvbiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICAvLyBfaGFuZGxlUmVtb3ZlQnV0dG9uID0gKCkgPT4ge1xyXG4gIC8vICAgdGhpcy5fcG9zdGNhcmRMaXN0SXRlbS5yZW1vdmUoKTtcclxuICAvLyAgIHRoaXMuX3Bvc3RjYXJkTGlzdEl0ZW0gPSBudWxsO1xyXG4gIC8vIH07XHJcblxyXG4gIHNldFJlbW92ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9wb3N0Y2FyZExpc3RJdGVtLnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fcG9zdGNhcmRMaXN0SXRlbSA9IG51bGw7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUG9zdGNhcmQgTGlrZSBCdXR0b24gRnVuY3Rpb24g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgX2hhbmRsZUxpa2VCdXR0b24gPSAoZXZ0KSA9PiB7XHJcbiAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoXCJwb3N0Y2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gIH07XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIF9zZXRVc2VyTGlrZXMoKSB7XHJcbiAgICBpZiAodGhpcy5fbGlrZXMuc29tZSgoaXRlbSkgPT4gaXRlbS5faWQgPT09IHRoaXMuX3VzZXJJZCkpIHtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwicG9zdGNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBFdmVudCBMaXN0ZW5lcnMgZm9yIHRoZSBOZWNlc3NhcnkgZnVuY3Rpb25zIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24pO1xyXG4gICAgLy8gdGhpcy5fcmVtb3ZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVSZW1vdmVCdXR0b24pO1xyXG5cclxuICAgIHRoaXMuX3JlbW92ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVSZW1vdmVDYXJkKHtcclxuICAgICAgICBpZDogdGhpcy5fY2FyZElkLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2ltZy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fbmFtZSwgdGhpcy5fbGluayk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8qIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gICAgIC0tLS0tLS0tLSBGdW5jdGlvbiBGb3IgUG9zdGNhcmRzIFBvcHVsYXRlZCB3aXRoIERhdGE6IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgKi9cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9wb3N0Y2FyZExpc3RJdGVtID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX2NhcmRBdHRyaWJ1dGVzKCk7XHJcbiAgICB0aGlzLl9nZXRMaWtlc1F1YW50aXR5KCk7XHJcbiAgICB0aGlzLl9zZXRVc2VyTGlrZXMoKTtcclxuXHJcbiAgICB0aGlzLl90aXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9pbWcuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2ltZy5hbHQgPSBgQSBjb2xvcmZ1bCBhbmQgbWFnbmlmaWNlbnQgdmlldyBvZiAke3RoaXMuX25hbWV9YDtcclxuXHJcbiAgICB0aGlzLl9vd25lcklkICE9PSB0aGlzLl91c2VySWQgJiZcclxuICAgICAgKHRoaXMuX3JlbW92ZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCIpO1xyXG5cclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX3Bvc3RjYXJkTGlzdEl0ZW07XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG59XHJcbiIsImNvbnN0IHBvcHVwSXNPcGVuZWRDbGFzcyA9IFwicG9wdXBfcmVjZXB0aXZlXCI7XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBQb3B1cCBDbGFzcyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnV0dG9uXCIpO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFBPUFVQIFdpbmRvd3MgQ2xvc2luZyBieSBFc2MgS2V5IOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICBfaGFuZGxlT3ZlcmxheUNsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBcIikpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgLyog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgICAtLS0tLS0tLS0tLS0tLS0tLSBQT1BVUCBXaW5kb3dzIEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAtLS0tLS0tLS0tLS0tLS0tLS0gRXNjIENsb3NlIEV2ZW50IExpc3RlbmVyczogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCAqL1xyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKHBvcHVwSXNPcGVuZWRDbGFzcyk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX2hhbmRsZU92ZXJsYXlDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUocG9wdXBJc09wZW5lZENsYXNzKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5faGFuZGxlT3ZlcmxheUNsb3NlKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBDbG9zaW5nIFBvcHVwIEV2ZW50IExpc3RlbmVycyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLmNsb3NlKCkpO1xyXG4gIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cDtcclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUG9wdXAgV2l0aCBGb3JtIENsYXNzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0XCIpXTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgCBSZXNldHMgRm9ybSBvbmNlIHRoZSBQb3B1cCBpcyBDbG9zZWQg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSAIENvbGxlY3RzIERBVEEgZnJvbSBJbnB1dCBGaWVsZHMgYW5kIFJldHVybnMgaXQgYXMgYW4gT2JqZWN0IOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLyog4pSA4pSA4pSA4pSA4pSAIE1vZGlmaWVzIGl0cyBQYXJlbnQgd2l0aCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICAgICDilIDilIDilIDilIDilIAgRm9ybSBFdmVudCBIYW5kbGVyIGFuZCBDbG9zZSBpY29uIEV2ZW50IExpc3RlbmVyIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCAqL1xyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG59XHJcbiIsIi8qIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRk9STSBWQUxJREFUSU9OIENsYXNzOiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCAqL1xyXG5jbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm0pIHtcclxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcclxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xyXG5cclxuICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSAIERJU1BMQVlJTkcgdGhlIEVSUk9SIE1FU1NBR0UgRm9yIHRoZSBOZWNlc3NhcnkgSU5QVVRTOiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXQpIHtcclxuICAgIGNvbnN0IHsgaW5wdXRFcnJvckNsYXNzLCBlcnJvckNsYXNzIH0gPSB0aGlzLl9jb25maWc7XHJcbiAgICBjb25zdCBlcnJvck1zZyA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTXNnO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIAgQ09OQ0VBTElORyB0aGUgRVJST1IgTUVTU0FHRSBGb3IgdGhlIE5lY2Vzc2FyeSBJTlBVVFM64pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0KSB7XHJcbiAgICBjb25zdCB7IGlucHV0RXJyb3JDbGFzcywgZXJyb3JDbGFzcyB9ID0gdGhpcy5fY29uZmlnO1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShlcnJvckNsYXNzKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBDSEVDS0lORyBJZiB0aGUgRm9ybSBJcyBWQUxJRDog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCkge1xyXG4gICAgaWYgKCFpbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIAgQ0hFQ0tJTkcgSWYgQXQgTGVhc3QgT05FIElucHV0IElzIFZBTElEOiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBfaGFzVmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIERPTUlOQVRJTkcgdGhlIEJ1dHRvbiBBQ1RJVklUWTog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgX2VuYWJsZVN1Ym1pdEJ1dHRvbigpIHtcclxuICAgIGNvbnN0IHsgaW5hY3RpdmVCdXR0b25DbGFzcyB9ID0gdGhpcy5fY29uZmlnO1xyXG4gICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLl9idXR0b24uY2xhc3NMaXN0LnJlbW92ZShpbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9kaXNhYmxlU3VibWl0QnV0dG9uKCkge1xyXG4gICAgY29uc3QgeyBpbmFjdGl2ZUJ1dHRvbkNsYXNzIH0gPSB0aGlzLl9jb25maWc7XHJcbiAgICB0aGlzLl9idXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgdGhpcy5fYnV0dG9uLmNsYXNzTGlzdC5hZGQoaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgTU9ESUZZIHRoZSBCdXR0b24gQWN0aXZpdHk6IOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIF90b2dnbGVCdXR0b24gPSAoKSA9PiB7XHJcbiAgICAvLyB0aGlzLl9idXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgIGlmICh0aGlzLl9oYXNWYWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5fZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZW5hYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLyog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgICAgLS0tLS0tLS0tLSBTZXR0aW5nIEVWRU5UIExJU1RFTkVSUyBGb3IgdGhlIE5lY2Vzc2FyeSBJTlBVVFM6IC0tLS0tLS0tLS0tLS0tLVxyXG4gICAgIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCAqL1xyXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgIGNvbnN0IHsgaW5wdXRTZWxlY3RvciB9ID0gdGhpcy5fY29uZmlnO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChpbnB1dFNlbGVjdG9yKV07XHJcblxyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQsIHRoaXMuX2NvbmZpZyk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIEFmdGVyIFN1Ym1pdHRpbmcsIHRoZSBGT1JNIFZBTElEQVRJT04gUkVTRVRTOiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xyXG4gICAgICAvLyB0aGlzLl9kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbigpO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIEVuYWJsZXMgRm9ybSBWYWxpZGF0aW9uOiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwicmVzZXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICB0aGlzLl90b2dnbGVCdXR0b24oKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiOyAvLyBpbXBvcnQgb2YgdGhlIG1haW4gc3R5bGVzaGVldHMgZmlsZVxyXG5cclxuaW1wb3J0IHtcclxuICBjb25maWcsXHJcbiAgcHJvZmlsZUZvcm0sXHJcbiAgZWRpdFByb2ZpbGVCdXR0b24sXHJcbiAgYWRkUG9zdGNhcmRCdXR0b24sXHJcbiAgaW5wdXRDYXJkTmFtZSxcclxuICBpbnB1dENhcmRUaXRsZSxcclxuICBwb3N0Y2FyZEZvcm0sXHJcbiAgdGVtcGxhdGVQb3N0Y2FyZFNlbGVjdG9yLFxyXG4gIGJhc2VVcmwsXHJcbiAgaGVhZGVycyxcclxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBQb3B1cFJlbW92ZUltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwUmVtb3ZlSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5cclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuXHJcbmltcG9ydCBhbGxQb3N0Y2FyZHMgZnJvbSBcIi4uL3V0aWxzL2FsbFBvc3RjYXJkcy5qc1wiO1xyXG5cclxuY29uc3QgcHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIHByb2ZpbGVGb3JtKTtcclxuY29uc3QgcG9zdGNhcmRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBwb3N0Y2FyZEZvcm0pO1xyXG5cclxucHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5wb3N0Y2FyZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoYmFzZVVybCwgaGVhZGVycyk7XHJcblxyXG4vLyBBbiBJbnN0YW50IG9mIFVzZXIgSW5mb1xyXG5jb25zdCBuZXdVc2VyID0gbmV3IFVzZXJJbmZvKHtcclxuICB1c2VyTmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX19uYW1lXCIsXHJcbiAgdXNlckpvYlNlbGVjdG9yOiBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxyXG4gIHVzZXJBdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9faW1hZ2VcIixcclxufSk7XHJcblxyXG4vLyBhcGkuZ2V0VXNlckluZm8oKS50aGVuKChyZXMpID0+IHtcclxuLy8gICBuZXdVc2VyLnNldFVzZXJJbmZvKHJlcy5uYW1lLCByZXMuYWJvdXQpO1xyXG4vLyAgIG5ld1VzZXIuc2V0VXNlckF2YXRhcihyZXMuYXZhdGFyKTtcclxuLy8gICBuZXdVc2VyLnNldFVzZXJJZChyZXMuX2lkKTtcclxuLy8gfSk7XHJcblxyXG4vLyBhcGkuZ2V0SW5pdGlhbGNhcmRzKCkudGhlbigoKSA9PiB7XHJcbi8vICAgY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbihcclxuLy8gICAgIHtcclxuLy8gICAgICAgLy8gZGF0YTogcmVzLFxyXG4vLyAgICAgICByZW5kZXJlcjogKGRhdGEpID0+IHtcclxuLy8gICAgICAgICBjb25zdCBwb3N0Y2FyZCA9IGNyZWF0ZUNhcmQoZGF0YSk7XHJcbi8vICAgICAgICAgY2FyZExpc3Quc2V0SXRlbShwb3N0Y2FyZCk7XHJcbi8vICAgICAgIH0sXHJcbi8vICAgICB9LFxyXG4vLyAgICAgXCIucG9zdGNhcmRzX19saXN0XCJcclxuLy8gICApO1xyXG4vLyAgIGNhcmRMaXN0LnJlbmRlcigpO1xyXG4vLyB9KTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgLy8gcmVuZGVyZXI6IChkYXRhKSA9PiB7XHJcbiAgICAvLyAgIGNvbnN0IHBvc3RjYXJkID0gY3JlYXRlQ2FyZChkYXRhKTtcclxuICAgIC8vICAgY2FyZExpc3Quc2V0SXRlbShwb3N0Y2FyZCk7XHJcbiAgICAvLyB9LFxyXG4gICAgcmVuZGVyZXI6IHJlY2l0ZUNhcmQsXHJcbiAgfSxcclxuICBcIi5wb3N0Y2FyZHNfX2xpc3RcIlxyXG4pO1xyXG4vLyBjYXJkTGlzdC5yZW5kZXIoKTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vKiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICAgLS0tLS0tIEl0IHRha2VzIGFuIGl0ZXJhYmxlIG9mIFByb21pc2VzIGFzIGFuIGlucHV0LCBhbmQgcmV0dXJucyBhIC0tLS0tLS0tLVxyXG4gICAtIHNpbmdsZSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHRvIGFuIGFycmF5IG9mIHRoZSBpbnB1dCBQcm9taXNlcyByZXN1bHQgLS0tXHJcbiAgIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCAqL1xyXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRJbml0aWFsY2FyZHMoKV0pXHJcbiAgLnRoZW4oKFt1c2VyRGF0YSwgY2FyZHNEYXRhXSkgPT4ge1xyXG4gICAgbmV3VXNlci5zZXRVc2VySW5mbyh1c2VyRGF0YS5uYW1lLCB1c2VyRGF0YS5hYm91dCk7XHJcbiAgICBuZXdVc2VyLnNldFVzZXJBdmF0YXIodXNlckRhdGEuYXZhdGFyKTtcclxuICAgIG5ld1VzZXIuc2V0VXNlcklkKHVzZXJEYXRhLl9pZCk7XHJcbiAgICBjYXJkTGlzdC5yZW5kZXIoY2FyZHNEYXRhKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vLyDilIDilIDilIDilIDilIAgR2VuZXJhdGUgQ2FyZCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChkYXRhKSB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgZGF0YSxcclxuICAgIHRlbXBsYXRlUG9zdGNhcmRTZWxlY3RvcixcclxuICAgIHtcclxuICAgICAgaGFuZGxlQ2FyZENsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgaW1hZ2VQb3B1cC5vcGVuKGRhdGEubGluaywgZGF0YS5uYW1lKTtcclxuICAgICAgfSxcclxuICAgICAgaGFuZGxlUmVtb3ZlQ2FyZDogKHsgaWQgfSkgPT4ge1xyXG4gICAgICAgIHJlbW92ZUltYWdlUG9wdXAub3BlbigpO1xyXG5cclxuICAgICAgICByZW1vdmVJbWFnZVBvcHVwLnNldFN1Ym1pdEFjdGlvbigoKSA9PiB7XHJcbiAgICAgICAgICBhcGlcclxuICAgICAgICAgICAgLnJlbW92ZUNhcmQoaWQpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInBvc3RjYXJkIGlzIHJlbW92ZWRcIiwgcmVzKTtcclxuICAgICAgICAgICAgICBjYXJkLnNldFJlbW92ZUNhcmQoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicG9zdGNhcmQgd2FzIHJlbW92ZWQgYnkgdGhlIHNlcnZlclwiKTtcclxuICAgICAgICAgICAgICByZW1vdmVJbWFnZVBvcHVwLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuICAgICAgaGFuZGxlTGlrZUNhcmQ6ICgpID0+IHt9LFxyXG4gICAgfSxcclxuICAgIG5ld1VzZXIuZ2V0VXNlcklkKClcclxuICApO1xyXG4gIC8vIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuXHJcbiAgLy8gcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gIHJldHVybiBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG59XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuLy8gUmVjaXRpbmcgdGhlIFBvc3RjYXJkIG9uIHRoZSBQYWdlXHJcbmZ1bmN0aW9uIHJlY2l0ZUNhcmQoZGF0YSkge1xyXG4gIGNvbnN0IHBvc3RjYXJkID0gY3JlYXRlQ2FyZChkYXRhKTtcclxuICBjYXJkTGlzdC5zZXRJdGVtKHBvc3RjYXJkKTtcclxufVxyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgCBBZGQgUG9zdGNhcmQgTW9kYWwg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmNvbnN0IGFkZFBvc3RjYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiLnBvcHVwX3R5cGVfYWRkLXBvc3RjYXJkXCIsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcclxuICAgIGFwaVxyXG4gICAgICAuYWRkQ2FyZChkYXRhKVxyXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5ld1Bvc3RjYXJkID0gY3JlYXRlQ2FyZChkYXRhKTtcclxuICAgICAgICBjYXJkTGlzdC5hZGRJdGVtKG5ld1Bvc3RjYXJkKTtcclxuICAgICAgICBhZGRQb3N0Y2FyZC5jbG9zZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgfSxcclxufSk7XHJcbmFkZFBvc3RjYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuLy8g4pSA4pSA4pSA4pSA4pSAIEVkaXQgUHJvZmlsZSBNb2RhbCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuY29uc3QgZWRpdFByb2ZpbGVNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIi5wb3B1cF90eXBlX2VkaXQtcHJvZmlsZVwiLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XHJcbiAgICBhcGlcclxuICAgICAgLnNldFVzZXJJbmZvKHsgbmFtZTogZGF0YS51c2VybmFtZSwgYWJvdXQ6IGRhdGEudXNlcmpvYiB9KVxyXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIG5ld1VzZXIuc2V0VXNlckluZm8oZGF0YS5uYW1lLCBkYXRhLmFib3V0KTtcclxuICAgICAgICBlZGl0UHJvZmlsZU1vZGFsLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICB9LFxyXG59KTtcclxuZWRpdFByb2ZpbGVNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfdHlwZV9pbWFnZS1leFwiKTtcclxuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgcmVtb3ZlSW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFJlbW92ZUltYWdlKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIi5wb3B1cF90eXBlX3JlbW92ZS1wb3N0Y2FyZFwiLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6ICgpID0+IHt9LFxyXG59KTtcclxucmVtb3ZlSW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLyog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgIC0tLS0tLS0tLS0tLS0tLS0tLS0gQWRkaW5nIHRoZSBOZWNlc3NhcnkgRXZlbnQgTGlzdGVuZXJzOiAtLS0tLS0tLS0tLS0tLS0tLS1cclxuICAg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAICovXHJcbmVkaXRQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY29uc3QgeyB1c2VyTmFtZSwgdXNlckpvYiB9ID0gbmV3VXNlci5nZXRVc2VySW5mbygpO1xyXG4gIGlucHV0Q2FyZE5hbWUudmFsdWUgPSB1c2VyTmFtZTtcclxuICBpbnB1dENhcmRUaXRsZS52YWx1ZSA9IHVzZXJKb2I7XHJcblxyXG4gIHByb2ZpbGVGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGVkaXRQcm9maWxlTW9kYWwub3BlbigpO1xyXG59KTtcclxuXHJcbmFkZFBvc3RjYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgYWRkUG9zdGNhcmQub3BlbigpO1xyXG4gIHBvc3RjYXJkRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxuXHJcbiAgLy8gcG9zdGNhcmRGb3JtLnJlc2V0KCk7XHJcbn0pO1xyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3RvcihiYXNlVXJsLCBoZWFkZXJzKSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgX3JldHVyblJlcyhyZXMpIHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIC8vIGNvbnN0IGpzb24gPSByZXMuanNvbigpO1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyhqc29uKTtcclxuICAgICAgLy8gcmV0dXJuIGpzb247XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEFuIGVycm9yIGp1c3Qgb2NjdXJyZWQ6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxjYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9yZXR1cm5SZXMocmVzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fcmV0dXJuUmVzKHJlcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGFib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fcmV0dXJuUmVzKHJlcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZENhcmQoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fcmV0dXJuUmVzKHJlcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3JldHVyblJlcyhyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsIi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBVc2VyIEluZm8gQ2xhc3Mg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IHVzZXJOYW1lU2VsZWN0b3IsIHVzZXJKb2JTZWxlY3RvciwgdXNlckF2YXRhclNlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuX3VzZXJOYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl91c2VySm9iRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckpvYlNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3VzZXJBdmF0YXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyQXZhdGFyU2VsZWN0b3IpO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSAIFJldHVybnMgYW4gT2JqZWN0IHdpdGggVXNlciBJbmZvIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdXNlck5hbWU6IHRoaXMuX3VzZXJOYW1lRWxlbWVudC50ZXh0Q29udGVudCxcclxuICAgICAgdXNlckpvYjogdGhpcy5fdXNlckpvYkVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICB9O1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgZ2V0VXNlcklkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3VzZXJJZDtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJZCh1c2VySWQpIHtcclxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuICB9XHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICBzZXRVc2VyQXZhdGFyKGF2YXRhcikge1xyXG4gICAgdGhpcy5fdXNlckF2YXRhckVsZW1lbnQuc3JjID0gYXZhdGFyO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSAIEFkZGluZyBOZXcgVXNlciBEYXRhIHRvIFBhZ2Ug4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgc2V0VXNlckluZm8odXNlcm5hbWUsIHVzZXJqb2IpIHtcclxuICAgIC8vIGNvbnN0IHsgdXNlcm5hbWUsIHVzZXJqb2IgfSA9IGRhdGE7XHJcbiAgICB0aGlzLl91c2VyTmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSB1c2VybmFtZTtcclxuICAgIHRoaXMuX3VzZXJKb2JFbGVtZW50LnRleHRDb250ZW50ID0gdXNlcmpvYjtcclxuICB9XHJcbn1cclxuIiwiLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFNlY3Rpb24gQ2xhc3Mg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIC8vIHRoaXMuX3JlbmRlcmVkSXRlbXMgPSBkYXRhO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFJlY2l0ZSBFYWNoIEVsZW1lbnQgb24gUGFnZSDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICByZW5kZXIoZGF0YSkge1xyXG4gICAgZGF0YS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIAgQWRkaW5nIERPTSBlbGVtZW50IHRvIENvbnRhaW5lciDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgc2V0SXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBQb3B1cCBJbWFnZSBDbGFzcyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9wb3B1cENhcHRpb24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jYXB0aW9uXCIpO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIFBvcHVwIEltYWdlIERhdGEg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgb3BlbihsaW5rLCBuYW1lKSB7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IGBBIGNvbG9yZnVsIGFuZCBtYWduaWZpY2VudCB2aWV3IG9mICR7bmFtZX1gO1xyXG4gICAgdGhpcy5fcG9wdXBDYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG4vLyDilIDilIDilIDilIDilIDilIAgUG9wdXAgRm9yIFJlbW92ZSBQb3N0Y2FyZCBDbGFzc3Mg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwUmVtb3ZlSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0IH0pIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICBzZXRTdWJtaXRBY3Rpb24oYWN0aW9uKSB7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gYWN0aW9uO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImNvbmZpZyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwicHJvZmlsZUZvcm0iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9maWxlIiwiZWRpdFByb2ZpbGVCdXR0b24iLCJhZGRQb3N0Y2FyZEJ1dHRvbiIsImNhcmRGb3JtIiwiaW5wdXRDYXJkTmFtZSIsImlucHV0Q2FyZFRpdGxlIiwicG9zdGNhcmRGb3JtIiwiQ2FyZCIsImNvbnN0cnVjdG9yIiwiZGF0YSIsInRlbXBsYXRlUG9zdGNhcmRTZWxlY3RvciIsInVzZXJJZCIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZVJlbW92ZUNhcmQiLCJoYW5kbGVMaWtlQ2FyZCIsImV2dCIsInRhcmdldCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfdXNlcklkIiwiX2NhcmRJZCIsIl9pZCIsIl9vd25lcklkIiwib3duZXIiLCJfbGlrZXMiLCJsaWtlcyIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlUmVtb3ZlQ2FyZCIsIl9oYW5kbGVMaWtlQ2FyZCIsIl90ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3IiLCJfZ2V0VGVtcGxhdGUiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2NhcmRBdHRyaWJ1dGVzIiwiX3RpdGxlIiwiX3Bvc3RjYXJkTGlzdEl0ZW0iLCJfaW1nIiwiX2xpa2VCdXR0b24iLCJfbGlrZUJ1dHRvbkNvdW50ZXIiLCJfcmVtb3ZlQnV0dG9uIiwiX2dldExpa2VzUXVhbnRpdHkiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsInNldFJlbW92ZUNhcmQiLCJyZW1vdmUiLCJfc2V0VXNlckxpa2VzIiwic29tZSIsIml0ZW0iLCJhZGQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2VCdXR0b24iLCJpZCIsImdlbmVyYXRlQ2FyZCIsInNyYyIsImFsdCIsInN0eWxlIiwiZGlzcGxheSIsInBvcHVwSXNPcGVuZWRDbGFzcyIsInBvcHVwU2VsZWN0b3IiLCJrZXkiLCJjbG9zZSIsImNvbnRhaW5zIiwiX3BvcHVwIiwiX2Nsb3NlQnV0dG9uIiwib3BlbiIsIl9oYW5kbGVFc2NDbG9zZSIsIl9oYW5kbGVPdmVybGF5Q2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJQb3B1cFdpdGhGb3JtIiwiUG9wdXAiLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtIiwiX2lucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZXNldCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwiZm9yRWFjaCIsImlucHV0IiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm0iLCJfaGFzVmFsaWRJbnB1dCIsIl9kaXNhYmxlU3VibWl0QnV0dG9uIiwiX2VuYWJsZVN1Ym1pdEJ1dHRvbiIsIl9jb25maWciLCJfdG9nZ2xlQnV0dG9uIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9idXR0b24iLCJfc2hvd0lucHV0RXJyb3IiLCJlcnJvck1zZyIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiX2hpZGVJbnB1dEVycm9yIiwidmFsaWRpdHkiLCJ2YWxpZCIsImRpc2FibGVkIiwicmVzZXRWYWxpZGF0aW9uIiwiZW5hYmxlVmFsaWRhdGlvbiIsInByb2ZpbGVGb3JtVmFsaWRhdG9yIiwiRm9ybVZhbGlkYXRvciIsInBvc3RjYXJkRm9ybVZhbGlkYXRvciIsImFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsIl9yZXR1cm5SZXMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0SW5pdGlhbGNhcmRzIiwiZmV0Y2giLCJtZXRob2QiLCJ0aGVuIiwiZ2V0VXNlckluZm8iLCJzZXRVc2VySW5mbyIsImFib3V0IiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhZGRDYXJkIiwicmVtb3ZlQ2FyZCIsImNhcmRJZCIsImF1dGhvcml6YXRpb24iLCJuZXdVc2VyIiwidXNlck5hbWVTZWxlY3RvciIsInVzZXJKb2JTZWxlY3RvciIsInVzZXJBdmF0YXJTZWxlY3RvciIsIl91c2VyTmFtZUVsZW1lbnQiLCJfdXNlckpvYkVsZW1lbnQiLCJfdXNlckF2YXRhckVsZW1lbnQiLCJ1c2VyTmFtZSIsInVzZXJKb2IiLCJnZXRVc2VySWQiLCJzZXRVc2VySWQiLCJzZXRVc2VyQXZhdGFyIiwiYXZhdGFyIiwidXNlcm5hbWUiLCJ1c2Vyam9iIiwiY2FyZExpc3QiLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlciIsImFkZEl0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsInNldEl0ZW0iLCJhcHBlbmQiLCJwb3N0Y2FyZCIsImNyZWF0ZUNhcmQiLCJjYXJkIiwiaW1hZ2VQb3B1cCIsInJlbW92ZUltYWdlUG9wdXAiLCJzZXRTdWJtaXRBY3Rpb24iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJhbGwiLCJ1c2VyRGF0YSIsImNhcmRzRGF0YSIsImFkZFBvc3RjYXJkIiwibmV3UG9zdGNhcmQiLCJlZGl0UHJvZmlsZU1vZGFsIiwiX3BvcHVwSW1hZ2UiLCJfcG9wdXBDYXB0aW9uIiwiYWN0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==
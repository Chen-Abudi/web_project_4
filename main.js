!function(){"use strict";const e={formSelector:".popup__form",inputSelector:".form__input",submitButtonSelector:".form__button",inactiveButtonClass:"form__button_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_visible"},t=document.querySelector(".popup__form_type_profile"),s=document.querySelector(".profile"),r=(s.querySelector(".profile__name"),s.querySelector(".profile__description"),s.querySelector(".profile__edit-button")),o=s.querySelector(".profile__add-button"),i=document.querySelector(".form"),n=i.querySelector(".form__input_type_profile-name"),a=i.querySelector(".form__input_type_profile-title"),c=document.querySelector(".popup__form_type_add-postcard"),l=(document.querySelector(".popup_type_add-postcard"),document.querySelector(".popup_type_image-ex"),document.querySelector(".postcards").querySelector(".postcards__list"),document.querySelector(".profile__image-overlay")),u=document.querySelector(".popup__form_type_avatar-update");class _{constructor(e,t,s,r){let{handleCardClick:o,handleRemoveCard:i,handleLikeCard:n}=s;this._name=e.name,this._link=e.link,this._userId=r,this._cardId=e._id,this._ownerId=e.owner._id,this._likes=e.likes,this._handleCardClick=o,this._handleRemoveCard=i,this._handleLikeCard=n,this._templatePostcardSelector=t}_getTemplate(){return document.querySelector(this._templatePostcardSelector).content.querySelector(".postcard").cloneNode(!0)}_cardAttributes(){this._title=this._postcardListItem.querySelector(".postcard__title"),this._img=this._postcardListItem.querySelector(".postcard__image"),this._likeButton=this._postcardListItem.querySelector(".postcard__like-button"),this._likeButtonCounter=this._postcardListItem.querySelector(".postcard__like-counter"),this._removeButton=this._postcardListItem.querySelector(".postcard__remove-button")}_toggleLikeState(){this._handleLikeCard(this._cardId,this._likes.some((e=>e._id===this._userId))).then((e=>{this._likeButton.classList.toggle("postcard__like-button_active"),this._likes=e.likes,this._likeButtonCounter.textContent=this._likes.length})).catch((e=>console.log(e)))}_getLikesQuantity(){this._likeButtonCounter.textContent=this._likes.length}setRemoveCard(){this._postcardListItem.remove(),this._postcardListItem=null}_setUserLikes(){this._likes.some((e=>e._id===this._userId))&&this._likeButton.classList.add("postcard__like-button_active")}_setEventListeners(){this._likeButton.addEventListener("click",(()=>this._toggleLikeState())),this._removeButton.addEventListener("click",(()=>{this._handleRemoveCard({id:this._cardId})})),this._img.addEventListener("click",(()=>{this._handleCardClick(this._name,this._link)}))}generateCard(){return this._postcardListItem=this._getTemplate(),this._cardAttributes(),this._setUserLikes(),this._getLikesQuantity(),this._title.textContent=this._name,this._img.src=this._link,this._img.alt="A colorful and magnificent view of ".concat(this._name),this._ownerId!==this._userId&&(this._removeButton.style.display="none"),this._setEventListeners(),this._postcardListItem}}function d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const h="popup_receptive";var p=class{constructor(e){d(this,"_handleEscClose",(e=>{"Escape"===e.key&&this.close()})),d(this,"_handleOverlayClose",(e=>{e.target.classList.contains("popup")&&this.close()})),this._popup=document.querySelector(e),this._closeButton=this._popup.querySelector(".popup__close-button"),this._setEventListeners()}open(){this._popup.classList.add(h),document.addEventListener("keydown",this._handleEscClose),document.addEventListener("mousedown",this._handleOverlayClose)}close(){this._popup.classList.remove(h),document.removeEventListener("keydown",this._handleEscClose),document.removeEventListener("mousedown",this._handleOverlayClose)}_setEventListeners(){this._closeButton.addEventListener("click",(()=>this.close()))}};class m extends p{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super(t),this._handleFormSubmit=s,this._form=this._popup.querySelector(".popup__form"),this._inputList=[...this._form.querySelectorAll(".form__input")],this._setEventListenersSubmit()}close(){super.close(),this._form.reset()}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}_setEventListenersSubmit(){this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}}function v(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var b=class{constructor(e,t){v(this,"_toggleButton",(()=>{this._hasValidInput()?this._disableSubmitButton():this._enableSubmitButton()})),v(this,"_setEventListeners",(()=>{const{inputSelector:e}=this._config;this._inputList=[...this._form.querySelectorAll(e)],this._toggleButton(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e,this._config),this._toggleButton()}))}))})),this._config=e,this._form=t,this._button=this._form.querySelector(this._config.submitButtonSelector)}_showInputError(e){const{inputErrorClass:t,errorClass:s}=this._config,r=e.validationMessage,o=this._form.querySelector(".".concat(e.id,"-error"));e.classList.add(t),o.textContent=r,o.classList.add(s)}_hideInputError(e){const{inputErrorClass:t,errorClass:s}=this._config,r=this._form.querySelector(".".concat(e.id,"-error"));e.classList.remove(t),r.textContent="",r.classList.remove(s)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasValidInput(){return this._inputList.some((e=>!e.validity.valid))}_enableSubmitButton(){const{inactiveButtonClass:e}=this._config;this._button.disabled=!1,this._button.classList.remove(e)}_disableSubmitButton(){const{inactiveButtonClass:e}=this._config;this._button.disabled=!0,this._button.classList.add(e)}resetValidation(){this._inputList.forEach((e=>{this._hideInputError(e)})),this._toggleButton()}enableValidation(){this._form.addEventListener("reset",(e=>{this._toggleButton()})),this._setEventListeners()}};const f=new b(e,t),S=new b(e,c),y=new b(e,u);f.enableValidation(),S.enableValidation(),y.enableValidation();const g=new class{constructor(e,t){this._baseUrl=e,this._headers=t}_returnRes(e){return e.ok?e.json():Promise.reject("An error just occurred: ".concat(e.status))}getInitialcards(){return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers}).then((e=>this._returnRes(e)))}getUserInfo(){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers}).then((e=>this._returnRes(e)))}setUserInfo(e){let{name:t,about:s}=e;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:s})}).then((e=>this._returnRes(e)))}setUserAvatar(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((e=>this._returnRes(e)))}addCard(e){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then((e=>this._returnRes(e)))}removeCard(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((e=>this._returnRes(e)))}cardLike(e,t){let s;return s=t?"DELETE":"PUT",fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:s,headers:this._headers}).then((e=>this._returnRes(e)))}}("https://around.nomoreparties.co/v1/cohort-3-en",{authorization:"7206ed33-5b05-44a8-9280-ab5ebd7021d1","Content-Type":"application/json"}),L=new class{constructor(e){let{userNameSelector:t,userJobSelector:s,userAvatarSelector:r}=e;this._userNameElement=document.querySelector(t),this._userJobElement=document.querySelector(s),this._userAvatarElement=document.querySelector(r)}getUserInfo(){return{userName:this._userNameElement.textContent,userJob:this._userJobElement.textContent}}getUserId(){return this._userId}setUserId(e){this._userId=e}setUserAvatar(e){this._userAvatarElement.src=e}setUserInfo(e,t){this._userNameElement.textContent=e,this._userJobElement.textContent=t}}({userNameSelector:".profile__name",userJobSelector:".profile__description",userAvatarSelector:".profile__image"}),C=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}render(e){e.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}setItem(e){this._container.append(e)}}({renderer:function(e){const t=E(e);C.setItem(t)}},".postcards__list");function E(e){const t=new _(e,"#postcard-template",{handleCardClick:()=>{q.open(e.link,e.name)},handleRemoveCard:e=>{let{id:s}=e;U.open(),U.setSubmitAction((()=>{g.removeCard(s).then((e=>{console.log("postcard is removed",e),t.setRemoveCard()})).then((()=>{console.log("postcard was removed by the server"),U.close()})).catch((e=>console.log(e)))}))},handleLikeCard:(e,t)=>g.cardLike(e,t)},L.getUserId());return t.generateCard()}Promise.all([g.getUserInfo(),g.getInitialcards()]).then((e=>{let[t,s]=e;L.setUserInfo(t.name,t.about),L.setUserAvatar(t.avatar),L.setUserId(t._id),C.render(s)})).catch((e=>console.log(e)));const k=new m({popupSelector:".popup_type_add-postcard",handleFormSubmit:e=>{g.addCard(e).then((e=>{const t=E(e);C.addItem(t),k.close()})).catch((e=>console.log(e)))}}),I=new m({popupSelector:".popup_type_edit-profile",handleFormSubmit:e=>{g.setUserInfo({name:e.username,about:e.userjob}).then((e=>{L.setUserInfo(e.name,e.about),I.close()})).catch((e=>console.log(e)))}}),q=new class extends p{constructor(e){super(e),this._popupImage=this._popup.querySelector(".popup__image"),this._popupCaption=this._popup.querySelector(".popup__caption")}open(e,t){this._popupImage.src=e,this._popupImage.alt="A colorful and magnificent view of ".concat(t),this._popupCaption.textContent=t,super.open()}}(".popup_type_image-ex"),U=new class extends p{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super(t),this._handleFormSubmit=s,this._setEventListenersSubmit()}close(){super.close()}setSubmitAction(e){this._handleFormSubmit=e}_setEventListenersSubmit(){this._popup.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()}))}}({popupSelector:".popup_type_remove-postcard"}),w=new m({popupSelector:".popup_type_avatar-update",handleFormSubmit:e=>{g.setUserAvatar(e.link).then((e=>{w.close(),L.setUserAvatar(e.avatar)})).catch((e=>console.log(e)))}});r.addEventListener("click",(()=>{const{userName:e,userJob:t}=L.getUserInfo();n.value=e,a.value=t,f.resetValidation(),I.open()})),o.addEventListener("click",(()=>{k.open(),S.resetValidation()})),l.addEventListener("click",(()=>{w.open(),y.resetValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b0JvRyxFQUczQmhHLDJCQUVFekUsS0FBSzJELE9BQU9kLGlCQUFpQixVQUFXUyxJQUN0Q0EsRUFBSTBCLGlCQUNKaEYsS0FBS3FFLHlCTDBKbUMsQ0FDNUNoQixjQUFlLGdDQU1YcUgsRUFBb0IsSUFBSXpHLEVBQWMsQ0FDMUNaLGNBQWUsNEJBQ2ZjLGlCQUFtQnpFLElBQ2pCNkcsRUFDR29CLGNBQWNqSSxFQUFLVSxNQUNuQnlCLE1BQU1DLElBQ0w0SSxFQUFrQmxILFFBQ2xCMEUsRUFBUVAsY0FBYzdGLEVBQUl4QyxXQUUzQjZDLE9BQU9DLEdBQVFDLFFBQVFDLElBQUlGLFFBU2xDcEQsRUFBa0I2RCxpQkFBaUIsU0FBUyxLQUMxQyxNQUFNLFNBQUU0RixFQUFGLFFBQVlDLEdBQVlSLEVBQVFiLGNBQ3RDbEksRUFBYzRGLE1BQVEwRCxFQUN0QnJKLEVBQWUyRixNQUFRMkQsRUFFdkJ2QyxFQUFxQkYsa0JBQ3JCcUUsRUFBaUJ6RyxVQUduQjVFLEVBQWtCNEQsaUJBQWlCLFNBQVMsS0FDMUN1SCxFQUFZdkcsT0FDWndDLEVBQXNCSixxQkFLeEIzRyxFQUFPdUQsaUJBQWlCLFNBQVMsS0FDL0I2SCxFQUFrQjdHLE9BQ2xCeUMsRUFBb0JMLHFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFJlbW92ZUltYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gICAtLS0tLS0tIFRoaXMgT2JqZWN0IENvbnRhaW5zIHRoZSBOZWNlc3NhcnkgRWxlbWVudHM6IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCAqL1xyXG5jb25zdCBjb25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLmZvcm1fX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLmZvcm1fX2J1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwiZm9ybV9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcImZvcm1fX2lucHV0LWVycm9yX3Zpc2libGVcIixcclxufTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vLyBQcm9maWxlIGFuZCBJdHMgRWxlbWVudHM6XHJcbmNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybV90eXBlX3Byb2ZpbGVcIik7XHJcbmNvbnN0IHByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVcIik7XHJcbmNvbnN0IHByb2ZpbGVOYW1lID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiKTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vLyBUaGUgUHJvZmlsZSBCdXR0b25zOlxyXG5jb25zdCBlZGl0UHJvZmlsZUJ1dHRvbiA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuY29uc3QgYWRkUG9zdGNhcmRCdXR0b24gPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vLyBGb3JtIGFuZCBJdHMgQ29tcG9uZW50czpcclxuY29uc3QgY2FyZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XHJcbmNvbnN0IGlucHV0Q2FyZE5hbWUgPSBjYXJkRm9ybS5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2lucHV0X3R5cGVfcHJvZmlsZS1uYW1lXCIpO1xyXG5jb25zdCBpbnB1dENhcmRUaXRsZSA9IGNhcmRGb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIuZm9ybV9faW5wdXRfdHlwZV9wcm9maWxlLXRpdGxlXCJcclxuKTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG5jb25zdCBwb3N0Y2FyZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX3R5cGVfYWRkLXBvc3RjYXJkXCIpO1xyXG5cclxuY29uc3QgYWRkUG9zdGNhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9hZGQtcG9zdGNhcmRcIik7XHJcbmNvbnN0IGltYWdlRXhNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9pbWFnZS1leFwiKTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vLyBQb3N0Y2FyZHMgYW5kIFRoZWlyIEVsZW1lbnQ6XHJcbmNvbnN0IHBvc3RjYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9zdGNhcmRzXCIpO1xyXG5jb25zdCBwb3N0Y2FyZHNMaXN0ID0gcG9zdGNhcmRzLnF1ZXJ5U2VsZWN0b3IoXCIucG9zdGNhcmRzX19saXN0XCIpO1xyXG5jb25zdCB0ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3IgPSBcIiNwb3N0Y2FyZC10ZW1wbGF0ZVwiO1xyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuLy8gQXZhdGFyXHJcbmNvbnN0IGF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2Utb3ZlcmxheVwiKTtcclxuY29uc3QgdXBkYXRlQXZhdGFyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucG9wdXBfX2Zvcm1fdHlwZV9hdmF0YXItdXBkYXRlXCJcclxuKTtcclxuXHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4vLyBDb25uZWN0aW5nIHRvIFByYWN0aWN1bSdzIEFwaVxyXG5jb25zdCBiYXNlVXJsID0gXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0zLWVuXCI7XHJcbmNvbnN0IGhlYWRlcnMgPSB7XHJcbiAgYXV0aG9yaXphdGlvbjogXCI3MjA2ZWQzMy01YjA1LTQ0YTgtOTI4MC1hYjVlYmQ3MDIxZDFcIixcclxuICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxufTtcclxuXHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuZXhwb3J0IHtcclxuICBjb25maWcsXHJcbiAgcHJvZmlsZUZvcm0sXHJcbiAgcHJvZmlsZSxcclxuICBwcm9maWxlTmFtZSxcclxuICBwcm9maWxlRGVzY3JpcHRpb24sXHJcbiAgZWRpdFByb2ZpbGVCdXR0b24sXHJcbiAgYWRkUG9zdGNhcmRCdXR0b24sXHJcbiAgaW5wdXRDYXJkTmFtZSxcclxuICBpbnB1dENhcmRUaXRsZSxcclxuICBwb3N0Y2FyZEZvcm0sXHJcbiAgYWRkUG9zdGNhcmRNb2RhbCxcclxuICBpbWFnZUV4TW9kYWwsXHJcbiAgcG9zdGNhcmRzTGlzdCxcclxuICB0ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3IsXHJcbiAgYXZhdGFyLFxyXG4gIHVwZGF0ZUF2YXRhckZvcm0sXHJcbiAgYmFzZVVybCxcclxuICBoZWFkZXJzLFxyXG59O1xyXG4iLCJpbXBvcnQgeyB0ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3IgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzXCI7XHJcblxyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUG9zdGNhcmQgQ2xhc3Mg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgZGF0YSxcclxuICAgIHRlbXBsYXRlUG9zdGNhcmRTZWxlY3RvcixcclxuICAgIHsgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVSZW1vdmVDYXJkLCBoYW5kbGVMaWtlQ2FyZCB9LFxyXG4gICAgdXNlcklkXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuICAgIHRoaXMuX2NhcmRJZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlUmVtb3ZlQ2FyZCA9IGhhbmRsZVJlbW92ZUNhcmQ7XHJcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2FyZCA9IGhhbmRsZUxpa2VDYXJkO1xyXG4gICAgdGhpcy5fdGVtcGxhdGVQb3N0Y2FyZFNlbGVjdG9yID0gdGVtcGxhdGVQb3N0Y2FyZFNlbGVjdG9yO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIE1hcmt1cCBUZW1wbGF0ZSDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBwb3N0Y2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9zdGNhcmRcIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICByZXR1cm4gcG9zdGNhcmRFbGVtZW50O1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8gUG9zdGNhcmQgYW5kIGl0cyBhdHRyaWJ1dGVzXHJcbiAgX2NhcmRBdHRyaWJ1dGVzKCkge1xyXG4gICAgdGhpcy5fdGl0bGUgPSB0aGlzLl9wb3N0Y2FyZExpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoXCIucG9zdGNhcmRfX3RpdGxlXCIpO1xyXG4gICAgdGhpcy5faW1nID0gdGhpcy5fcG9zdGNhcmRMaXN0SXRlbS5xdWVyeVNlbGVjdG9yKFwiLnBvc3RjYXJkX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9wb3N0Y2FyZExpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLnBvc3RjYXJkX19saWtlLWJ1dHRvblwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbkNvdW50ZXIgPSB0aGlzLl9wb3N0Y2FyZExpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLnBvc3RjYXJkX19saWtlLWNvdW50ZXJcIlxyXG4gICAgKTtcclxuICAgIHRoaXMuX3JlbW92ZUJ1dHRvbiA9IHRoaXMuX3Bvc3RjYXJkTGlzdEl0ZW0ucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIucG9zdGNhcmRfX3JlbW92ZS1idXR0b25cIlxyXG4gICAgKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIE1vZGlmeSB0aGUgTGlrZSBCdXR0b24gYWN0aXZpdHlcclxuICBfdG9nZ2xlTGlrZVN0YXRlKCkge1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZUNhcmQoXHJcbiAgICAgIHRoaXMuX2NhcmRJZCxcclxuICAgICAgdGhpcy5fbGlrZXMuc29tZSgobGlrZSkgPT4gbGlrZS5faWQgPT09IHRoaXMuX3VzZXJJZClcclxuICAgIClcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcInBvc3RjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICAgICAgdGhpcy5fbGlrZXMgPSByZXMubGlrZXM7XHJcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbkNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIFNob3dzIHRoZSBMaWtlcyBRdWFudGl0eVxyXG4gIF9nZXRMaWtlc1F1YW50aXR5KCkge1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbkNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUG9zdGNhcmQgUmVtb3ZlIEJ1dHRvbiBGdW5jdGlvbiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICAvLyBfaGFuZGxlUmVtb3ZlQnV0dG9uID0gKCkgPT4ge1xyXG4gIC8vICAgdGhpcy5fcG9zdGNhcmRMaXN0SXRlbS5yZW1vdmUoKTtcclxuICAvLyAgIHRoaXMuX3Bvc3RjYXJkTGlzdEl0ZW0gPSBudWxsO1xyXG4gIC8vIH07XHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBQb3N0Y2FyZCBSZW1vdmUgQnV0dG9uIEZ1bmN0aW9uIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIHNldFJlbW92ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9wb3N0Y2FyZExpc3RJdGVtLnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fcG9zdGNhcmRMaXN0SXRlbSA9IG51bGw7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUG9zdGNhcmQgTGlrZSBCdXR0b24gRnVuY3Rpb24g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgLy8gX2hhbmRsZUxpa2VCdXR0b24gPSAoZXZ0KSA9PiB7XHJcbiAgLy8gICBldnQudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoXCJwb3N0Y2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gIC8vIH07XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIF9zZXRVc2VyTGlrZXMoKSB7XHJcbiAgICBpZiAodGhpcy5fbGlrZXMuc29tZSgobGlrZSkgPT4gbGlrZS5faWQgPT09IHRoaXMuX3VzZXJJZCkpIHtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwicG9zdGNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICAgIH1cclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBFdmVudCBMaXN0ZW5lcnMgZm9yIHRoZSBOZWNlc3NhcnkgZnVuY3Rpb25zIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX3RvZ2dsZUxpa2VTdGF0ZSgpKTtcclxuXHJcbiAgICAvLyB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKTtcclxuICAgIC8vIHRoaXMuX3JlbW92ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlUmVtb3ZlQnV0dG9uKTtcclxuXHJcbiAgICB0aGlzLl9yZW1vdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlUmVtb3ZlQ2FyZCh7XHJcbiAgICAgICAgaWQ6IHRoaXMuX2NhcmRJZCxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9pbWcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvKiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICAgICAtLS0tLS0tLS0gRnVuY3Rpb24gRm9yIFBvc3RjYXJkcyBQb3B1bGF0ZWQgd2l0aCBEYXRhOiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAICovXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fcG9zdGNhcmRMaXN0SXRlbSA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9jYXJkQXR0cmlidXRlcygpO1xyXG4gICAgdGhpcy5fc2V0VXNlckxpa2VzKCk7XHJcbiAgICB0aGlzLl9nZXRMaWtlc1F1YW50aXR5KCk7XHJcblxyXG4gICAgdGhpcy5fdGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5faW1nLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9pbWcuYWx0ID0gYEEgY29sb3JmdWwgYW5kIG1hZ25pZmljZW50IHZpZXcgb2YgJHt0aGlzLl9uYW1lfWA7XHJcblxyXG4gICAgdGhpcy5fb3duZXJJZCAhPT0gdGhpcy5fdXNlcklkICYmXHJcbiAgICAgICh0aGlzLl9yZW1vdmVCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiKTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9wb3N0Y2FyZExpc3RJdGVtO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxufVxyXG4iLCJjb25zdCBwb3B1cElzT3BlbmVkQ2xhc3MgPSBcInBvcHVwX3JlY2VwdGl2ZVwiO1xyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUG9wdXAgQ2xhc3Mg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUE9QVVAgV2luZG93cyBDbG9zaW5nIGJ5IEVzYyBLZXkg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIF9oYW5kbGVPdmVybGF5Q2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cFwiKSkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuICAvKiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICAgIC0tLS0tLS0tLS0tLS0tLS0tIFBPUFVQIFdpbmRvd3MgRnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIC0tLS0tLS0tLS0tLS0tLS0tLSBFc2MgQ2xvc2UgRXZlbnQgTGlzdGVuZXJzOiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAICovXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQocG9wdXBJc09wZW5lZENsYXNzKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5faGFuZGxlT3ZlcmxheUNsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShwb3B1cElzT3BlbmVkQ2xhc3MpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xvc2UpO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIENsb3NpbmcgUG9wdXAgRXZlbnQgTGlzdGVuZXJzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLmNsb3NlKCkpO1xyXG4gIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cDtcclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUG9wdXAgV2l0aCBGb3JtIENsYXNzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0XCIpXTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVyc1N1Ym1pdCgpO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSAIFJlc2V0cyBGb3JtIG9uY2UgdGhlIFBvcHVwIGlzIENsb3NlZCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIAgQ29sbGVjdHMgREFUQSBmcm9tIElucHV0IEZpZWxkcyBhbmQgUmV0dXJucyBpdCBhcyBhbiBPYmplY3Qg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvKiDilIDilIDilIDilIDilIAgTW9kaWZpZXMgaXRzIFBhcmVudCB3aXRoIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gICAgIOKUgOKUgOKUgOKUgOKUgCBGb3JtIEV2ZW50IEhhbmRsZXIgYW5kIENsb3NlIGljb24gRXZlbnQgTGlzdGVuZXIg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAICovXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzU3VibWl0KCkge1xyXG4gICAgLy8gc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxufVxyXG4iLCIvKiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEZPUk0gVkFMSURBVElPTiBDbGFzczogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgKi9cclxuY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtKSB7XHJcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XHJcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcclxuXHJcbiAgICB0aGlzLl9idXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgCBESVNQTEFZSU5HIHRoZSBFUlJPUiBNRVNTQUdFIEZvciB0aGUgTmVjZXNzYXJ5IElOUFVUUzog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0KSB7XHJcbiAgICBjb25zdCB7IGlucHV0RXJyb3JDbGFzcywgZXJyb3JDbGFzcyB9ID0gdGhpcy5fY29uZmlnO1xyXG4gICAgY29uc3QgZXJyb3JNc2cgPSBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7aW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKGlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1zZztcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKGVycm9yQ2xhc3MpO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSAIENPTkNFQUxJTkcgdGhlIEVSUk9SIE1FU1NBR0UgRm9yIHRoZSBOZWNlc3NhcnkgSU5QVVRTOuKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dCkge1xyXG4gICAgY29uc3QgeyBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQ2xhc3MgfSA9IHRoaXMuX2NvbmZpZztcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7aW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKGlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgQ0hFQ0tJTkcgSWYgdGhlIEZvcm0gSXMgVkFMSUQ6IOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpIHtcclxuICAgIGlmICghaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSAIENIRUNLSU5HIElmIEF0IExlYXN0IE9ORSBJbnB1dCBJcyBWQUxJRDog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgX2hhc1ZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBET01JTkFUSU5HIHRoZSBCdXR0b24gQUNUSVZJVFk6IOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIF9lbmFibGVTdWJtaXRCdXR0b24oKSB7XHJcbiAgICBjb25zdCB7IGluYWN0aXZlQnV0dG9uQ2xhc3MgfSA9IHRoaXMuX2NvbmZpZztcclxuICAgIHRoaXMuX2J1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5fYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfZGlzYWJsZVN1Ym1pdEJ1dHRvbigpIHtcclxuICAgIGNvbnN0IHsgaW5hY3RpdmVCdXR0b25DbGFzcyB9ID0gdGhpcy5fY29uZmlnO1xyXG4gICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QuYWRkKGluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIE1PRElGWSB0aGUgQnV0dG9uIEFjdGl2aXR5OiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBfdG9nZ2xlQnV0dG9uID0gKCkgPT4ge1xyXG4gICAgLy8gdGhpcy5fYnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICBpZiAodGhpcy5faGFzVmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX2Rpc2FibGVTdWJtaXRCdXR0b24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2VuYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8qIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gICAgIC0tLS0tLS0tLS0gU2V0dGluZyBFVkVOVCBMSVNURU5FUlMgRm9yIHRoZSBOZWNlc3NhcnkgSU5QVVRTOiAtLS0tLS0tLS0tLS0tLS1cclxuICAgICDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgKi9cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGlucHV0U2VsZWN0b3IgfSA9IHRoaXMuX2NvbmZpZztcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoaW5wdXRTZWxlY3RvcildO1xyXG5cclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbigpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0LCB0aGlzLl9jb25maWcpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbigpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH07XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBBZnRlciBTdWJtaXR0aW5nLCB0aGUgRk9STSBWQUxJREFUSU9OIFJFU0VUUzog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgRW5hYmxlcyBGb3JtIFZhbGlkYXRpb246IOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNldFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XHJcbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7IC8vIGltcG9ydCBvZiB0aGUgbWFpbiBzdHlsZXNoZWV0cyBmaWxlXHJcblxyXG5pbXBvcnQge1xyXG4gIGNvbmZpZyxcclxuICBwcm9maWxlRm9ybSxcclxuICBlZGl0UHJvZmlsZUJ1dHRvbixcclxuICBhZGRQb3N0Y2FyZEJ1dHRvbixcclxuICBpbnB1dENhcmROYW1lLFxyXG4gIGlucHV0Q2FyZFRpdGxlLFxyXG4gIHBvc3RjYXJkRm9ybSxcclxuICB0ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3IsXHJcbiAgYXZhdGFyLFxyXG4gIHVwZGF0ZUF2YXRhckZvcm0sXHJcbiAgYmFzZVVybCxcclxuICBoZWFkZXJzLFxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IFBvcHVwUmVtb3ZlSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBSZW1vdmVJbWFnZS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcblxyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5cclxuaW1wb3J0IGFsbFBvc3RjYXJkcyBmcm9tIFwiLi4vdXRpbHMvYWxsUG9zdGNhcmRzLmpzXCI7XHJcblxyXG5jb25zdCBwcm9maWxlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgcHJvZmlsZUZvcm0pO1xyXG5jb25zdCBwb3N0Y2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIHBvc3RjYXJkRm9ybSk7XHJcbmNvbnN0IGF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIHVwZGF0ZUF2YXRhckZvcm0pO1xyXG5cclxucHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5wb3N0Y2FyZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5hdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKGJhc2VVcmwsIGhlYWRlcnMpO1xyXG5cclxuLy8gQW4gSW5zdGFudCBvZiBVc2VyIEluZm9cclxuY29uc3QgbmV3VXNlciA9IG5ldyBVc2VySW5mbyh7XHJcbiAgdXNlck5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fbmFtZVwiLFxyXG4gIHVzZXJKb2JTZWxlY3RvcjogXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIixcclxuICB1c2VyQXZhdGFyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2ltYWdlXCIsXHJcbn0pO1xyXG5cclxuLy8gYXBpLmdldFVzZXJJbmZvKCkudGhlbigocmVzKSA9PiB7XHJcbi8vICAgbmV3VXNlci5zZXRVc2VySW5mbyhyZXMubmFtZSwgcmVzLmFib3V0KTtcclxuLy8gICBuZXdVc2VyLnNldFVzZXJBdmF0YXIocmVzLmF2YXRhcik7XHJcbi8vICAgbmV3VXNlci5zZXRVc2VySWQocmVzLl9pZCk7XHJcbi8vIH0pO1xyXG5cclxuLy8gYXBpLmdldEluaXRpYWxjYXJkcygpLnRoZW4oKCkgPT4ge1xyXG4vLyAgIGNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXHJcbi8vICAgICB7XHJcbi8vICAgICAgIC8vIGRhdGE6IHJlcyxcclxuLy8gICAgICAgcmVuZGVyZXI6IChkYXRhKSA9PiB7XHJcbi8vICAgICAgICAgY29uc3QgcG9zdGNhcmQgPSBjcmVhdGVDYXJkKGRhdGEpO1xyXG4vLyAgICAgICAgIGNhcmRMaXN0LnNldEl0ZW0ocG9zdGNhcmQpO1xyXG4vLyAgICAgICB9LFxyXG4vLyAgICAgfSxcclxuLy8gICAgIFwiLnBvc3RjYXJkc19fbGlzdFwiXHJcbi8vICAgKTtcclxuLy8gICBjYXJkTGlzdC5yZW5kZXIoKTtcclxuLy8gfSk7XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIC8vIHJlbmRlcmVyOiAoZGF0YSkgPT4ge1xyXG4gICAgLy8gICBjb25zdCBwb3N0Y2FyZCA9IGNyZWF0ZUNhcmQoZGF0YSk7XHJcbiAgICAvLyAgIGNhcmRMaXN0LnNldEl0ZW0ocG9zdGNhcmQpO1xyXG4gICAgLy8gfSxcclxuICAgIHJlbmRlcmVyOiByZWNpdGVDYXJkLFxyXG4gIH0sXHJcbiAgXCIucG9zdGNhcmRzX19saXN0XCJcclxuKTtcclxuLy8gY2FyZExpc3QucmVuZGVyKCk7XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuLyog4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgIC0tLS0tLSBJdCB0YWtlcyBhbiBpdGVyYWJsZSBvZiBQcm9taXNlcyBhcyBhbiBpbnB1dCwgYW5kIHJldHVybnMgYSAtLS0tLS0tLS1cclxuICAgLSBzaW5nbGUgUHJvbWlzZSB3aGljaCByZXNvbHZlcyB0byBhbiBhcnJheSBvZiB0aGUgaW5wdXQgUHJvbWlzZXMgcmVzdWx0IC0tLVxyXG4gICDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgKi9cclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbGNhcmRzKCldKVxyXG4gIC50aGVuKChbdXNlckRhdGEsIGNhcmRzRGF0YV0pID0+IHtcclxuICAgIG5ld1VzZXIuc2V0VXNlckluZm8odXNlckRhdGEubmFtZSwgdXNlckRhdGEuYWJvdXQpO1xyXG4gICAgbmV3VXNlci5zZXRVc2VyQXZhdGFyKHVzZXJEYXRhLmF2YXRhcik7XHJcbiAgICBuZXdVc2VyLnNldFVzZXJJZCh1c2VyRGF0YS5faWQpO1xyXG4gICAgY2FyZExpc3QucmVuZGVyKGNhcmRzRGF0YSk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuLy8g4pSA4pSA4pSA4pSA4pSAIEdlbmVyYXRlIENhcmQg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSkge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgIGRhdGEsXHJcbiAgICB0ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3IsXHJcbiAgICB7XHJcbiAgICAgIGhhbmRsZUNhcmRDbGljazogKCkgPT4ge1xyXG4gICAgICAgIGltYWdlUG9wdXAub3BlbihkYXRhLmxpbmssIGRhdGEubmFtZSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGhhbmRsZVJlbW92ZUNhcmQ6ICh7IGlkIH0pID0+IHtcclxuICAgICAgICByZW1vdmVJbWFnZVBvcHVwLm9wZW4oKTtcclxuXHJcbiAgICAgICAgcmVtb3ZlSW1hZ2VQb3B1cC5zZXRTdWJtaXRBY3Rpb24oKCkgPT4ge1xyXG4gICAgICAgICAgYXBpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDYXJkKGlkKVxyXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJwb3N0Y2FyZCBpcyByZW1vdmVkXCIsIHJlcyk7XHJcbiAgICAgICAgICAgICAgY2FyZC5zZXRSZW1vdmVDYXJkKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInBvc3RjYXJkIHdhcyByZW1vdmVkIGJ5IHRoZSBzZXJ2ZXJcIik7XHJcbiAgICAgICAgICAgICAgcmVtb3ZlSW1hZ2VQb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGhhbmRsZUxpa2VDYXJkOiAoY2FyZElkLCBpc0l0TGlrZWQpID0+IGFwaS5jYXJkTGlrZShjYXJkSWQsIGlzSXRMaWtlZCksXHJcblxyXG4gICAgICAvLyBoYW5kbGVMaWtlQ2FyZDogKCkgPT4ge30sXHJcbiAgICB9LFxyXG4gICAgbmV3VXNlci5nZXRVc2VySWQoKVxyXG4gICk7XHJcbiAgLy8gY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG5cclxuICAvLyByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgcmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbn1cclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vLyBSZWNpdGluZyB0aGUgUG9zdGNhcmQgb24gdGhlIFBhZ2VcclxuZnVuY3Rpb24gcmVjaXRlQ2FyZChkYXRhKSB7XHJcbiAgY29uc3QgcG9zdGNhcmQgPSBjcmVhdGVDYXJkKGRhdGEpO1xyXG4gIGNhcmRMaXN0LnNldEl0ZW0ocG9zdGNhcmQpO1xyXG59XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSAIEFkZCBQb3N0Y2FyZCBNb2RhbCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuY29uc3QgYWRkUG9zdGNhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIucG9wdXBfdHlwZV9hZGQtcG9zdGNhcmRcIixcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoZGF0YSkgPT4ge1xyXG4gICAgYXBpXHJcbiAgICAgIC5hZGRDYXJkKGRhdGEpXHJcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbmV3UG9zdGNhcmQgPSBjcmVhdGVDYXJkKGRhdGEpO1xyXG4gICAgICAgIGNhcmRMaXN0LmFkZEl0ZW0obmV3UG9zdGNhcmQpO1xyXG4gICAgICAgIGFkZFBvc3RjYXJkLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICB9LFxyXG59KTtcclxuLy8gYWRkUG9zdGNhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vLyDilIDilIDilIDilIDilIAgRWRpdCBQcm9maWxlIE1vZGFsIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5jb25zdCBlZGl0UHJvZmlsZU1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiLnBvcHVwX3R5cGVfZWRpdC1wcm9maWxlXCIsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcclxuICAgIGFwaVxyXG4gICAgICAuc2V0VXNlckluZm8oeyBuYW1lOiBkYXRhLnVzZXJuYW1lLCBhYm91dDogZGF0YS51c2Vyam9iIH0pXHJcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgbmV3VXNlci5zZXRVc2VySW5mbyhkYXRhLm5hbWUsIGRhdGEuYWJvdXQpO1xyXG4gICAgICAgIGVkaXRQcm9maWxlTW9kYWwuY2xvc2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gIH0sXHJcbn0pO1xyXG4vLyBlZGl0UHJvZmlsZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cF90eXBlX2ltYWdlLWV4XCIpO1xyXG4vLyBpbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCByZW1vdmVJbWFnZVBvcHVwID0gbmV3IFBvcHVwUmVtb3ZlSW1hZ2Uoe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiLnBvcHVwX3R5cGVfcmVtb3ZlLXBvc3RjYXJkXCIsXHJcbiAgLy8gaGFuZGxlRm9ybVN1Ym1pdDogKCkgPT4ge30sXHJcbn0pO1xyXG4vLyByZW1vdmVJbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5cclxuY29uc3QgdXBkYXRlQXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIucG9wdXBfdHlwZV9hdmF0YXItdXBkYXRlXCIsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcclxuICAgIGFwaVxyXG4gICAgICAuc2V0VXNlckF2YXRhcihkYXRhLmxpbmspXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICB1cGRhdGVBdmF0YXJQb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgIG5ld1VzZXIuc2V0VXNlckF2YXRhcihyZXMuYXZhdGFyKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuLy8gdXBkYXRlQXZhdGFyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8qIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gICAtLS0tLS0tLS0tLS0tLS0tLS0tIEFkZGluZyB0aGUgTmVjZXNzYXJ5IEV2ZW50IExpc3RlbmVyczogLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCAqL1xyXG5lZGl0UHJvZmlsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IHsgdXNlck5hbWUsIHVzZXJKb2IgfSA9IG5ld1VzZXIuZ2V0VXNlckluZm8oKTtcclxuICBpbnB1dENhcmROYW1lLnZhbHVlID0gdXNlck5hbWU7XHJcbiAgaW5wdXRDYXJkVGl0bGUudmFsdWUgPSB1c2VySm9iO1xyXG5cclxuICBwcm9maWxlRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxuICBlZGl0UHJvZmlsZU1vZGFsLm9wZW4oKTtcclxufSk7XHJcblxyXG5hZGRQb3N0Y2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGFkZFBvc3RjYXJkLm9wZW4oKTtcclxuICBwb3N0Y2FyZEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcblxyXG4gIC8vIHBvc3RjYXJkRm9ybS5yZXNldCgpO1xyXG59KTtcclxuXHJcbmF2YXRhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHVwZGF0ZUF2YXRhclBvcHVwLm9wZW4oKTtcclxuICBhdmF0YXJGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59KTtcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoYmFzZVVybCwgaGVhZGVycykge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIF9yZXR1cm5SZXMocmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAvLyBjb25zdCBqc29uID0gcmVzLmpzb24oKTtcclxuICAgICAgLy8gY29uc29sZS5sb2coanNvbik7XHJcbiAgICAgIC8vIHJldHVybiBqc29uO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBBbiBlcnJvciBqdXN0IG9jY3VycmVkOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRJbml0aWFsY2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fcmV0dXJuUmVzKHJlcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3JldHVyblJlcyhyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGFib3V0IH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGFib3V0OiBhYm91dCxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3JldHVyblJlcyhyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VyQXZhdGFyKGxpbmspIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBsaW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fcmV0dXJuUmVzKHJlcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZENhcmQoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fcmV0dXJuUmVzKHJlcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3JldHVyblJlcyhyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjYXJkTGlrZShjYXJkSWQsIGlzSXRMaWtlZCkge1xyXG4gICAgbGV0IG1ldGhvZDtcclxuICAgIGlzSXRMaWtlZCA/IChtZXRob2QgPSBcIkRFTEVURVwiKSA6IChtZXRob2QgPSBcIlBVVFwiKTtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9yZXR1cm5SZXMocmVzKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCIvLyDilIDilIDilIDilIDilIDilIDilIDilIAgVXNlciBJbmZvIENsYXNzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyB1c2VyTmFtZVNlbGVjdG9yLCB1c2VySm9iU2VsZWN0b3IsIHVzZXJBdmF0YXJTZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fdXNlckpvYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJKb2JTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl91c2VyQXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckF2YXRhclNlbGVjdG9yKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgCBSZXR1cm5zIGFuIE9iamVjdCB3aXRoIFVzZXIgSW5mbyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHVzZXJOYW1lOiB0aGlzLl91c2VyTmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICAgIHVzZXJKb2I6IHRoaXMuX3VzZXJKb2JFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgfTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIGdldFVzZXJJZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl91c2VySWQ7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySWQodXNlcklkKSB7XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgfVxyXG5cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgc2V0VXNlckF2YXRhcihhdmF0YXIpIHtcclxuICAgIHRoaXMuX3VzZXJBdmF0YXJFbGVtZW50LnNyYyA9IGF2YXRhcjtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgCBBZGRpbmcgTmV3IFVzZXIgRGF0YSB0byBQYWdlIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIHNldFVzZXJJbmZvKHVzZXJuYW1lLCB1c2Vyam9iKSB7XHJcbiAgICAvLyBjb25zdCB7IHVzZXJuYW1lLCB1c2Vyam9iIH0gPSBkYXRhO1xyXG4gICAgdGhpcy5fdXNlck5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gdXNlcm5hbWU7XHJcbiAgICB0aGlzLl91c2VySm9iRWxlbWVudC50ZXh0Q29udGVudCA9IHVzZXJqb2I7XHJcbiAgfVxyXG59XHJcbiIsIi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBTZWN0aW9uIENsYXNzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICAvLyB0aGlzLl9yZW5kZXJlZEl0ZW1zID0gZGF0YTtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBSZWNpdGUgRWFjaCBFbGVtZW50IG9uIFBhZ2Ug4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgcmVuZGVyKGRhdGEpIHtcclxuICAgIGRhdGEuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSAIEFkZGluZyBET00gZWxlbWVudCB0byBDb250YWluZXIg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIHNldEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgUG9wdXAgSW1hZ2UgQ2xhc3Mg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fcG9wdXBDYXB0aW9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2FwdGlvblwiKTtcclxuICB9XHJcbiAgLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBQb3B1cCBJbWFnZSBEYXRhIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gIG9wZW4obGluaywgbmFtZSkge1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSBgQSBjb2xvcmZ1bCBhbmQgbWFnbmlmaWNlbnQgdmlldyBvZiAke25hbWV9YDtcclxuICAgIHRoaXMuX3BvcHVwQ2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG4gIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSAIFBvcHVwIEZvciBSZW1vdmUgUG9zdGNhcmQgQ2xhc3NzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFJlbW92ZUltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnNTdWJtaXQoKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIHNldFN1Ym1pdEFjdGlvbihhY3Rpb24pIHtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBhY3Rpb247XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnNTdWJtaXQoKSB7XHJcbiAgICAvLyBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImNvbmZpZyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwicHJvZmlsZUZvcm0iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9maWxlIiwiZWRpdFByb2ZpbGVCdXR0b24iLCJhZGRQb3N0Y2FyZEJ1dHRvbiIsImNhcmRGb3JtIiwiaW5wdXRDYXJkTmFtZSIsImlucHV0Q2FyZFRpdGxlIiwicG9zdGNhcmRGb3JtIiwiYXZhdGFyIiwidXBkYXRlQXZhdGFyRm9ybSIsIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJ0ZW1wbGF0ZVBvc3RjYXJkU2VsZWN0b3IiLCJ1c2VySWQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVSZW1vdmVDYXJkIiwiaGFuZGxlTGlrZUNhcmQiLCJ0aGlzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX3VzZXJJZCIsIl9jYXJkSWQiLCJfaWQiLCJfb3duZXJJZCIsIm93bmVyIiwiX2xpa2VzIiwibGlrZXMiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZVJlbW92ZUNhcmQiLCJfaGFuZGxlTGlrZUNhcmQiLCJfdGVtcGxhdGVQb3N0Y2FyZFNlbGVjdG9yIiwiX2dldFRlbXBsYXRlIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9jYXJkQXR0cmlidXRlcyIsIl90aXRsZSIsIl9wb3N0Y2FyZExpc3RJdGVtIiwiX2ltZyIsIl9saWtlQnV0dG9uIiwiX2xpa2VCdXR0b25Db3VudGVyIiwiX3JlbW92ZUJ1dHRvbiIsIl90b2dnbGVMaWtlU3RhdGUiLCJzb21lIiwibGlrZSIsInRoZW4iLCJyZXMiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsIl9nZXRMaWtlc1F1YW50aXR5Iiwic2V0UmVtb3ZlQ2FyZCIsInJlbW92ZSIsIl9zZXRVc2VyTGlrZXMiLCJhZGQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwiaWQiLCJnZW5lcmF0ZUNhcmQiLCJzcmMiLCJhbHQiLCJzdHlsZSIsImRpc3BsYXkiLCJwb3B1cElzT3BlbmVkQ2xhc3MiLCJwb3B1cFNlbGVjdG9yIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJjb250YWlucyIsIl9wb3B1cCIsIl9jbG9zZUJ1dHRvbiIsIm9wZW4iLCJfaGFuZGxlRXNjQ2xvc2UiLCJfaGFuZGxlT3ZlcmxheUNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEZvcm0iLCJQb3B1cCIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2Zvcm0iLCJfaW5wdXRMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsIl9zZXRFdmVudExpc3RlbmVyc1N1Ym1pdCIsInJlc2V0IiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRWYWx1ZXMiLCJmb3JFYWNoIiwiaW5wdXQiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiZm9ybSIsIl9oYXNWYWxpZElucHV0IiwiX2Rpc2FibGVTdWJtaXRCdXR0b24iLCJfZW5hYmxlU3VibWl0QnV0dG9uIiwiX2NvbmZpZyIsIl90b2dnbGVCdXR0b24iLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX2J1dHRvbiIsIl9zaG93SW5wdXRFcnJvciIsImVycm9yTXNnIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJfaGlkZUlucHV0RXJyb3IiLCJ2YWxpZGl0eSIsInZhbGlkIiwiZGlzYWJsZWQiLCJyZXNldFZhbGlkYXRpb24iLCJlbmFibGVWYWxpZGF0aW9uIiwicHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwicG9zdGNhcmRGb3JtVmFsaWRhdG9yIiwiYXZhdGFyRm9ybVZhbGlkYXRvciIsImFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsIl9yZXR1cm5SZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0SW5pdGlhbGNhcmRzIiwiZmV0Y2giLCJtZXRob2QiLCJnZXRVc2VySW5mbyIsInNldFVzZXJJbmZvIiwiYWJvdXQiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInNldFVzZXJBdmF0YXIiLCJhZGRDYXJkIiwicmVtb3ZlQ2FyZCIsImNhcmRJZCIsImNhcmRMaWtlIiwiaXNJdExpa2VkIiwiYXV0aG9yaXphdGlvbiIsIm5ld1VzZXIiLCJ1c2VyTmFtZVNlbGVjdG9yIiwidXNlckpvYlNlbGVjdG9yIiwidXNlckF2YXRhclNlbGVjdG9yIiwiX3VzZXJOYW1lRWxlbWVudCIsIl91c2VySm9iRWxlbWVudCIsIl91c2VyQXZhdGFyRWxlbWVudCIsInVzZXJOYW1lIiwidXNlckpvYiIsImdldFVzZXJJZCIsInNldFVzZXJJZCIsInVzZXJuYW1lIiwidXNlcmpvYiIsImNhcmRMaXN0IiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXIiLCJpdGVtIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwic2V0SXRlbSIsImFwcGVuZCIsInBvc3RjYXJkIiwiY3JlYXRlQ2FyZCIsImNhcmQiLCJpbWFnZVBvcHVwIiwicmVtb3ZlSW1hZ2VQb3B1cCIsInNldFN1Ym1pdEFjdGlvbiIsImFsbCIsInVzZXJEYXRhIiwiY2FyZHNEYXRhIiwiYWRkUG9zdGNhcmQiLCJuZXdQb3N0Y2FyZCIsImVkaXRQcm9maWxlTW9kYWwiLCJfcG9wdXBJbWFnZSIsIl9wb3B1cENhcHRpb24iLCJhY3Rpb24iLCJ1cGRhdGVBdmF0YXJQb3B1cCJdLCJzb3VyY2VSb290IjoiIn0=